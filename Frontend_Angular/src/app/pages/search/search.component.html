<div class="search-container">
  <form [formGroup]="searchForm" class="search-form">
    <mat-form-field appearance="outline">
      <mat-label>Search</mat-label>
      <input matInput formControlName="searchTerm" placeholder="Search for projects or tasks">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Status</mat-label>
      <mat-select formControlName="status">
        <mat-option value="">All</mat-option>
        <mat-option *ngFor="let status of statusOptions" [value]="status">{{status}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Priority</mat-label>
      <mat-select formControlName="priority">
        <mat-option value="">All</mat-option>
        <mat-option *ngFor="let priority of priorityOptions" [value]="priority">{{priority}}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Type</mat-label>
      <mat-select formControlName="type">
        <mat-option value="">All</mat-option>
        <mat-option *ngFor="let type of typeOptions" [value]="type">{{type}}</mat-option>
      </mat-select>
    </mat-form-field>
  </form>

  <div class="search-results">
    <div *ngFor="let result of searchResults" class="search-result-item">
      <h3>{{result.name}}</h3>
      <p>{{result.description}}</p>
      <button mat-button color="primary" (click)="navigateToProject(result._id)" *ngIf="result.type === 'project'">View Project</button>
      <button mat-button color="primary" (click)="navigateToTask(result.projectId, result._id)" *ngIf="result.type === 'task'">View Task</button>
    </div>
  </div>
</div>
