import{a as yo,b as un,c as fn,d as Mi,e as jm,f as gn,g as Pi,h as _n,i as Co,j as Kr,k as Zr,l as Qr,m as ri,n as Gm,o as Be,p as tp,q as lc}from"./chunk-QIEKLVXF.js";import{a as Zt}from"./chunk-LSASUGUC.js";import{a as Ti,b as Ei,c as $m,d as qm,e as Xm,f as Jr,g as Km,h as Zm,i as Qm,j as Jm,k as ts}from"./chunk-EDQRG3JR.js";import{a as Yt,b as Ut,c as xe,d as re,e as Ne,f as Ym,g as Um,h as So,k as we,l as Ce,n as si,o as ze}from"./chunk-XB2NZQ2A.js";import{$ as Am,A as Hr,Aa as Da,B as ka,Ba as ai,C as Kt,Ca as Ii,Da as $r,E as wa,Ea as qr,F as bo,Fa as wo,G as rc,Ga as Hm,H as Wr,Ha as Wm,I as Mm,Ia as se,J as Dm,Ja as Xr,K as sc,Ka as bn,L as Im,La as vn,P as Si,T as Pm,U as ae,V as je,W as Lt,X as Tm,Y as Em,_ as Om,a as xm,ba as Yr,c as Wn,ca as Ur,d as Nr,ea as Rm,f as ya,fa as Gr,g as zr,ga as Lm,h as ac,i as _o,j as ym,k as pn,la as Ma,oa as Fm,p as Br,qa as Nm,r as km,ra as ye,s as wm,sa as zm,ta as Bm,v as Cm,w as Sm,wa as ke,xa as Di,y as Vr,ya as Vm,za as ko}from"./chunk-FZHPKERB.js";import{b as mm,c as pm,d as um,e as fm,f as gm,g as _m,h as jr,i as bm,j as go,k as vm,l as Wt,m as Ci,n as Fe}from"./chunk-7TL4XPSH.js";import{c as Ca,d as vo,f as Ki,g as Sa,i as xo}from"./chunk-EJJBCPAK.js";import{$ as Ge,$a as $e,$c as ct,Aa as Tr,Ab as ft,Ba as Er,Bb as yi,Ca as ga,Cc as ee,Da as _a,Db as Xi,Eb as im,Ec as St,F as Sr,Fa as ht,Fb as nm,Fc as ii,G as co,Ga as Ie,Gb as om,H as Hn,Hb as g,Ia as oe,Ib as _,Ja as Jl,Jb as Y,Jc as Fr,Kb as am,L as Yh,Lb as rm,N as Mr,Nb as K,Oa as ei,Ob as ic,Oc as ni,Q as Dr,Qb as N,R as fa,Sb as A,Tb as ki,Ub as ge,Vb as sm,Vc as ve,Wb as lm,Wc as Ht,Xb as xa,Xc as _t,Yb as qe,Z as ho,Zb as _e,Zc as hm,_ as Ir,_a as Or,_b as be,_c as oi,a as Le,aa as Uh,b as Vn,ba as Gh,bc as qt,c as jh,ca as $h,cb as w,cc as y,da as Zl,db as P,dc as J,e as Ax,ea as ue,eb as Zh,ec as U,f as Nh,fa as jt,fb as tc,fc as Ar,gb as Qh,gc as kt,h as vi,ha as Mt,hc as wt,ib as Jh,ic as Ct,j as Kl,ja as le,jb as tm,jc as Xt,ka as fe,kb as mo,kc as Q,la as qh,lb as em,lc as Rr,m as pt,ma as Xh,mc as uo,n as Cr,nb as ec,nc as fo,o as zh,oa as Z,oc as cm,pa as Nt,pb as ba,pc as nc,q as Bh,qa as Vt,qc as oc,r as Vh,ra as Kh,rb as ce,rc as de,sa as Ql,sc as mn,t as Hh,tc as wi,ua as Pr,ub as V,uc as dm,wa as fi,wb as va,x as Wh,xa as F,xb as Pe,ya as j,yb as D,za as xi,zb as po,zc as Lr}from"./chunk-CJYNM3Q3.js";var Wd=Ax((Hd,na)=>{"use strict";(function(n,e){typeof Hd=="object"&&typeof na<"u"?na.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(Hd,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(l){n=l}function i(l){return l instanceof Array||Object.prototype.toString.call(l)==="[object Array]"}function o(l){return l!=null&&Object.prototype.toString.call(l)==="[object Object]"}function a(l,d){return Object.prototype.hasOwnProperty.call(l,d)}function r(l){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(l).length===0;var d;for(d in l)if(a(l,d))return!1;return!0}function s(l){return l===void 0}function c(l){return typeof l=="number"||Object.prototype.toString.call(l)==="[object Number]"}function h(l){return l instanceof Date||Object.prototype.toString.call(l)==="[object Date]"}function p(l,d){var m=[],u,b=l.length;for(u=0;u<b;++u)m.push(d(l[u],u));return m}function f(l,d){for(var m in d)a(d,m)&&(l[m]=d[m]);return a(d,"toString")&&(l.toString=d.toString),a(d,"valueOf")&&(l.valueOf=d.valueOf),l}function v(l,d,m,u){return uh(l,d,m,u,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(l){return l._pf==null&&(l._pf=k()),l._pf}var C;Array.prototype.some?C=Array.prototype.some:C=function(l){var d=Object(this),m=d.length>>>0,u;for(u=0;u<m;u++)if(u in d&&l.call(this,d[u],u,d))return!0;return!1};function M(l){var d=null,m=!1,u=l._d&&!isNaN(l._d.getTime());if(u&&(d=x(l),m=C.call(d.parsedDateParts,function(b){return b!=null}),u=d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&m),l._strict&&(u=u&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(l))l._isValid=u;else return u;return l._isValid}function I(l){var d=v(NaN);return l!=null?f(x(d),l):x(d).userInvalidated=!0,d}var E=e.momentProperties=[],L=!1;function R(l,d){var m,u,b,S=E.length;if(s(d._isAMomentObject)||(l._isAMomentObject=d._isAMomentObject),s(d._i)||(l._i=d._i),s(d._f)||(l._f=d._f),s(d._l)||(l._l=d._l),s(d._strict)||(l._strict=d._strict),s(d._tzm)||(l._tzm=d._tzm),s(d._isUTC)||(l._isUTC=d._isUTC),s(d._offset)||(l._offset=d._offset),s(d._pf)||(l._pf=x(d)),s(d._locale)||(l._locale=d._locale),S>0)for(m=0;m<S;m++)u=E[m],b=d[u],s(b)||(l[u]=b);return l}function O(l){R(this,l),this._d=new Date(l._d!=null?l._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),L===!1&&(L=!0,e.updateOffset(this),L=!1)}function z(l){return l instanceof O||l!=null&&l._isAMomentObject!=null}function H(l){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+l)}function W(l,d){var m=!0;return f(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,l),m){var u=[],b,S,T,G=arguments.length;for(S=0;S<G;S++){if(b="",typeof arguments[S]=="object"){b+=`
[`+S+"] ";for(T in arguments[0])a(arguments[0],T)&&(b+=T+": "+arguments[0][T]+", ");b=b.slice(0,-2)}else b=arguments[S];u.push(b)}H(l+`
Arguments: `+Array.prototype.slice.call(u).join("")+`
`+new Error().stack),m=!1}return d.apply(this,arguments)},d)}var q={};function at(l,d){e.deprecationHandler!=null&&e.deprecationHandler(l,d),q[l]||(H(d),q[l]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function it(l){return typeof Function<"u"&&l instanceof Function||Object.prototype.toString.call(l)==="[object Function]"}function rt(l){var d,m;for(m in l)a(l,m)&&(d=l[m],it(d)?this[m]=d:this["_"+m]=d);this._config=l,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function At(l,d){var m=f({},l),u;for(u in d)a(d,u)&&(o(l[u])&&o(d[u])?(m[u]={},f(m[u],l[u]),f(m[u],d[u])):d[u]!=null?m[u]=d[u]:delete m[u]);for(u in l)a(l,u)&&!a(d,u)&&o(l[u])&&(m[u]=f({},m[u]));return m}function Jt(l){l!=null&&this.set(l)}var tt;Object.keys?tt=Object.keys:tt=function(l){var d,m=[];for(d in l)a(l,d)&&m.push(d);return m};var Bt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ft(l,d,m){var u=this._calendar[l]||this._calendar.sameElse;return it(u)?u.call(d,m):u}function ne(l,d,m){var u=""+Math.abs(l),b=d-u.length,S=l>=0;return(S?m?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+u}var jn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,mi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sn={},Ye={};function X(l,d,m,u){var b=u;typeof u=="string"&&(b=function(){return this[u]()}),l&&(Ye[l]=b),d&&(Ye[d[0]]=function(){return ne(b.apply(this,arguments),d[1],d[2])}),m&&(Ye[m]=function(){return this.localeData().ordinal(b.apply(this,arguments),l)})}function oa(l){return l.match(/\[[\s\S]/)?l.replace(/^\[|\]$/g,""):l.replace(/\\/g,"")}function aa(l){var d=l.match(jn),m,u;for(m=0,u=d.length;m<u;m++)Ye[d[m]]?d[m]=Ye[d[m]]:d[m]=oa(d[m]);return function(b){var S="",T;for(T=0;T<u;T++)S+=it(d[T])?d[T].call(b,l):d[T];return S}}function ln(l,d){return l.isValid()?(d=Gd(d,l.localeData()),sn[d]=sn[d]||aa(d),sn[d](l)):l.localeData().invalidDate()}function Gd(l,d){var m=5;function u(b){return d.longDateFormat(b)||b}for(mi.lastIndex=0;m>=0&&mi.test(l);)l=l.replace(mi,u),mi.lastIndex=0,m-=1;return l}var B0={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function V0(l){var d=this._longDateFormat[l],m=this._longDateFormat[l.toUpperCase()];return d||!m?d:(this._longDateFormat[l]=m.match(jn).map(function(u){return u==="MMMM"||u==="MM"||u==="DD"||u==="dddd"?u.slice(1):u}).join(""),this._longDateFormat[l])}var H0="Invalid date";function W0(){return this._invalidDate}var Y0="%d",U0=/\d{1,2}/;function G0(l){return this._ordinal.replace("%d",l)}var $0={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function q0(l,d,m,u){var b=this._relativeTime[m];return it(b)?b(l,d,m,u):b.replace(/%d/i,l)}function X0(l,d){var m=this._relativeTime[l>0?"future":"past"];return it(m)?m(d):m.replace(/%s/i,d)}var $d={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Je(l){return typeof l=="string"?$d[l]||$d[l.toLowerCase()]:void 0}function Dl(l){var d={},m,u;for(u in l)a(l,u)&&(m=Je(u),m&&(d[m]=l[u]));return d}var K0={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Z0(l){var d=[],m;for(m in l)a(l,m)&&d.push({unit:m,priority:K0[m]});return d.sort(function(u,b){return u.priority-b.priority}),d}var qd=/\d/,Ue=/\d\d/,Xd=/\d{3}/,Il=/\d{4}/,rr=/[+-]?\d{6}/,Pt=/\d\d?/,Kd=/\d\d\d\d?/,Zd=/\d\d\d\d\d\d?/,sr=/\d{1,3}/,Pl=/\d{1,4}/,lr=/[+-]?\d{1,6}/,eo=/\d+/,cr=/[+-]?\d+/,Q0=/Z|[+-]\d\d:?\d\d/gi,dr=/Z|[+-]\d\d(?::?\d\d)?/gi,J0=/[+-]?\d+(\.\d{1,3})?/,ra=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,io=/^[1-9]\d?/,Tl=/^([1-9]\d|\d)/,hr;hr={};function $(l,d,m){hr[l]=it(d)?d:function(u,b){return u&&m?m:d}}function t_(l,d){return a(hr,l)?hr[l](d._strict,d._locale):new RegExp(e_(l))}function e_(l){return Bi(l.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,m,u,b,S){return m||u||b||S}))}function Bi(l){return l.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ti(l){return l<0?Math.ceil(l)||0:Math.floor(l)}function lt(l){var d=+l,m=0;return d!==0&&isFinite(d)&&(m=ti(d)),m}var El={};function yt(l,d){var m,u=d,b;for(typeof l=="string"&&(l=[l]),c(d)&&(u=function(S,T){T[d]=lt(S)}),b=l.length,m=0;m<b;m++)El[l[m]]=u}function sa(l,d){yt(l,function(m,u,b,S){b._w=b._w||{},d(m,b._w,b,S)})}function i_(l,d,m){d!=null&&a(El,l)&&El[l](d,m._a,m,l)}function mr(l){return l%4===0&&l%100!==0||l%400===0}var pe=0,Vi=1,bi=2,te=3,pi=4,Hi=5,Nn=6,n_=7,o_=8;X("Y",0,0,function(){var l=this.year();return l<=9999?ne(l,4):"+"+l}),X(0,["YY",2],0,function(){return this.year()%100}),X(0,["YYYY",4],0,"year"),X(0,["YYYYY",5],0,"year"),X(0,["YYYYYY",6,!0],0,"year"),$("Y",cr),$("YY",Pt,Ue),$("YYYY",Pl,Il),$("YYYYY",lr,rr),$("YYYYYY",lr,rr),yt(["YYYYY","YYYYYY"],pe),yt("YYYY",function(l,d){d[pe]=l.length===2?e.parseTwoDigitYear(l):lt(l)}),yt("YY",function(l,d){d[pe]=e.parseTwoDigitYear(l)}),yt("Y",function(l,d){d[pe]=parseInt(l,10)});function la(l){return mr(l)?366:365}e.parseTwoDigitYear=function(l){return lt(l)+(lt(l)>68?1900:2e3)};var Qd=no("FullYear",!0);function a_(){return mr(this.year())}function no(l,d){return function(m){return m!=null?(Jd(this,l,m),e.updateOffset(this,d),this):ca(this,l)}}function ca(l,d){if(!l.isValid())return NaN;var m=l._d,u=l._isUTC;switch(d){case"Milliseconds":return u?m.getUTCMilliseconds():m.getMilliseconds();case"Seconds":return u?m.getUTCSeconds():m.getSeconds();case"Minutes":return u?m.getUTCMinutes():m.getMinutes();case"Hours":return u?m.getUTCHours():m.getHours();case"Date":return u?m.getUTCDate():m.getDate();case"Day":return u?m.getUTCDay():m.getDay();case"Month":return u?m.getUTCMonth():m.getMonth();case"FullYear":return u?m.getUTCFullYear():m.getFullYear();default:return NaN}}function Jd(l,d,m){var u,b,S,T,G;if(!(!l.isValid()||isNaN(m))){switch(u=l._d,b=l._isUTC,d){case"Milliseconds":return void(b?u.setUTCMilliseconds(m):u.setMilliseconds(m));case"Seconds":return void(b?u.setUTCSeconds(m):u.setSeconds(m));case"Minutes":return void(b?u.setUTCMinutes(m):u.setMinutes(m));case"Hours":return void(b?u.setUTCHours(m):u.setHours(m));case"Date":return void(b?u.setUTCDate(m):u.setDate(m));case"FullYear":break;default:return}S=m,T=l.month(),G=l.date(),G=G===29&&T===1&&!mr(S)?28:G,b?u.setUTCFullYear(S,T,G):u.setFullYear(S,T,G)}}function r_(l){return l=Je(l),it(this[l])?this[l]():this}function s_(l,d){if(typeof l=="object"){l=Dl(l);var m=Z0(l),u,b=m.length;for(u=0;u<b;u++)this[m[u].unit](l[m[u].unit])}else if(l=Je(l),it(this[l]))return this[l](d);return this}function l_(l,d){return(l%d+d)%d}var $t;Array.prototype.indexOf?$t=Array.prototype.indexOf:$t=function(l){var d;for(d=0;d<this.length;++d)if(this[d]===l)return d;return-1};function Ol(l,d){if(isNaN(l)||isNaN(d))return NaN;var m=l_(d,12);return l+=(d-m)/12,m===1?mr(l)?29:28:31-m%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1}),X("MMM",0,0,function(l){return this.localeData().monthsShort(this,l)}),X("MMMM",0,0,function(l){return this.localeData().months(this,l)}),$("M",Pt,io),$("MM",Pt,Ue),$("MMM",function(l,d){return d.monthsShortRegex(l)}),$("MMMM",function(l,d){return d.monthsRegex(l)}),yt(["M","MM"],function(l,d){d[Vi]=lt(l)-1}),yt(["MMM","MMMM"],function(l,d,m,u){var b=m._locale.monthsParse(l,u,m._strict);b!=null?d[Vi]=b:x(m).invalidMonth=l});var c_="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),th="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),eh=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,d_=ra,h_=ra;function m_(l,d){return l?i(this._months)?this._months[l.month()]:this._months[(this._months.isFormat||eh).test(d)?"format":"standalone"][l.month()]:i(this._months)?this._months:this._months.standalone}function p_(l,d){return l?i(this._monthsShort)?this._monthsShort[l.month()]:this._monthsShort[eh.test(d)?"format":"standalone"][l.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function u_(l,d,m){var u,b,S,T=l.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;u<12;++u)S=v([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(S,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(S,"").toLocaleLowerCase();return m?d==="MMM"?(b=$t.call(this._shortMonthsParse,T),b!==-1?b:null):(b=$t.call(this._longMonthsParse,T),b!==-1?b:null):d==="MMM"?(b=$t.call(this._shortMonthsParse,T),b!==-1?b:(b=$t.call(this._longMonthsParse,T),b!==-1?b:null)):(b=$t.call(this._longMonthsParse,T),b!==-1?b:(b=$t.call(this._shortMonthsParse,T),b!==-1?b:null))}function f_(l,d,m){var u,b,S;if(this._monthsParseExact)return u_.call(this,l,d,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;u<12;u++){if(b=v([2e3,u]),m&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!m&&!this._monthsParse[u]&&(S="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[u]=new RegExp(S.replace(".",""),"i")),m&&d==="MMMM"&&this._longMonthsParse[u].test(l))return u;if(m&&d==="MMM"&&this._shortMonthsParse[u].test(l))return u;if(!m&&this._monthsParse[u].test(l))return u}}function ih(l,d){if(!l.isValid())return l;if(typeof d=="string"){if(/^\d+$/.test(d))d=lt(d);else if(d=l.localeData().monthsParse(d),!c(d))return l}var m=d,u=l.date();return u=u<29?u:Math.min(u,Ol(l.year(),m)),l._isUTC?l._d.setUTCMonth(m,u):l._d.setMonth(m,u),l}function nh(l){return l!=null?(ih(this,l),e.updateOffset(this,!0),this):ca(this,"Month")}function g_(){return Ol(this.year(),this.month())}function __(l){return this._monthsParseExact?(a(this,"_monthsRegex")||oh.call(this),l?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=d_),this._monthsShortStrictRegex&&l?this._monthsShortStrictRegex:this._monthsShortRegex)}function b_(l){return this._monthsParseExact?(a(this,"_monthsRegex")||oh.call(this),l?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=h_),this._monthsStrictRegex&&l?this._monthsStrictRegex:this._monthsRegex)}function oh(){function l(et,dt){return dt.length-et.length}var d=[],m=[],u=[],b,S,T,G;for(b=0;b<12;b++)S=v([2e3,b]),T=Bi(this.monthsShort(S,"")),G=Bi(this.months(S,"")),d.push(T),m.push(G),u.push(G),u.push(T);d.sort(l),m.sort(l),u.sort(l),this._monthsRegex=new RegExp("^("+u.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function v_(l,d,m,u,b,S,T){var G;return l<100&&l>=0?(G=new Date(l+400,d,m,u,b,S,T),isFinite(G.getFullYear())&&G.setFullYear(l)):G=new Date(l,d,m,u,b,S,T),G}function da(l){var d,m;return l<100&&l>=0?(m=Array.prototype.slice.call(arguments),m[0]=l+400,d=new Date(Date.UTC.apply(null,m)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(l)):d=new Date(Date.UTC.apply(null,arguments)),d}function pr(l,d,m){var u=7+d-m,b=(7+da(l,0,u).getUTCDay()-d)%7;return-b+u-1}function ah(l,d,m,u,b){var S=(7+m-u)%7,T=pr(l,u,b),G=1+7*(d-1)+S+T,et,dt;return G<=0?(et=l-1,dt=la(et)+G):G>la(l)?(et=l+1,dt=G-la(l)):(et=l,dt=G),{year:et,dayOfYear:dt}}function ha(l,d,m){var u=pr(l.year(),d,m),b=Math.floor((l.dayOfYear()-u-1)/7)+1,S,T;return b<1?(T=l.year()-1,S=b+Wi(T,d,m)):b>Wi(l.year(),d,m)?(S=b-Wi(l.year(),d,m),T=l.year()+1):(T=l.year(),S=b),{week:S,year:T}}function Wi(l,d,m){var u=pr(l,d,m),b=pr(l+1,d,m);return(la(l)-u+b)/7}X("w",["ww",2],"wo","week"),X("W",["WW",2],"Wo","isoWeek"),$("w",Pt,io),$("ww",Pt,Ue),$("W",Pt,io),$("WW",Pt,Ue),sa(["w","ww","W","WW"],function(l,d,m,u){d[u.substr(0,1)]=lt(l)});function x_(l){return ha(l,this._week.dow,this._week.doy).week}var y_={dow:0,doy:6};function k_(){return this._week.dow}function w_(){return this._week.doy}function C_(l){var d=this.localeData().week(this);return l==null?d:this.add((l-d)*7,"d")}function S_(l){var d=ha(this,1,4).week;return l==null?d:this.add((l-d)*7,"d")}X("d",0,"do","day"),X("dd",0,0,function(l){return this.localeData().weekdaysMin(this,l)}),X("ddd",0,0,function(l){return this.localeData().weekdaysShort(this,l)}),X("dddd",0,0,function(l){return this.localeData().weekdays(this,l)}),X("e",0,0,"weekday"),X("E",0,0,"isoWeekday"),$("d",Pt),$("e",Pt),$("E",Pt),$("dd",function(l,d){return d.weekdaysMinRegex(l)}),$("ddd",function(l,d){return d.weekdaysShortRegex(l)}),$("dddd",function(l,d){return d.weekdaysRegex(l)}),sa(["dd","ddd","dddd"],function(l,d,m,u){var b=m._locale.weekdaysParse(l,u,m._strict);b!=null?d.d=b:x(m).invalidWeekday=l}),sa(["d","e","E"],function(l,d,m,u){d[u]=lt(l)});function M_(l,d){return typeof l!="string"?l:isNaN(l)?(l=d.weekdaysParse(l),typeof l=="number"?l:null):parseInt(l,10)}function D_(l,d){return typeof l=="string"?d.weekdaysParse(l)%7||7:isNaN(l)?null:l}function Al(l,d){return l.slice(d,7).concat(l.slice(0,d))}var I_="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rh="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),P_="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),T_=ra,E_=ra,O_=ra;function A_(l,d){var m=i(this._weekdays)?this._weekdays:this._weekdays[l&&l!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return l===!0?Al(m,this._week.dow):l?m[l.day()]:m}function R_(l){return l===!0?Al(this._weekdaysShort,this._week.dow):l?this._weekdaysShort[l.day()]:this._weekdaysShort}function L_(l){return l===!0?Al(this._weekdaysMin,this._week.dow):l?this._weekdaysMin[l.day()]:this._weekdaysMin}function F_(l,d,m){var u,b,S,T=l.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],u=0;u<7;++u)S=v([2e3,1]).day(u),this._minWeekdaysParse[u]=this.weekdaysMin(S,"").toLocaleLowerCase(),this._shortWeekdaysParse[u]=this.weekdaysShort(S,"").toLocaleLowerCase(),this._weekdaysParse[u]=this.weekdays(S,"").toLocaleLowerCase();return m?d==="dddd"?(b=$t.call(this._weekdaysParse,T),b!==-1?b:null):d==="ddd"?(b=$t.call(this._shortWeekdaysParse,T),b!==-1?b:null):(b=$t.call(this._minWeekdaysParse,T),b!==-1?b:null):d==="dddd"?(b=$t.call(this._weekdaysParse,T),b!==-1||(b=$t.call(this._shortWeekdaysParse,T),b!==-1)?b:(b=$t.call(this._minWeekdaysParse,T),b!==-1?b:null)):d==="ddd"?(b=$t.call(this._shortWeekdaysParse,T),b!==-1||(b=$t.call(this._weekdaysParse,T),b!==-1)?b:(b=$t.call(this._minWeekdaysParse,T),b!==-1?b:null)):(b=$t.call(this._minWeekdaysParse,T),b!==-1||(b=$t.call(this._weekdaysParse,T),b!==-1)?b:(b=$t.call(this._shortWeekdaysParse,T),b!==-1?b:null))}function j_(l,d,m){var u,b,S;if(this._weekdaysParseExact)return F_.call(this,l,d,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),u=0;u<7;u++){if(b=v([2e3,1]).day(u),m&&!this._fullWeekdaysParse[u]&&(this._fullWeekdaysParse[u]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[u]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[u]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[u]||(S="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[u]=new RegExp(S.replace(".",""),"i")),m&&d==="dddd"&&this._fullWeekdaysParse[u].test(l))return u;if(m&&d==="ddd"&&this._shortWeekdaysParse[u].test(l))return u;if(m&&d==="dd"&&this._minWeekdaysParse[u].test(l))return u;if(!m&&this._weekdaysParse[u].test(l))return u}}function N_(l){if(!this.isValid())return l!=null?this:NaN;var d=ca(this,"Day");return l!=null?(l=M_(l,this.localeData()),this.add(l-d,"d")):d}function z_(l){if(!this.isValid())return l!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return l==null?d:this.add(l-d,"d")}function B_(l){if(!this.isValid())return l!=null?this:NaN;if(l!=null){var d=D_(l,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function V_(l){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Rl.call(this),l?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=T_),this._weekdaysStrictRegex&&l?this._weekdaysStrictRegex:this._weekdaysRegex)}function H_(l){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Rl.call(this),l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=E_),this._weekdaysShortStrictRegex&&l?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function W_(l){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Rl.call(this),l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=O_),this._weekdaysMinStrictRegex&&l?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Rl(){function l(De,qi){return qi.length-De.length}var d=[],m=[],u=[],b=[],S,T,G,et,dt;for(S=0;S<7;S++)T=v([2e3,1]).day(S),G=Bi(this.weekdaysMin(T,"")),et=Bi(this.weekdaysShort(T,"")),dt=Bi(this.weekdays(T,"")),d.push(G),m.push(et),u.push(dt),b.push(G),b.push(et),b.push(dt);d.sort(l),m.sort(l),u.sort(l),b.sort(l),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Ll(){return this.hours()%12||12}function Y_(){return this.hours()||24}X("H",["HH",2],0,"hour"),X("h",["hh",2],0,Ll),X("k",["kk",2],0,Y_),X("hmm",0,0,function(){return""+Ll.apply(this)+ne(this.minutes(),2)}),X("hmmss",0,0,function(){return""+Ll.apply(this)+ne(this.minutes(),2)+ne(this.seconds(),2)}),X("Hmm",0,0,function(){return""+this.hours()+ne(this.minutes(),2)}),X("Hmmss",0,0,function(){return""+this.hours()+ne(this.minutes(),2)+ne(this.seconds(),2)});function sh(l,d){X(l,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}sh("a",!0),sh("A",!1);function lh(l,d){return d._meridiemParse}$("a",lh),$("A",lh),$("H",Pt,Tl),$("h",Pt,io),$("k",Pt,io),$("HH",Pt,Ue),$("hh",Pt,Ue),$("kk",Pt,Ue),$("hmm",Kd),$("hmmss",Zd),$("Hmm",Kd),$("Hmmss",Zd),yt(["H","HH"],te),yt(["k","kk"],function(l,d,m){var u=lt(l);d[te]=u===24?0:u}),yt(["a","A"],function(l,d,m){m._isPm=m._locale.isPM(l),m._meridiem=l}),yt(["h","hh"],function(l,d,m){d[te]=lt(l),x(m).bigHour=!0}),yt("hmm",function(l,d,m){var u=l.length-2;d[te]=lt(l.substr(0,u)),d[pi]=lt(l.substr(u)),x(m).bigHour=!0}),yt("hmmss",function(l,d,m){var u=l.length-4,b=l.length-2;d[te]=lt(l.substr(0,u)),d[pi]=lt(l.substr(u,2)),d[Hi]=lt(l.substr(b)),x(m).bigHour=!0}),yt("Hmm",function(l,d,m){var u=l.length-2;d[te]=lt(l.substr(0,u)),d[pi]=lt(l.substr(u))}),yt("Hmmss",function(l,d,m){var u=l.length-4,b=l.length-2;d[te]=lt(l.substr(0,u)),d[pi]=lt(l.substr(u,2)),d[Hi]=lt(l.substr(b))});function U_(l){return(l+"").toLowerCase().charAt(0)==="p"}var G_=/[ap]\.?m?\.?/i,$_=no("Hours",!0);function q_(l,d,m){return l>11?m?"pm":"PM":m?"am":"AM"}var ch={calendar:Bt,longDateFormat:B0,invalidDate:H0,ordinal:Y0,dayOfMonthOrdinalParse:U0,relativeTime:$0,months:c_,monthsShort:th,week:y_,weekdays:I_,weekdaysMin:P_,weekdaysShort:rh,meridiemParse:G_},Rt={},ma={},pa;function X_(l,d){var m,u=Math.min(l.length,d.length);for(m=0;m<u;m+=1)if(l[m]!==d[m])return m;return u}function dh(l){return l&&l.toLowerCase().replace("_","-")}function K_(l){for(var d=0,m,u,b,S;d<l.length;){for(S=dh(l[d]).split("-"),m=S.length,u=dh(l[d+1]),u=u?u.split("-"):null;m>0;){if(b=ur(S.slice(0,m).join("-")),b)return b;if(u&&u.length>=m&&X_(S,u)>=m-1)break;m--}d++}return pa}function Z_(l){return!!(l&&l.match("^[^/\\\\]*$"))}function ur(l){var d=null,m;if(Rt[l]===void 0&&typeof na<"u"&&na&&na.exports&&Z_(l))try{d=pa._abbr,m=jh,m("./locale/"+l),cn(d)}catch{Rt[l]=null}return Rt[l]}function cn(l,d){var m;return l&&(s(d)?m=Yi(l):m=Fl(l,d),m?pa=m:typeof console<"u"&&console.warn&&console.warn("Locale "+l+" not found. Did you forget to load it?")),pa._abbr}function Fl(l,d){if(d!==null){var m,u=ch;if(d.abbr=l,Rt[l]!=null)at("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),u=Rt[l]._config;else if(d.parentLocale!=null)if(Rt[d.parentLocale]!=null)u=Rt[d.parentLocale]._config;else if(m=ur(d.parentLocale),m!=null)u=m._config;else return ma[d.parentLocale]||(ma[d.parentLocale]=[]),ma[d.parentLocale].push({name:l,config:d}),null;return Rt[l]=new Jt(At(u,d)),ma[l]&&ma[l].forEach(function(b){Fl(b.name,b.config)}),cn(l),Rt[l]}else return delete Rt[l],null}function Q_(l,d){if(d!=null){var m,u,b=ch;Rt[l]!=null&&Rt[l].parentLocale!=null?Rt[l].set(At(Rt[l]._config,d)):(u=ur(l),u!=null&&(b=u._config),d=At(b,d),u==null&&(d.abbr=l),m=new Jt(d),m.parentLocale=Rt[l],Rt[l]=m),cn(l)}else Rt[l]!=null&&(Rt[l].parentLocale!=null?(Rt[l]=Rt[l].parentLocale,l===cn()&&cn(l)):Rt[l]!=null&&delete Rt[l]);return Rt[l]}function Yi(l){var d;if(l&&l._locale&&l._locale._abbr&&(l=l._locale._abbr),!l)return pa;if(!i(l)){if(d=ur(l),d)return d;l=[l]}return K_(l)}function J_(){return tt(Rt)}function jl(l){var d,m=l._a;return m&&x(l).overflow===-2&&(d=m[Vi]<0||m[Vi]>11?Vi:m[bi]<1||m[bi]>Ol(m[pe],m[Vi])?bi:m[te]<0||m[te]>24||m[te]===24&&(m[pi]!==0||m[Hi]!==0||m[Nn]!==0)?te:m[pi]<0||m[pi]>59?pi:m[Hi]<0||m[Hi]>59?Hi:m[Nn]<0||m[Nn]>999?Nn:-1,x(l)._overflowDayOfYear&&(d<pe||d>bi)&&(d=bi),x(l)._overflowWeeks&&d===-1&&(d=n_),x(l)._overflowWeekday&&d===-1&&(d=o_),x(l).overflow=d),l}var tb=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eb=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ib=/Z|[+-]\d\d(?::?\d\d)?/,fr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Nl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nb=/^\/?Date\((-?\d+)/i,ob=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ab={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function hh(l){var d,m,u=l._i,b=tb.exec(u)||eb.exec(u),S,T,G,et,dt=fr.length,De=Nl.length;if(b){for(x(l).iso=!0,d=0,m=dt;d<m;d++)if(fr[d][1].exec(b[1])){T=fr[d][0],S=fr[d][2]!==!1;break}if(T==null){l._isValid=!1;return}if(b[3]){for(d=0,m=De;d<m;d++)if(Nl[d][1].exec(b[3])){G=(b[2]||" ")+Nl[d][0];break}if(G==null){l._isValid=!1;return}}if(!S&&G!=null){l._isValid=!1;return}if(b[4])if(ib.exec(b[4]))et="Z";else{l._isValid=!1;return}l._f=T+(G||"")+(et||""),Bl(l)}else l._isValid=!1}function rb(l,d,m,u,b,S){var T=[sb(l),th.indexOf(d),parseInt(m,10),parseInt(u,10),parseInt(b,10)];return S&&T.push(parseInt(S,10)),T}function sb(l){var d=parseInt(l,10);return d<=49?2e3+d:d<=999?1900+d:d}function lb(l){return l.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function cb(l,d,m){if(l){var u=rh.indexOf(l),b=new Date(d[0],d[1],d[2]).getDay();if(u!==b)return x(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function db(l,d,m){if(l)return ab[l];if(d)return 0;var u=parseInt(m,10),b=u%100,S=(u-b)/100;return S*60+b}function mh(l){var d=ob.exec(lb(l._i)),m;if(d){if(m=rb(d[4],d[3],d[2],d[5],d[6],d[7]),!cb(d[1],m,l))return;l._a=m,l._tzm=db(d[8],d[9],d[10]),l._d=da.apply(null,l._a),l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),x(l).rfc2822=!0}else l._isValid=!1}function hb(l){var d=nb.exec(l._i);if(d!==null){l._d=new Date(+d[1]);return}if(hh(l),l._isValid===!1)delete l._isValid;else return;if(mh(l),l._isValid===!1)delete l._isValid;else return;l._strict?l._isValid=!1:e.createFromInputFallback(l)}e.createFromInputFallback=W("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(l){l._d=new Date(l._i+(l._useUTC?" UTC":""))});function oo(l,d,m){return l??d??m}function mb(l){var d=new Date(e.now());return l._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function zl(l){var d,m,u=[],b,S,T;if(!l._d){for(b=mb(l),l._w&&l._a[bi]==null&&l._a[Vi]==null&&pb(l),l._dayOfYear!=null&&(T=oo(l._a[pe],b[pe]),(l._dayOfYear>la(T)||l._dayOfYear===0)&&(x(l)._overflowDayOfYear=!0),m=da(T,0,l._dayOfYear),l._a[Vi]=m.getUTCMonth(),l._a[bi]=m.getUTCDate()),d=0;d<3&&l._a[d]==null;++d)l._a[d]=u[d]=b[d];for(;d<7;d++)l._a[d]=u[d]=l._a[d]==null?d===2?1:0:l._a[d];l._a[te]===24&&l._a[pi]===0&&l._a[Hi]===0&&l._a[Nn]===0&&(l._nextDay=!0,l._a[te]=0),l._d=(l._useUTC?da:v_).apply(null,u),S=l._useUTC?l._d.getUTCDay():l._d.getDay(),l._tzm!=null&&l._d.setUTCMinutes(l._d.getUTCMinutes()-l._tzm),l._nextDay&&(l._a[te]=24),l._w&&typeof l._w.d<"u"&&l._w.d!==S&&(x(l).weekdayMismatch=!0)}}function pb(l){var d,m,u,b,S,T,G,et,dt;d=l._w,d.GG!=null||d.W!=null||d.E!=null?(S=1,T=4,m=oo(d.GG,l._a[pe],ha(Tt(),1,4).year),u=oo(d.W,1),b=oo(d.E,1),(b<1||b>7)&&(et=!0)):(S=l._locale._week.dow,T=l._locale._week.doy,dt=ha(Tt(),S,T),m=oo(d.gg,l._a[pe],dt.year),u=oo(d.w,dt.week),d.d!=null?(b=d.d,(b<0||b>6)&&(et=!0)):d.e!=null?(b=d.e+S,(d.e<0||d.e>6)&&(et=!0)):b=S),u<1||u>Wi(m,S,T)?x(l)._overflowWeeks=!0:et!=null?x(l)._overflowWeekday=!0:(G=ah(m,u,b,S,T),l._a[pe]=G.year,l._dayOfYear=G.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Bl(l){if(l._f===e.ISO_8601){hh(l);return}if(l._f===e.RFC_2822){mh(l);return}l._a=[],x(l).empty=!0;var d=""+l._i,m,u,b,S,T,G=d.length,et=0,dt,De;for(b=Gd(l._f,l._locale).match(jn)||[],De=b.length,m=0;m<De;m++)S=b[m],u=(d.match(t_(S,l))||[])[0],u&&(T=d.substr(0,d.indexOf(u)),T.length>0&&x(l).unusedInput.push(T),d=d.slice(d.indexOf(u)+u.length),et+=u.length),Ye[S]?(u?x(l).empty=!1:x(l).unusedTokens.push(S),i_(S,u,l)):l._strict&&!u&&x(l).unusedTokens.push(S);x(l).charsLeftOver=G-et,d.length>0&&x(l).unusedInput.push(d),l._a[te]<=12&&x(l).bigHour===!0&&l._a[te]>0&&(x(l).bigHour=void 0),x(l).parsedDateParts=l._a.slice(0),x(l).meridiem=l._meridiem,l._a[te]=ub(l._locale,l._a[te],l._meridiem),dt=x(l).era,dt!==null&&(l._a[pe]=l._locale.erasConvertYear(dt,l._a[pe])),zl(l),jl(l)}function ub(l,d,m){var u;return m==null?d:l.meridiemHour!=null?l.meridiemHour(d,m):(l.isPM!=null&&(u=l.isPM(m),u&&d<12&&(d+=12),!u&&d===12&&(d=0)),d)}function fb(l){var d,m,u,b,S,T,G=!1,et=l._f.length;if(et===0){x(l).invalidFormat=!0,l._d=new Date(NaN);return}for(b=0;b<et;b++)S=0,T=!1,d=R({},l),l._useUTC!=null&&(d._useUTC=l._useUTC),d._f=l._f[b],Bl(d),M(d)&&(T=!0),S+=x(d).charsLeftOver,S+=x(d).unusedTokens.length*10,x(d).score=S,G?S<u&&(u=S,m=d):(u==null||S<u||T)&&(u=S,m=d,T&&(G=!0));f(l,m||d)}function gb(l){if(!l._d){var d=Dl(l._i),m=d.day===void 0?d.date:d.day;l._a=p([d.year,d.month,m,d.hour,d.minute,d.second,d.millisecond],function(u){return u&&parseInt(u,10)}),zl(l)}}function _b(l){var d=new O(jl(ph(l)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function ph(l){var d=l._i,m=l._f;return l._locale=l._locale||Yi(l._l),d===null||m===void 0&&d===""?I({nullInput:!0}):(typeof d=="string"&&(l._i=d=l._locale.preparse(d)),z(d)?new O(jl(d)):(h(d)?l._d=d:i(m)?fb(l):m?Bl(l):bb(l),M(l)||(l._d=null),l))}function bb(l){var d=l._i;s(d)?l._d=new Date(e.now()):h(d)?l._d=new Date(d.valueOf()):typeof d=="string"?hb(l):i(d)?(l._a=p(d.slice(0),function(m){return parseInt(m,10)}),zl(l)):o(d)?gb(l):c(d)?l._d=new Date(d):e.createFromInputFallback(l)}function uh(l,d,m,u,b){var S={};return(d===!0||d===!1)&&(u=d,d=void 0),(m===!0||m===!1)&&(u=m,m=void 0),(o(l)&&r(l)||i(l)&&l.length===0)&&(l=void 0),S._isAMomentObject=!0,S._useUTC=S._isUTC=b,S._l=m,S._i=l,S._f=d,S._strict=u,_b(S)}function Tt(l,d,m,u){return uh(l,d,m,u,!1)}var vb=W("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Tt.apply(null,arguments);return this.isValid()&&l.isValid()?l<this?this:l:I()}),xb=W("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var l=Tt.apply(null,arguments);return this.isValid()&&l.isValid()?l>this?this:l:I()});function fh(l,d){var m,u;if(d.length===1&&i(d[0])&&(d=d[0]),!d.length)return Tt();for(m=d[0],u=1;u<d.length;++u)(!d[u].isValid()||d[u][l](m))&&(m=d[u]);return m}function yb(){var l=[].slice.call(arguments,0);return fh("isBefore",l)}function kb(){var l=[].slice.call(arguments,0);return fh("isAfter",l)}var wb=function(){return Date.now?Date.now():+new Date},ua=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Cb(l){var d,m=!1,u,b=ua.length;for(d in l)if(a(l,d)&&!($t.call(ua,d)!==-1&&(l[d]==null||!isNaN(l[d]))))return!1;for(u=0;u<b;++u)if(l[ua[u]]){if(m)return!1;parseFloat(l[ua[u]])!==lt(l[ua[u]])&&(m=!0)}return!0}function Sb(){return this._isValid}function Mb(){return ui(NaN)}function gr(l){var d=Dl(l),m=d.year||0,u=d.quarter||0,b=d.month||0,S=d.week||d.isoWeek||0,T=d.day||0,G=d.hour||0,et=d.minute||0,dt=d.second||0,De=d.millisecond||0;this._isValid=Cb(d),this._milliseconds=+De+dt*1e3+et*6e4+G*1e3*60*60,this._days=+T+S*7,this._months=+b+u*3+m*12,this._data={},this._locale=Yi(),this._bubble()}function _r(l){return l instanceof gr}function Vl(l){return l<0?Math.round(-1*l)*-1:Math.round(l)}function Db(l,d,m){var u=Math.min(l.length,d.length),b=Math.abs(l.length-d.length),S=0,T;for(T=0;T<u;T++)(m&&l[T]!==d[T]||!m&&lt(l[T])!==lt(d[T]))&&S++;return S+b}function gh(l,d){X(l,0,0,function(){var m=this.utcOffset(),u="+";return m<0&&(m=-m,u="-"),u+ne(~~(m/60),2)+d+ne(~~m%60,2)})}gh("Z",":"),gh("ZZ",""),$("Z",dr),$("ZZ",dr),yt(["Z","ZZ"],function(l,d,m){m._useUTC=!0,m._tzm=Hl(dr,l)});var Ib=/([\+\-]|\d\d)/gi;function Hl(l,d){var m=(d||"").match(l),u,b,S;return m===null?null:(u=m[m.length-1]||[],b=(u+"").match(Ib)||["-",0,0],S=+(b[1]*60)+lt(b[2]),S===0?0:b[0]==="+"?S:-S)}function Wl(l,d){var m,u;return d._isUTC?(m=d.clone(),u=(z(l)||h(l)?l.valueOf():Tt(l).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+u),e.updateOffset(m,!1),m):Tt(l).local()}function Yl(l){return-Math.round(l._d.getTimezoneOffset())}e.updateOffset=function(){};function Pb(l,d,m){var u=this._offset||0,b;if(!this.isValid())return l!=null?this:NaN;if(l!=null){if(typeof l=="string"){if(l=Hl(dr,l),l===null)return this}else Math.abs(l)<16&&!m&&(l=l*60);return!this._isUTC&&d&&(b=Yl(this)),this._offset=l,this._isUTC=!0,b!=null&&this.add(b,"m"),u!==l&&(!d||this._changeInProgress?xh(this,ui(l-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?u:Yl(this)}function Tb(l,d){return l!=null?(typeof l!="string"&&(l=-l),this.utcOffset(l,d),this):-this.utcOffset()}function Eb(l){return this.utcOffset(0,l)}function Ob(l){return this._isUTC&&(this.utcOffset(0,l),this._isUTC=!1,l&&this.subtract(Yl(this),"m")),this}function Ab(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var l=Hl(Q0,this._i);l!=null?this.utcOffset(l):this.utcOffset(0,!0)}return this}function Rb(l){return this.isValid()?(l=l?Tt(l).utcOffset():0,(this.utcOffset()-l)%60===0):!1}function Lb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Fb(){if(!s(this._isDSTShifted))return this._isDSTShifted;var l={},d;return R(l,this),l=ph(l),l._a?(d=l._isUTC?v(l._a):Tt(l._a),this._isDSTShifted=this.isValid()&&Db(l._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function jb(){return this.isValid()?!this._isUTC:!1}function Nb(){return this.isValid()?this._isUTC:!1}function _h(){return this.isValid()?this._isUTC&&this._offset===0:!1}var zb=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Bb=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ui(l,d){var m=l,u=null,b,S,T;return _r(l)?m={ms:l._milliseconds,d:l._days,M:l._months}:c(l)||!isNaN(+l)?(m={},d?m[d]=+l:m.milliseconds=+l):(u=zb.exec(l))?(b=u[1]==="-"?-1:1,m={y:0,d:lt(u[bi])*b,h:lt(u[te])*b,m:lt(u[pi])*b,s:lt(u[Hi])*b,ms:lt(Vl(u[Nn]*1e3))*b}):(u=Bb.exec(l))?(b=u[1]==="-"?-1:1,m={y:zn(u[2],b),M:zn(u[3],b),w:zn(u[4],b),d:zn(u[5],b),h:zn(u[6],b),m:zn(u[7],b),s:zn(u[8],b)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(T=Vb(Tt(m.from),Tt(m.to)),m={},m.ms=T.milliseconds,m.M=T.months),S=new gr(m),_r(l)&&a(l,"_locale")&&(S._locale=l._locale),_r(l)&&a(l,"_isValid")&&(S._isValid=l._isValid),S}ui.fn=gr.prototype,ui.invalid=Mb;function zn(l,d){var m=l&&parseFloat(l.replace(",","."));return(isNaN(m)?0:m)*d}function bh(l,d){var m={};return m.months=d.month()-l.month()+(d.year()-l.year())*12,l.clone().add(m.months,"M").isAfter(d)&&--m.months,m.milliseconds=+d-+l.clone().add(m.months,"M"),m}function Vb(l,d){var m;return l.isValid()&&d.isValid()?(d=Wl(d,l),l.isBefore(d)?m=bh(l,d):(m=bh(d,l),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function vh(l,d){return function(m,u){var b,S;return u!==null&&!isNaN(+u)&&(at(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),S=m,m=u,u=S),b=ui(m,u),xh(this,b,l),this}}function xh(l,d,m,u){var b=d._milliseconds,S=Vl(d._days),T=Vl(d._months);l.isValid()&&(u=u??!0,T&&ih(l,ca(l,"Month")+T*m),S&&Jd(l,"Date",ca(l,"Date")+S*m),b&&l._d.setTime(l._d.valueOf()+b*m),u&&e.updateOffset(l,S||T))}var Hb=vh(1,"add"),Wb=vh(-1,"subtract");function yh(l){return typeof l=="string"||l instanceof String}function Yb(l){return z(l)||h(l)||yh(l)||c(l)||Gb(l)||Ub(l)||l===null||l===void 0}function Ub(l){var d=o(l)&&!r(l),m=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,S,T=u.length;for(b=0;b<T;b+=1)S=u[b],m=m||a(l,S);return d&&m}function Gb(l){var d=i(l),m=!1;return d&&(m=l.filter(function(u){return!c(u)&&yh(l)}).length===0),d&&m}function $b(l){var d=o(l)&&!r(l),m=!1,u=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,S;for(b=0;b<u.length;b+=1)S=u[b],m=m||a(l,S);return d&&m}function qb(l,d){var m=l.diff(d,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function Xb(l,d){arguments.length===1&&(arguments[0]?Yb(arguments[0])?(l=arguments[0],d=void 0):$b(arguments[0])&&(d=arguments[0],l=void 0):(l=void 0,d=void 0));var m=l||Tt(),u=Wl(m,this).startOf("day"),b=e.calendarFormat(this,u)||"sameElse",S=d&&(it(d[b])?d[b].call(this,m):d[b]);return this.format(S||this.localeData().calendar(b,this,Tt(m)))}function Kb(){return new O(this)}function Zb(l,d){var m=z(l)?l:Tt(l);return this.isValid()&&m.isValid()?(d=Je(d)||"millisecond",d==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(d).valueOf()):!1}function Qb(l,d){var m=z(l)?l:Tt(l);return this.isValid()&&m.isValid()?(d=Je(d)||"millisecond",d==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(d).valueOf()<m.valueOf()):!1}function Jb(l,d,m,u){var b=z(l)?l:Tt(l),S=z(d)?d:Tt(d);return this.isValid()&&b.isValid()&&S.isValid()?(u=u||"()",(u[0]==="("?this.isAfter(b,m):!this.isBefore(b,m))&&(u[1]===")"?this.isBefore(S,m):!this.isAfter(S,m))):!1}function tv(l,d){var m=z(l)?l:Tt(l),u;return this.isValid()&&m.isValid()?(d=Je(d)||"millisecond",d==="millisecond"?this.valueOf()===m.valueOf():(u=m.valueOf(),this.clone().startOf(d).valueOf()<=u&&u<=this.clone().endOf(d).valueOf())):!1}function ev(l,d){return this.isSame(l,d)||this.isAfter(l,d)}function iv(l,d){return this.isSame(l,d)||this.isBefore(l,d)}function nv(l,d,m){var u,b,S;if(!this.isValid())return NaN;if(u=Wl(l,this),!u.isValid())return NaN;switch(b=(u.utcOffset()-this.utcOffset())*6e4,d=Je(d),d){case"year":S=br(this,u)/12;break;case"month":S=br(this,u);break;case"quarter":S=br(this,u)/3;break;case"second":S=(this-u)/1e3;break;case"minute":S=(this-u)/6e4;break;case"hour":S=(this-u)/36e5;break;case"day":S=(this-u-b)/864e5;break;case"week":S=(this-u-b)/6048e5;break;default:S=this-u}return m?S:ti(S)}function br(l,d){if(l.date()<d.date())return-br(d,l);var m=(d.year()-l.year())*12+(d.month()-l.month()),u=l.clone().add(m,"months"),b,S;return d-u<0?(b=l.clone().add(m-1,"months"),S=(d-u)/(u-b)):(b=l.clone().add(m+1,"months"),S=(d-u)/(b-u)),-(m+S)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ov(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function av(l){if(!this.isValid())return null;var d=l!==!0,m=d?this.clone().utc():this;return m.year()<0||m.year()>9999?ln(m,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):it(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ln(m,"Z")):ln(m,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function rv(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var l="moment",d="",m,u,b,S;return this.isLocal()||(l=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),m="["+l+'("]',u=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",S=d+'[")]',this.format(m+u+b+S)}function sv(l){l||(l=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var d=ln(this,l);return this.localeData().postformat(d)}function lv(l,d){return this.isValid()&&(z(l)&&l.isValid()||Tt(l).isValid())?ui({to:this,from:l}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function cv(l){return this.from(Tt(),l)}function dv(l,d){return this.isValid()&&(z(l)&&l.isValid()||Tt(l).isValid())?ui({from:this,to:l}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function hv(l){return this.to(Tt(),l)}function kh(l){var d;return l===void 0?this._locale._abbr:(d=Yi(l),d!=null&&(this._locale=d),this)}var wh=W("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(l){return l===void 0?this.localeData():this.locale(l)});function Ch(){return this._locale}var vr=1e3,ao=60*vr,xr=60*ao,Sh=(365*400+97)*24*xr;function ro(l,d){return(l%d+d)%d}function Mh(l,d,m){return l<100&&l>=0?new Date(l+400,d,m)-Sh:new Date(l,d,m).valueOf()}function Dh(l,d,m){return l<100&&l>=0?Date.UTC(l+400,d,m)-Sh:Date.UTC(l,d,m)}function mv(l){var d,m;if(l=Je(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Dh:Mh,l){case"year":d=m(this.year(),0,1);break;case"quarter":d=m(this.year(),this.month()-this.month()%3,1);break;case"month":d=m(this.year(),this.month(),1);break;case"week":d=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=m(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=ro(d+(this._isUTC?0:this.utcOffset()*ao),xr);break;case"minute":d=this._d.valueOf(),d-=ro(d,ao);break;case"second":d=this._d.valueOf(),d-=ro(d,vr);break}return this._d.setTime(d),e.updateOffset(this,!0),this}function pv(l){var d,m;if(l=Je(l),l===void 0||l==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Dh:Mh,l){case"year":d=m(this.year()+1,0,1)-1;break;case"quarter":d=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=m(this.year(),this.month()+1,1)-1;break;case"week":d=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=xr-ro(d+(this._isUTC?0:this.utcOffset()*ao),xr)-1;break;case"minute":d=this._d.valueOf(),d+=ao-ro(d,ao)-1;break;case"second":d=this._d.valueOf(),d+=vr-ro(d,vr)-1;break}return this._d.setTime(d),e.updateOffset(this,!0),this}function uv(){return this._d.valueOf()-(this._offset||0)*6e4}function fv(){return Math.floor(this.valueOf()/1e3)}function gv(){return new Date(this.valueOf())}function _v(){var l=this;return[l.year(),l.month(),l.date(),l.hour(),l.minute(),l.second(),l.millisecond()]}function bv(){var l=this;return{years:l.year(),months:l.month(),date:l.date(),hours:l.hours(),minutes:l.minutes(),seconds:l.seconds(),milliseconds:l.milliseconds()}}function vv(){return this.isValid()?this.toISOString():null}function xv(){return M(this)}function yv(){return f({},x(this))}function kv(){return x(this).overflow}function wv(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr"),X("NN",0,0,"eraAbbr"),X("NNN",0,0,"eraAbbr"),X("NNNN",0,0,"eraName"),X("NNNNN",0,0,"eraNarrow"),X("y",["y",1],"yo","eraYear"),X("y",["yy",2],0,"eraYear"),X("y",["yyy",3],0,"eraYear"),X("y",["yyyy",4],0,"eraYear"),$("N",Ul),$("NN",Ul),$("NNN",Ul),$("NNNN",Rv),$("NNNNN",Lv),yt(["N","NN","NNN","NNNN","NNNNN"],function(l,d,m,u){var b=m._locale.erasParse(l,u,m._strict);b?x(m).era=b:x(m).invalidEra=l}),$("y",eo),$("yy",eo),$("yyy",eo),$("yyyy",eo),$("yo",Fv),yt(["y","yy","yyy","yyyy"],pe),yt(["yo"],function(l,d,m,u){var b;m._locale._eraYearOrdinalRegex&&(b=l.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?d[pe]=m._locale.eraYearOrdinalParse(l,b):d[pe]=parseInt(l,10)});function Cv(l,d){var m,u,b,S=this._eras||Yi("en")._eras;for(m=0,u=S.length;m<u;++m){switch(typeof S[m].since){case"string":b=e(S[m].since).startOf("day"),S[m].since=b.valueOf();break}switch(typeof S[m].until){case"undefined":S[m].until=1/0;break;case"string":b=e(S[m].until).startOf("day").valueOf(),S[m].until=b.valueOf();break}}return S}function Sv(l,d,m){var u,b,S=this.eras(),T,G,et;for(l=l.toUpperCase(),u=0,b=S.length;u<b;++u)if(T=S[u].name.toUpperCase(),G=S[u].abbr.toUpperCase(),et=S[u].narrow.toUpperCase(),m)switch(d){case"N":case"NN":case"NNN":if(G===l)return S[u];break;case"NNNN":if(T===l)return S[u];break;case"NNNNN":if(et===l)return S[u];break}else if([T,G,et].indexOf(l)>=0)return S[u]}function Mv(l,d){var m=l.since<=l.until?1:-1;return d===void 0?e(l.since).year():e(l.since).year()+(d-l.offset)*m}function Dv(){var l,d,m,u=this.localeData().eras();for(l=0,d=u.length;l<d;++l)if(m=this.clone().startOf("day").valueOf(),u[l].since<=m&&m<=u[l].until||u[l].until<=m&&m<=u[l].since)return u[l].name;return""}function Iv(){var l,d,m,u=this.localeData().eras();for(l=0,d=u.length;l<d;++l)if(m=this.clone().startOf("day").valueOf(),u[l].since<=m&&m<=u[l].until||u[l].until<=m&&m<=u[l].since)return u[l].narrow;return""}function Pv(){var l,d,m,u=this.localeData().eras();for(l=0,d=u.length;l<d;++l)if(m=this.clone().startOf("day").valueOf(),u[l].since<=m&&m<=u[l].until||u[l].until<=m&&m<=u[l].since)return u[l].abbr;return""}function Tv(){var l,d,m,u,b=this.localeData().eras();for(l=0,d=b.length;l<d;++l)if(m=b[l].since<=b[l].until?1:-1,u=this.clone().startOf("day").valueOf(),b[l].since<=u&&u<=b[l].until||b[l].until<=u&&u<=b[l].since)return(this.year()-e(b[l].since).year())*m+b[l].offset;return this.year()}function Ev(l){return a(this,"_erasNameRegex")||Gl.call(this),l?this._erasNameRegex:this._erasRegex}function Ov(l){return a(this,"_erasAbbrRegex")||Gl.call(this),l?this._erasAbbrRegex:this._erasRegex}function Av(l){return a(this,"_erasNarrowRegex")||Gl.call(this),l?this._erasNarrowRegex:this._erasRegex}function Ul(l,d){return d.erasAbbrRegex(l)}function Rv(l,d){return d.erasNameRegex(l)}function Lv(l,d){return d.erasNarrowRegex(l)}function Fv(l,d){return d._eraYearOrdinalRegex||eo}function Gl(){var l=[],d=[],m=[],u=[],b,S,T,G,et,dt=this.eras();for(b=0,S=dt.length;b<S;++b)T=Bi(dt[b].name),G=Bi(dt[b].abbr),et=Bi(dt[b].narrow),d.push(T),l.push(G),m.push(et),u.push(T),u.push(G),u.push(et);this._erasRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100}),X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function yr(l,d){X(0,[l,l.length],0,d)}yr("gggg","weekYear"),yr("ggggg","weekYear"),yr("GGGG","isoWeekYear"),yr("GGGGG","isoWeekYear"),$("G",cr),$("g",cr),$("GG",Pt,Ue),$("gg",Pt,Ue),$("GGGG",Pl,Il),$("gggg",Pl,Il),$("GGGGG",lr,rr),$("ggggg",lr,rr),sa(["gggg","ggggg","GGGG","GGGGG"],function(l,d,m,u){d[u.substr(0,2)]=lt(l)}),sa(["gg","GG"],function(l,d,m,u){d[u]=e.parseTwoDigitYear(l)});function jv(l){return Ih.call(this,l,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Nv(l){return Ih.call(this,l,this.isoWeek(),this.isoWeekday(),1,4)}function zv(){return Wi(this.year(),1,4)}function Bv(){return Wi(this.isoWeekYear(),1,4)}function Vv(){var l=this.localeData()._week;return Wi(this.year(),l.dow,l.doy)}function Hv(){var l=this.localeData()._week;return Wi(this.weekYear(),l.dow,l.doy)}function Ih(l,d,m,u,b){var S;return l==null?ha(this,u,b).year:(S=Wi(l,u,b),d>S&&(d=S),Wv.call(this,l,d,m,u,b))}function Wv(l,d,m,u,b){var S=ah(l,d,m,u,b),T=da(S.year,0,S.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}X("Q",0,"Qo","quarter"),$("Q",qd),yt("Q",function(l,d){d[Vi]=(lt(l)-1)*3});function Yv(l){return l==null?Math.ceil((this.month()+1)/3):this.month((l-1)*3+this.month()%3)}X("D",["DD",2],"Do","date"),$("D",Pt,io),$("DD",Pt,Ue),$("Do",function(l,d){return l?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),yt(["D","DD"],bi),yt("Do",function(l,d){d[bi]=lt(l.match(Pt)[0])});var Ph=no("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear"),$("DDD",sr),$("DDDD",Xd),yt(["DDD","DDDD"],function(l,d,m){m._dayOfYear=lt(l)});function Uv(l){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return l==null?d:this.add(l-d,"d")}X("m",["mm",2],0,"minute"),$("m",Pt,Tl),$("mm",Pt,Ue),yt(["m","mm"],pi);var Gv=no("Minutes",!1);X("s",["ss",2],0,"second"),$("s",Pt,Tl),$("ss",Pt,Ue),yt(["s","ss"],Hi);var $v=no("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)}),X(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),X(0,["SSS",3],0,"millisecond"),X(0,["SSSS",4],0,function(){return this.millisecond()*10}),X(0,["SSSSS",5],0,function(){return this.millisecond()*100}),X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$("S",sr,qd),$("SS",sr,Ue),$("SSS",sr,Xd);var dn,Th;for(dn="SSSS";dn.length<=9;dn+="S")$(dn,eo);function qv(l,d){d[Nn]=lt(("0."+l)*1e3)}for(dn="S";dn.length<=9;dn+="S")yt(dn,qv);Th=no("Milliseconds",!1),X("z",0,0,"zoneAbbr"),X("zz",0,0,"zoneName");function Xv(){return this._isUTC?"UTC":""}function Kv(){return this._isUTC?"Coordinated Universal Time":""}var B=O.prototype;B.add=Hb,B.calendar=Xb,B.clone=Kb,B.diff=nv,B.endOf=pv,B.format=sv,B.from=lv,B.fromNow=cv,B.to=dv,B.toNow=hv,B.get=r_,B.invalidAt=kv,B.isAfter=Zb,B.isBefore=Qb,B.isBetween=Jb,B.isSame=tv,B.isSameOrAfter=ev,B.isSameOrBefore=iv,B.isValid=xv,B.lang=wh,B.locale=kh,B.localeData=Ch,B.max=xb,B.min=vb,B.parsingFlags=yv,B.set=s_,B.startOf=mv,B.subtract=Wb,B.toArray=_v,B.toObject=bv,B.toDate=gv,B.toISOString=av,B.inspect=rv,typeof Symbol<"u"&&Symbol.for!=null&&(B[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),B.toJSON=vv,B.toString=ov,B.unix=fv,B.valueOf=uv,B.creationData=wv,B.eraName=Dv,B.eraNarrow=Iv,B.eraAbbr=Pv,B.eraYear=Tv,B.year=Qd,B.isLeapYear=a_,B.weekYear=jv,B.isoWeekYear=Nv,B.quarter=B.quarters=Yv,B.month=nh,B.daysInMonth=g_,B.week=B.weeks=C_,B.isoWeek=B.isoWeeks=S_,B.weeksInYear=Vv,B.weeksInWeekYear=Hv,B.isoWeeksInYear=zv,B.isoWeeksInISOWeekYear=Bv,B.date=Ph,B.day=B.days=N_,B.weekday=z_,B.isoWeekday=B_,B.dayOfYear=Uv,B.hour=B.hours=$_,B.minute=B.minutes=Gv,B.second=B.seconds=$v,B.millisecond=B.milliseconds=Th,B.utcOffset=Pb,B.utc=Eb,B.local=Ob,B.parseZone=Ab,B.hasAlignedHourOffset=Rb,B.isDST=Lb,B.isLocal=jb,B.isUtcOffset=Nb,B.isUtc=_h,B.isUTC=_h,B.zoneAbbr=Xv,B.zoneName=Kv,B.dates=W("dates accessor is deprecated. Use date instead.",Ph),B.months=W("months accessor is deprecated. Use month instead",nh),B.years=W("years accessor is deprecated. Use year instead",Qd),B.zone=W("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Tb),B.isDSTShifted=W("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Fb);function Zv(l){return Tt(l*1e3)}function Qv(){return Tt.apply(null,arguments).parseZone()}function Eh(l){return l}var gt=Jt.prototype;gt.calendar=Ft,gt.longDateFormat=V0,gt.invalidDate=W0,gt.ordinal=G0,gt.preparse=Eh,gt.postformat=Eh,gt.relativeTime=q0,gt.pastFuture=X0,gt.set=rt,gt.eras=Cv,gt.erasParse=Sv,gt.erasConvertYear=Mv,gt.erasAbbrRegex=Ov,gt.erasNameRegex=Ev,gt.erasNarrowRegex=Av,gt.months=m_,gt.monthsShort=p_,gt.monthsParse=f_,gt.monthsRegex=b_,gt.monthsShortRegex=__,gt.week=x_,gt.firstDayOfYear=w_,gt.firstDayOfWeek=k_,gt.weekdays=A_,gt.weekdaysMin=L_,gt.weekdaysShort=R_,gt.weekdaysParse=j_,gt.weekdaysRegex=V_,gt.weekdaysShortRegex=H_,gt.weekdaysMinRegex=W_,gt.isPM=U_,gt.meridiem=q_;function kr(l,d,m,u){var b=Yi(),S=v().set(u,d);return b[m](S,l)}function Oh(l,d,m){if(c(l)&&(d=l,l=void 0),l=l||"",d!=null)return kr(l,d,m,"month");var u,b=[];for(u=0;u<12;u++)b[u]=kr(l,u,m,"month");return b}function $l(l,d,m,u){typeof l=="boolean"?(c(d)&&(m=d,d=void 0),d=d||""):(d=l,m=d,l=!1,c(d)&&(m=d,d=void 0),d=d||"");var b=Yi(),S=l?b._week.dow:0,T,G=[];if(m!=null)return kr(d,(m+S)%7,u,"day");for(T=0;T<7;T++)G[T]=kr(d,(T+S)%7,u,"day");return G}function Jv(l,d){return Oh(l,d,"months")}function tx(l,d){return Oh(l,d,"monthsShort")}function ex(l,d,m){return $l(l,d,m,"weekdays")}function ix(l,d,m){return $l(l,d,m,"weekdaysShort")}function nx(l,d,m){return $l(l,d,m,"weekdaysMin")}cn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(l){var d=l%10,m=lt(l%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return l+m}}),e.lang=W("moment.lang is deprecated. Use moment.locale instead.",cn),e.langData=W("moment.langData is deprecated. Use moment.localeData instead.",Yi);var Ui=Math.abs;function ox(){var l=this._data;return this._milliseconds=Ui(this._milliseconds),this._days=Ui(this._days),this._months=Ui(this._months),l.milliseconds=Ui(l.milliseconds),l.seconds=Ui(l.seconds),l.minutes=Ui(l.minutes),l.hours=Ui(l.hours),l.months=Ui(l.months),l.years=Ui(l.years),this}function Ah(l,d,m,u){var b=ui(d,m);return l._milliseconds+=u*b._milliseconds,l._days+=u*b._days,l._months+=u*b._months,l._bubble()}function ax(l,d){return Ah(this,l,d,1)}function rx(l,d){return Ah(this,l,d,-1)}function Rh(l){return l<0?Math.floor(l):Math.ceil(l)}function sx(){var l=this._milliseconds,d=this._days,m=this._months,u=this._data,b,S,T,G,et;return l>=0&&d>=0&&m>=0||l<=0&&d<=0&&m<=0||(l+=Rh(ql(m)+d)*864e5,d=0,m=0),u.milliseconds=l%1e3,b=ti(l/1e3),u.seconds=b%60,S=ti(b/60),u.minutes=S%60,T=ti(S/60),u.hours=T%24,d+=ti(T/24),et=ti(Lh(d)),m+=et,d-=Rh(ql(et)),G=ti(m/12),m%=12,u.days=d,u.months=m,u.years=G,this}function Lh(l){return l*4800/146097}function ql(l){return l*146097/4800}function lx(l){if(!this.isValid())return NaN;var d,m,u=this._milliseconds;if(l=Je(l),l==="month"||l==="quarter"||l==="year")switch(d=this._days+u/864e5,m=this._months+Lh(d),l){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(d=this._days+Math.round(ql(this._months)),l){case"week":return d/7+u/6048e5;case"day":return d+u/864e5;case"hour":return d*24+u/36e5;case"minute":return d*1440+u/6e4;case"second":return d*86400+u/1e3;case"millisecond":return Math.floor(d*864e5)+u;default:throw new Error("Unknown unit "+l)}}function Gi(l){return function(){return this.as(l)}}var Fh=Gi("ms"),cx=Gi("s"),dx=Gi("m"),hx=Gi("h"),mx=Gi("d"),px=Gi("w"),ux=Gi("M"),fx=Gi("Q"),gx=Gi("y"),_x=Fh;function bx(){return ui(this)}function vx(l){return l=Je(l),this.isValid()?this[l+"s"]():NaN}function Bn(l){return function(){return this.isValid()?this._data[l]:NaN}}var xx=Bn("milliseconds"),yx=Bn("seconds"),kx=Bn("minutes"),wx=Bn("hours"),Cx=Bn("days"),Sx=Bn("months"),Mx=Bn("years");function Dx(){return ti(this.days()/7)}var $i=Math.round,so={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Ix(l,d,m,u,b){return b.relativeTime(d||1,!!m,l,u)}function Px(l,d,m,u){var b=ui(l).abs(),S=$i(b.as("s")),T=$i(b.as("m")),G=$i(b.as("h")),et=$i(b.as("d")),dt=$i(b.as("M")),De=$i(b.as("w")),qi=$i(b.as("y")),hn=S<=m.ss&&["s",S]||S<m.s&&["ss",S]||T<=1&&["m"]||T<m.m&&["mm",T]||G<=1&&["h"]||G<m.h&&["hh",G]||et<=1&&["d"]||et<m.d&&["dd",et];return m.w!=null&&(hn=hn||De<=1&&["w"]||De<m.w&&["ww",De]),hn=hn||dt<=1&&["M"]||dt<m.M&&["MM",dt]||qi<=1&&["y"]||["yy",qi],hn[2]=d,hn[3]=+l>0,hn[4]=u,Ix.apply(null,hn)}function Tx(l){return l===void 0?$i:typeof l=="function"?($i=l,!0):!1}function Ex(l,d){return so[l]===void 0?!1:d===void 0?so[l]:(so[l]=d,l==="s"&&(so.ss=d-1),!0)}function Ox(l,d){if(!this.isValid())return this.localeData().invalidDate();var m=!1,u=so,b,S;return typeof l=="object"&&(d=l,l=!1),typeof l=="boolean"&&(m=l),typeof d=="object"&&(u=Object.assign({},so,d),d.s!=null&&d.ss==null&&(u.ss=d.s-1)),b=this.localeData(),S=Px(this,!m,u,b),m&&(S=b.pastFuture(+this,S)),b.postformat(S)}var Xl=Math.abs;function lo(l){return(l>0)-(l<0)||+l}function wr(){if(!this.isValid())return this.localeData().invalidDate();var l=Xl(this._milliseconds)/1e3,d=Xl(this._days),m=Xl(this._months),u,b,S,T,G=this.asSeconds(),et,dt,De,qi;return G?(u=ti(l/60),b=ti(u/60),l%=60,u%=60,S=ti(m/12),m%=12,T=l?l.toFixed(3).replace(/\.?0+$/,""):"",et=G<0?"-":"",dt=lo(this._months)!==lo(G)?"-":"",De=lo(this._days)!==lo(G)?"-":"",qi=lo(this._milliseconds)!==lo(G)?"-":"",et+"P"+(S?dt+S+"Y":"")+(m?dt+m+"M":"")+(d?De+d+"D":"")+(b||u||l?"T":"")+(b?qi+b+"H":"")+(u?qi+u+"M":"")+(l?qi+T+"S":"")):"P0D"}var mt=gr.prototype;mt.isValid=Sb,mt.abs=ox,mt.add=ax,mt.subtract=rx,mt.as=lx,mt.asMilliseconds=Fh,mt.asSeconds=cx,mt.asMinutes=dx,mt.asHours=hx,mt.asDays=mx,mt.asWeeks=px,mt.asMonths=ux,mt.asQuarters=fx,mt.asYears=gx,mt.valueOf=_x,mt._bubble=sx,mt.clone=bx,mt.get=vx,mt.milliseconds=xx,mt.seconds=yx,mt.minutes=kx,mt.hours=wx,mt.days=Cx,mt.weeks=Dx,mt.months=Sx,mt.years=Mx,mt.humanize=Ox,mt.toISOString=wr,mt.toString=wr,mt.toJSON=wr,mt.locale=kh,mt.localeData=Ch,mt.toIsoString=W("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wr),mt.lang=wh,X("X",0,0,"unix"),X("x",0,0,"valueOf"),$("x",cr),$("X",J0),yt("X",function(l,d,m){m._d=new Date(parseFloat(l)*1e3)}),yt("x",function(l,d,m){m._d=new Date(lt(l))});return e.version="2.30.1",t(Tt),e.fn=B,e.min=yb,e.max=kb,e.now=wb,e.utc=v,e.unix=Zv,e.months=Jv,e.isDate=h,e.locale=cn,e.invalid=I,e.duration=ui,e.isMoment=z,e.weekdays=ex,e.parseZone=Qv,e.localeData=Yi,e.isDuration=_r,e.monthsShort=tx,e.weekdaysMin=nx,e.defineLocale=Fl,e.updateLocale=Q_,e.locales=J_,e.weekdaysShort=ix,e.normalizeUnits=Je,e.relativeTimeRounding=Tx,e.relativeTimeThreshold=Ex,e.calendarFormat=qb,e.prototype=B,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var ep=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({imports:[Kt,Kt]})}}return n})();var Rx=0,ip="mat-badge-content",cc=new Set,Lx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],standalone:!0,features:[Q],decls:0,vars:0,template:function(i,o){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-app-error));color:var(--mat-badge-text-color, var(--mat-app-on-error));font-family:var(--mat-badge-text-font, var(--mat-app-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-app-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-app-corner-full))}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color, var(--mat-app-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size);height:var(--mat-badge-legacy-small-size-container-size);min-width:var(--mat-badge-small-size-container-size);min-height:var(--mat-badge-small-size-container-size);line-height:var(--mat-badge-small-size-line-height);padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size);height:var(--mat-badge-legacy-container-size);min-width:var(--mat-badge-container-size);min-height:var(--mat-badge-container-size);line-height:var(--mat-badge-line-height);padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size);height:var(--mat-badge-legacy-large-size-container-size);min-width:var(--mat-badge-large-size-container-size);min-height:var(--mat-badge-large-size-container-size);line-height:var(--mat-badge-large-size-line-height);padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}}return n})(),op=(()=>{class n{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}constructor(t,i,o,a,r){this._ngZone=t,this._elementRef=i,this._ariaDescriber=o,this._renderer=a,this._animationMode=r,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=Rx++,this._isInitialized=!1,this._interactivityChecker=fe(wm),this._document=fe(ni);let s=fe(Lr);if(!cc.has(s)){cc.add(s);let c=Fr(Lx,{environmentInjector:fe(Pr)});s.onDestroy(()=>{cc.delete(s),c.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(ip),this._animationMode==="NoopAnimations"&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){let i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${ip}`);for(let i of Array.from(t))i!==this._badgeElement&&i.remove()}static{this.\u0275fac=function(i){return new(i||n)(P(Ie),P(oe),P(Br),P(tm),P(ei,8))}}static{this.\u0275dir=Vt({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,o){i&2&&ft("mat-badge-overlap",o.overlap)("mat-badge-above",o.isAbove())("mat-badge-below",!o.isAbove())("mat-badge-before",!o.isAfter())("mat-badge-after",o.isAfter())("mat-badge-small",o.size==="small")("mat-badge-medium",o.size==="medium")("mat-badge-large",o.size==="large")("mat-badge-hidden",o.hidden||!o.content)("mat-badge-disabled",o.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",St],disabled:[2,"matBadgeDisabled","disabled",St],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",St]},standalone:!0,features:[ce]})}}return n})(),ap=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({imports:[Hr,Kt,Kt]})}}return n})();function jx(n,e){if(n&1){let t=K();g(0,"button",11),N("click",function(o){return F(t),A().markAllAsRead(),j(o.stopPropagation())}),y(1," Mark all as read "),_()}}function Nx(n,e){n&1&&(g(0,"div",12),y(1," No notifications "),_())}function zx(n,e){n&1&&(g(0,"span",24)(1,"mat-icon",25),y(2,"folder"),_(),y(3," Project "),_())}function Bx(n,e){n&1&&(g(0,"span",26)(1,"mat-icon",25),y(2,"task"),_(),y(3," Task "),_())}function Vx(n,e){n&1&&Y(0,"div",27)}function Hx(n,e){if(n&1){let t=K();g(0,"div",13),N("click",function(){let o=F(t).$implicit,a=A();return j(a.onNotificationClick(o))}),g(1,"div",14)(2,"div")(3,"mat-icon"),y(4),_()(),g(5,"div",15)(6,"div",16)(7,"span",17),y(8),_(),g(9,"span",18),y(10),_()(),g(11,"p",19)(12,"span"),y(13),_()(),g(14,"div",20),V(15,zx,4,0,"span",21)(16,Bx,4,0,"span",22),_()(),V(17,Vx,1,0,"div",23),_()()}if(n&2){let t=e.$implicit,i=A();ft("unread",!t.read),w(2),yi(i.getNotificationIconClass(t.type)),w(2),J(i.getNotificationIcon(t.type)),w(4),J(t.title),w(2),U(" ",i.getTimeAgo(t.createdAt)," "),w(2),yi(i.getStatusClass(t.message)),ft("px-2",t.type==="task_modified"),w(),U(" ",t.message," "),w(2),D("ngIf",t.projectId),w(),D("ngIf",t.taskId),w(),D("ngIf",!t.read)}}function Wx(n,e){n&1&&(g(0,"div",28),Y(1,"mat-spinner",29),_())}var es=class n{constructor(e){this.notificationService=e;this.subscription=this.notificationService.notifications$.subscribe(t=>{this.notifications.unshift(t),t.read||this.unreadCount++})}notifications=[];unreadCount=0;subscription;currentPage=1;loading=!1;hasMore=!0;isFirstLoad=!0;ngOnInit(){}ngOnDestroy(){this.subscription.unsubscribe()}loadNotifications(e=!1){if(this.loading||!e&&!this.isFirstLoad)return;this.loading=!0;let t=e?this.currentPage+1:1;this.notificationService.getNotifications(t).subscribe({next:i=>{e?(this.notifications=[...this.notifications,...i.notifications],this.currentPage++):(this.notifications=i.notifications,this.currentPage=1,this.isFirstLoad=!1),this.hasMore=i.hasMore,this.unreadCount=this.notifications.filter(o=>!o.read).length,this.loading=!1},error:i=>{console.error("Error loading notifications:",i),this.loading=!1}})}onScroll(e){let t=e.target;this.hasMore&&!this.loading&&t.scrollHeight-t.scrollTop<=t.clientHeight+50&&this.loadNotifications(!0)}markAllAsRead(){this.notificationService.markAllAsRead().subscribe(()=>{this.notifications.forEach(e=>e.read=!0),this.unreadCount=0})}onNotificationClick(e){!e.read&&e._id&&this.notificationService.markAsRead(e._id).subscribe(()=>{e.read=!0,this.unreadCount=Math.max(0,this.unreadCount-1)}),e.projectId&&(e.taskId?window.location.href=`/projects/${e.projectId}/tasks/${e.taskId}`:window.location.href=`/projects/${e.projectId}`)}getNotificationIconClass(e){let t="icon-container ";switch(e){case"task_assignment":return t+"icon-task";case"project_update":return t+"icon-update";case"mention":return t+"icon-mention";case"due_date":return t+"icon-due";case"task_modified":return t+"icon-edit";case"new_comment":return t+"icon-comment";default:return t+"icon-update"}}getTimeAgo(e){let t=new Date,i=new Date(e),o=Math.floor((t.getTime()-i.getTime())/1e3);if(o<60)return"Just now";let a=Math.floor(o/60);if(a<60)return`${a}m ago`;let r=Math.floor(a/60);if(r<24)return`${r}h ago`;let s=Math.floor(r/24);return s<7?`${s}d ago`:i.toLocaleDateString()}getNotificationIcon(e){switch(e){case"task_assignment":return"assignment";case"due_date":return"event";case"mention":return"comment";case"project_update":return"update";case"task_modified":return"edit";case"new_comment":return"chat";default:return"notifications"}}getStatusClass(e){return e.includes("completed")?"status-done":e.includes("started working on")?"status-in-progress":e.includes("marked as stuck")?"status-stuck":e.includes("reset")?"status-not-started":""}static \u0275fac=function(t){return new(t||n)(P(jm))};static \u0275cmp=Z({type:n,selectors:[["app-notification-menu"]],standalone:!0,features:[Q],decls:14,vars:7,consts:[["menu","matMenu"],["mat-icon-button","","matBadgeColor","warn",1,"notification-button",3,"click","matMenuTriggerFor","matBadge","matBadgeHidden"],[1,"notification-menu"],[1,"notification-header"],[1,"px-4","py-2","text-lg","font-semibold"],[1,"flex","gap-2"],["mat-button","","class","text-blue-600",3,"click",4,"ngIf"],[1,"notification-list","max-h-[400px]","overflow-y-auto",3,"scroll"],["class","p-4 text-gray-500 text-center",4,"ngIf"],["class","notification-item p-4 hover:bg-gray-50 cursor-pointer border-b",3,"unread","click",4,"ngFor","ngForOf"],["class","p-4 text-center",4,"ngIf"],["mat-button","",1,"text-blue-600",3,"click"],[1,"p-4","text-gray-500","text-center"],[1,"notification-item","p-4","hover:bg-gray-50","cursor-pointer","border-b",3,"click"],[1,"flex","items-start","gap-3"],[1,"flex-grow"],[1,"flex","justify-between","items-start","mb-1"],[1,"font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"text-sm","text-gray-600","mb-1"],[1,"flex","flex-wrap","gap-2","mt-2"],["class","inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700",4,"ngIf"],["class","inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-purple-50 text-purple-700",4,"ngIf"],["class","w-2 h-2 rounded-full bg-blue-500 mt-2",4,"ngIf"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","font-medium","bg-blue-50","text-blue-700"],[1,"text-sm","mr-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","font-medium","bg-purple-50","text-purple-700"],[1,"w-2","h-2","rounded-full","bg-blue-500","mt-2"],[1,"p-4","text-center"],["diameter","20"]],template:function(t,i){if(t&1){let o=K();g(0,"button",1),N("click",function(){return F(o),j(i.loadNotifications())}),g(1,"mat-icon"),y(2,"notifications"),_()(),g(3,"mat-menu",2,0)(5,"div",3)(6,"h3",4),y(7,"Notifications"),_(),g(8,"div",5),V(9,jx,2,0,"button",6),_()(),g(10,"div",7),N("scroll",function(r){return F(o),j(i.onScroll(r))}),V(11,Nx,2,0,"div",8)(12,Hx,18,15,"div",9)(13,Wx,2,0,"div",10),_()()}if(t&2){let o=qt(4);D("matMenuTriggerFor",o)("matBadge",i.unreadCount)("matBadgeHidden",i.unreadCount===0),w(9),D("ngIf",i.unreadCount>0),w(2),D("ngIf",i.notifications.length===0),w(),D("ngForOf",i.notifications),w(),D("ngIf",i.loading)}},dependencies:[ct,Ht,_t,Mi,un,fn,Ut,Yt,ap,op,Lt,ae,je,Fe,re,xe],styles:[".notification-menu[_ngcontent-%COMP%]{max-width:400px;min-width:350px}.notification-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e5e7eb;padding:8px 16px;background-color:#f9fafb}.notification-item[_ngcontent-%COMP%]{transition:background-color .2s}.notification-item.unread[_ngcontent-%COMP%]{background-color:#f0f9ff}.notification-item[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.icon-container[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%}.icon-task[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#0369a1}.icon-update[_ngcontent-%COMP%]{background-color:#f0fdf4;color:#15803d}.icon-mention[_ngcontent-%COMP%]{background-color:#fef3c7;color:#b45309}.icon-due[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}.icon-edit[_ngcontent-%COMP%]{background-color:#f3e8ff;color:#7e22ce}.icon-comment[_ngcontent-%COMP%]{background-color:#fae8ff;color:#c026d3}.status-not-started[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#4b5563}.status-in-progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#2563eb}.status-done[_ngcontent-%COMP%]{background-color:#dcfce7;color:#16a34a}.status-stuck[_ngcontent-%COMP%]{background-color:#fee2e2;color:#dc2626}"]})};function Yx(n,e){n&1&&Y(0,"app-notification-menu")}var is=class n{constructor(e,t){this.authService=e;this.router=t}username=null;toggleSidebar=new ht;ngOnInit(){this.updateUsername()}updateUsername(){this.username=localStorage.getItem("username")}get userInitial(){return this.username?this.username[0].toUpperCase():"?"}logout(){this.authService.logout(),this.username=null,this.router.navigate(["/login"])}onToggleSidebar(){this.toggleSidebar.emit()}isLoggedIn(){return this.authService.isLoggedIn()}static \u0275fac=function(t){return new(t||n)(P(Zt),P(Wt))};static \u0275cmp=Z({type:n,selectors:[["app-navbar"]],outputs:{toggleSidebar:"toggleSidebar"},standalone:!0,features:[Q],decls:27,vars:4,consts:[["userMenu","matMenu"],[1,"bg-white","shadow"],[1,"mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"p-2","rounded-md","text-gray-400","hover:text-gray-500","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-indigo-500",3,"click"],[1,"flex-shrink-0","flex","items-center","ml-4"],["src","https://res.cloudinary.com/db2tvcbza/image/upload/v1730869163/logo_sfhhhd.png","alt","Logo","crossorigin","anonymous",1,"h-8","w-auto"],[1,"flex","items-center","space-x-4"],[4,"ngIf"],[1,"flex","items-center","text-sm","rounded-full","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"matMenuTriggerFor"],[1,"sr-only"],[1,"h-8","w-8","rounded-full",3,"src","alt"],[1,"mt-2"],["mat-menu-item","","routerLink","/profile",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100"],[1,"mr-3","text-gray-400"],["mat-menu-item","",1,"flex","items-center","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"]],template:function(t,i){if(t&1){let o=K();g(0,"nav",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),N("click",function(){return F(o),j(i.onToggleSidebar())}),g(5,"mat-icon"),y(6,"menu"),_()(),g(7,"div",6),Y(8,"img",7),_()(),g(9,"div",8),V(10,Yx,1,0,"app-notification-menu",9),g(11,"button",10)(12,"span",11),y(13,"Open user menu"),_(),Y(14,"img",12),_()()()(),g(15,"mat-menu",13,0)(17,"button",14)(18,"mat-icon",15),y(19,"person"),_(),g(20,"span"),y(21,"Profile"),_()(),g(22,"button",16),N("click",function(){return F(o),j(i.logout())}),g(23,"mat-icon",15),y(24,"exit_to_app"),_(),g(25,"span"),y(26,"Logout"),_()()()()}if(t&2){let o=qt(16);w(10),D("ngIf",i.isLoggedIn()),w(),D("matMenuTriggerFor",o),w(3),D("src","https://ui-avatars.com/api/?name="+(i.username||"User")+"&background=random",$e)("alt",i.username||"User")}},dependencies:[ct,_t,ep,Lt,Ut,Yt,Mi,un,yo,fn,Fe,Ci,es],encapsulation:2})};var Gx=0,hc=new Mt("CdkAccordion"),rp=(()=>{class n{constructor(){this._stateChanges=new pt,this._openCloseAllActions=new pt,this.id=`cdk-accordion-${Gx++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",St]},exportAs:["cdkAccordion"],standalone:!0,features:[Xt([{provide:hc,useExisting:n}]),ce,fi]})}}return n})(),$x=0,sp=(()=>{class n{get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(t,i,o){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=o,this._openCloseAllSubscription=vi.EMPTY,this.closed=new ht,this.opened=new ht,this.destroyed=new ht,this.expandedChange=new ht,this.id=`cdk-accordion-child-${$x++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((a,r)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===r&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static{this.\u0275fac=function(i){return new(i||n)(P(hc,12),P(ee),P(Yr))}}static{this.\u0275dir=Vt({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",St],disabled:[2,"disabled","disabled",St]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Xt([{provide:hc,useValue:void 0}]),ce]})}}return n})(),lp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({})}}return n})();var Xx=["body"],Kx=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Zx=["mat-expansion-panel-header","*","mat-action-row"];function Qx(n,e){}var Jx=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ty=["mat-panel-title","mat-panel-description","*"];function ey(n,e){if(n&1&&(g(0,"span",1),xi(),g(1,"svg",2),Y(2,"path",3),_()()),n&2){let t=A();D("@indicatorRotate",t._getExpandedState())}}var mc=new Mt("MAT_ACCORDION"),cp="225ms cubic-bezier(0.4,0.0,0.2,1)",hp={indicatorRotate:Ca("indicatorRotate",[Sa("collapsed, void",Ki({transform:"rotate(0deg)"})),Sa("expanded",Ki({transform:"rotate(180deg)"})),xo("expanded <=> collapsed, void => collapsed",vo(cp))]),bodyExpansion:Ca("bodyExpansion",[Sa("collapsed, void",Ki({height:"0px",visibility:"hidden"})),Sa("expanded",Ki({height:"*",visibility:""})),xo("expanded <=> collapsed, void => collapsed",vo(cp))])},mp=new Mt("MAT_EXPANSION_PANEL"),iy=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||n)(P(tc),P(mp,8))}}static{this.\u0275dir=Vt({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return n})(),ny=0,pp=new Mt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),uc=(()=>{class n extends sp{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,o,a,r,s,c){super(t,i,o),this._viewContainerRef=a,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new ht,this.afterCollapse=new ht,this._inputChanges=new pt,this._headerId=`mat-expansion-panel-header-${ny++}`,this.accordion=t,this._document=r,this._animationsDisabled=s==="NoopAnimations",c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ho(null),Hn(()=>this.expanded&&!this._portal),Mr(1)).subscribe(()=>{this._portal=new Em(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}_animationStarted(t){!dp(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){dp(t)||(t.toState==="expanded"?this.afterExpand.emit():t.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(i){return new(i||n)(P(mc,12),P(ee),P(Yr),P(mo),P(ni),P(ei,8),P(pp,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,o,a){if(i&1&&xa(a,iy,5),i&2){let r;_e(r=be())&&(o._lazyContent=r.first)}},viewQuery:function(i,o){if(i&1&&qe(Xx,5),i&2){let a;_e(a=be())&&(o._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,o){i&2&&ft("mat-expanded",o.expanded)("_mat-animation-noopable",o._animationsDisabled)("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",St],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Xt([{provide:mc,useValue:void 0},{provide:mp,useExisting:n}]),ce,ba,fi,Q],ngContentSelectors:Zx,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,o){if(i&1){let a=K();ki(Kx),ge(0),g(1,"div",1,0),N("@bodyExpansion.start",function(s){return F(a),j(o._animationStarted(s))})("@bodyExpansion.done",function(s){return F(a),j(o._animationDone(s))}),g(3,"div",2),ge(4,1),V(5,Qx,0,0,"ng-template",3),_(),ge(6,2),_()}i&2&&(w(),D("@bodyExpansion",o._getExpandedState())("id",o.id),Pe("aria-labelledby",o._headerId),w(4),D("cdkPortalOutlet",o._portal))},dependencies:[Om],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[hp.bodyExpansion]},changeDetection:0})}}return n})();function dp(n){return n.fromState==="void"}var fc=(()=>{class n{constructor(t,i,o,a,r,s,c){this.panel=t,this._element=i,this._focusMonitor=o,this._changeDetectorRef=a,this._animationMode=s,this._parentChangeSubscription=vi.EMPTY,this.tabIndex=0;let h=t.accordion?t.accordion._stateChanges.pipe(Hn(p=>!!(p.hideToggle||p.togglePosition))):Vh;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=co(t.opened,t.closed,h,t._inputChanges.pipe(Hn(p=>!!(p.hideToggle||p.disabled||p.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Hn(()=>t._containsFocus())).subscribe(()=>o.focusVia(i,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:zr(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||n)(P(uc,1),P(oe),P(Vr),P(ee),P(pp,8),P(ei,8),ga("tabindex"))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,o){i&1&&N("click",function(){return o._toggle()})("keydown",function(r){return o._keydown(r)}),i&2&&(Pe("id",o.panel._headerId)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),po("height",o._getHeaderHeight()),ft("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after",o._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",o._getTogglePosition()==="before")("_mat-animation-noopable",o._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:ii(t)]},standalone:!0,features:[ce,Q],ngContentSelectors:ty,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,o){i&1&&(ki(Jx),g(0,"span",0),ge(1),ge(2,1),ge(3,2),_(),V(4,ey,3,1,"span",1)),i&2&&(ft("mat-content-hide-toggle",!o._showToggle()),w(4),Xi(o._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[hp.indicatorRotate]},changeDetection:0})}}return n})();var up=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return n})(),fp=(()=>{class n extends rp{constructor(){super(...arguments),this._ownHeaders=new Jl,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(ho(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new km(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Er(n)))(o||n)}})()}static{this.\u0275dir=Vt({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,o,a){if(i&1&&xa(a,fc,5),i&2){let r;_e(r=be())&&(o._headers=r)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,o){i&2&&ft("mat-accordion-multi",o.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",St],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[Xt([{provide:mc,useExisting:n}]),ce,ba]})}}return n})(),ns=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({imports:[Kt,lp,Am]})}}return n})();var ay=(n,e)=>({"translate-x-0":n,"-translate-x-full":e}),ry=n=>["/projects",n];function sy(n,e){if(n&1&&(g(0,"li")(1,"a",14)(2,"mat-icon",4),y(3,"description"),_(),g(4,"span",15),y(5),_()()()),n&2){let t=e.$implicit;w(),D("routerLink",uo(2,ry,t._id)),w(4),J(t.name)}}function ly(n,e){if(n&1){let t=K();g(0,"div",16),N("click",function(){F(t);let o=A();return j(o.closeSidebar())}),_()}}var os=class n{constructor(e,t,i,o){this.projectService=e;this.dialog=t;this.router=i;this.authService=o}isOpen=!1;sidebarClosed=new ht;projects=[];favorites=[{name:"Adrian Bert - CRM Da..."},{name:"Trust - SaaS Dashbo..."},{name:"Pertamina Project"},{name:"Garuda Project"}];ngOnInit(){this.authService.isLoggedIn()&&this.loadProjects()}loadProjects(){this.projectService.getUserProjects().subscribe({next:e=>{this.projects=e},error:e=>{console.error("Error loading projects:",e)}})}addNewProject(){this.dialog.open(Gm,{width:"400px"}).afterClosed().subscribe(t=>{t&&this.projectService.createProject(t).subscribe({next:()=>{this.loadProjects()},error:i=>{console.error("Error creating project:",i)}})})}closeSidebar(){this.isOpen=!1,this.sidebarClosed.emit()}static \u0275fac=function(t){return new(t||n)(P(Be),P(Co),P(Wt),P(Zt))};static \u0275cmp=Z({type:n,selectors:[["app-sidebar"]],inputs:{isOpen:"isOpen"},outputs:{sidebarClosed:"sidebarClosed"},standalone:!0,features:[Q],decls:32,vars:6,consts:[[1,"fixed","inset-y-0","left-0","z-30","w-64","bg-gray-800","text-white","transform","transition-transform","duration-300","ease-in-out",3,"ngClass"],[1,"h-full","overflow-y-auto","py-6","px-4"],[1,"space-y-2"],["routerLink","/dashboard",1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-700","transition-colors"],[1,"mr-3","text-gray-400"],["routerLink","/assigned-tasks",1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-700","transition-colors"],["routerLink","/search",1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-700","transition-colors"],[1,"mt-6"],[1,"px-2","text-xs","font-semibold","text-gray-400","uppercase","tracking-wider"],[1,"mt-2","space-y-1"],[4,"ngFor","ngForOf"],[1,"mt-6","w-full","flex","items-center","justify-center","p-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"mr-2"],["class","fixed inset-0 z-20 bg-black opacity-50 transition-opacity lg:hidden",3,"click",4,"ngIf"],[1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-700","transition-colors",3,"routerLink"],[1,"truncate"],[1,"fixed","inset-0","z-20","bg-black","opacity-50","transition-opacity","lg:hidden",3,"click"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"nav",1)(2,"ul",2)(3,"li")(4,"a",3)(5,"mat-icon",4),y(6,"dashboard"),_(),g(7,"span"),y(8,"Dashboard"),_()()(),g(9,"li")(10,"a",5)(11,"mat-icon",4),y(12,"assignment_ind"),_(),g(13,"span"),y(14,"Assigned to me"),_()()(),g(15,"li")(16,"a",6)(17,"mat-icon",4),y(18,"search"),_(),g(19,"span"),y(20,"Search"),_()()()(),g(21,"div",7)(22,"h3",8),y(23,"My Projects"),_(),g(24,"ul",9),V(25,sy,6,4,"li",10),_()(),g(26,"button",11),N("click",function(){return i.addNewProject()}),g(27,"mat-icon",12),y(28,"add"),_(),g(29,"span"),y(30,"New Project"),_()()()(),V(31,ly,1,0,"div",13)),t&2&&(D("ngClass",fo(3,ay,i.isOpen,!i.isOpen)),w(25),D("ngForOf",i.projects),w(6),D("ngIf",i.isOpen))},dependencies:[ct,ve,Ht,_t,gn,Ut,Yt,ns,Fe,Ci],encapsulation:2})};var cy=n=>({"md:ml-64":n});function dy(n,e){if(n&1){let t=K();g(0,"app-sidebar",7),N("sidebarClosed",function(){F(t);let o=A();return j(o.closeSidebar())}),_()}if(n&2){let t=A();D("isOpen",t.isSidebarOpen)}}function hy(n,e){if(n&1){let t=K();g(0,"app-navbar",8),N("toggleSidebar",function(){F(t);let o=A();return j(o.toggleSidebar())}),_()}}function my(n,e){if(n&1){let t=K();g(0,"div",9),N("click",function(){F(t);let o=A();return j(o.closeSidebar())}),_()}}var as=class n{constructor(e,t){this.router=e;this.authService=t}title="Angular-Training-Final-Project";isSidebarOpen=!1;showNavAndSidebar=!0;ngOnInit(){this.router.events.pipe(Hn(e=>e instanceof bm)).subscribe(e=>{(e.url==="/login"||e.url==="/register")&&this.authService.logout(),this.updateNavAndSidebarVisibility(e.urlAfterRedirects)})}updateNavAndSidebarVisibility(e){let t=["/home","/login","/register","/forgot-password","/reset-password"];this.showNavAndSidebar=!t.some(i=>e.startsWith(i))}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}static \u0275fac=function(t){return new(t||n)(P(Wt),P(Zt))};static \u0275cmp=Z({type:n,selectors:[["app-root"]],standalone:!0,features:[Q],decls:8,vars:6,consts:[[1,"flex","h-screen","overflow-hidden"],["class","z-20",3,"isOpen","sidebarClosed",4,"ngIf"],[1,"flex","flex-col","flex-1","overflow-hidden","transition-all","duration-300","ease-in-out",3,"ngClass"],[3,"toggleSidebar",4,"ngIf"],[1,"flex-1","overflow-x-hidden","overflow-y-auto","bg-gray-100"],[1,"w-full","max-w-full","mx-auto"],["class","fixed inset-0 bg-black bg-opacity-50 z-10 md:hidden",3,"click",4,"ngIf"],[1,"z-20",3,"sidebarClosed","isOpen"],[3,"toggleSidebar"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-10","md:hidden",3,"click"]],template:function(t,i){t&1&&(g(0,"div",0),V(1,dy,1,1,"app-sidebar",1),g(2,"div",2),V(3,hy,1,0,"app-navbar",3),g(4,"main",4)(5,"div",5),Y(6,"router-outlet"),_()()(),V(7,my,1,0,"div",6),_()),t&2&&(w(),D("ngIf",i.showNavAndSidebar),w(),D("ngClass",uo(4,cy,i.isSidebarOpen&&i.showNavAndSidebar)),w(),D("ngIf",i.showNavAndSidebar),w(4),D("ngIf",i.isSidebarOpen&&i.showNavAndSidebar))},dependencies:[vm,is,os,ct,ve,_t],encapsulation:2})};var yn=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)}static \u0275fac=function(t){return new(t||n)(le(Zt),le(Wt))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var fy=["tooltip"],bp=20;var vp=new Mt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=fe(Ma);return()=>n.scrollStrategies.reposition({scrollThrottle:bp})}});function gy(n){return()=>n.scrollStrategies.reposition({scrollThrottle:bp})}var _y={provide:vp,deps:[Ma],useFactory:gy};function by(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var vy=new Mt("mat-tooltip-default-options",{providedIn:"root",factory:by});var gp="tooltip-panel",_p=Wn({passive:!0}),xy=8,yy=8,ky=24,wy=200,rs=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ac(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let i=ac(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=_o(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=_o(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){let i=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,o,a,r,s,c,h,p,f,v,k){this._overlay=t,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=a,this._ngZone=r,this._platform=s,this._ariaDescriber=c,this._focusMonitor=h,this._dir=f,this._defaultOptions=v,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Cy,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new pt,this._injector=fe(_a),this._scrollStrategy=p,this._document=k,v&&(this._showDelay=v.showDelay,this._hideDelay=v.hideDelay,v.position&&(this.position=v.position),v.positionAtOrigin&&(this.positionAtOrigin=v.positionAtOrigin),v.touchGestures&&(this.touchGestures=v.touchGestures),v.tooltipClass&&(this.tooltipClass=v.tooltipClass)),f.change.pipe(Ge(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=xy}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ge(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{t.removeEventListener(i,o,_p)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(i);this._detach(),this._portal=this._portal||new Tm(this._tooltipComponent,this._viewContainerRef);let a=this._tooltipInstance=o.attach(this._portal).instance;a._triggerElement=this._elementRef.nativeElement,a._mouseLeaveHideDelay=this._hideDelay,a.afterHidden().pipe(Ge(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),a.show(t)}hide(t=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&a._origin instanceof oe)return this._overlayRef;this._detach()}let i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(Ge(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${gp}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ge(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ge(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ge(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!zr(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let i=t.getConfig().positionStrategy,o=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset(Le(Le({},o.main),a.main)),this._addOffset(Le(Le({},o.fallback),a.fallback))])}_addOffset(t){let i=yy,o=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-i:t.originY==="bottom"?t.offsetY=i:t.originX==="start"?t.offsetX=o?-i:i:t.originX==="end"&&(t.offsetX=o?i:-i),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",i=this.position,o;i=="above"||i=="below"?o={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&t||i=="right"&&!t?o={originX:"start",originY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(o={originX:"end",originY:"center"});let{x:a,y:r}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:a,originY:r}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",i=this.position,o;i=="above"?o={overlayX:"center",overlayY:"bottom"}:i=="below"?o={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&t||i=="right"&&!t?o={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(o={overlayX:"start",overlayY:"center"});let{x:a,y:r}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:a,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),va(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){let{overlayY:i,originX:o,originY:a}=t,r;if(i==="center"?this._dir&&this._dir.value==="rtl"?r=o==="end"?"left":"right":r=o==="start"?"left":"right":r=i==="bottom"&&a==="top"?"above":"below",r!==this._currentPosition){let s=this._overlayRef;if(s){let c=`${this._cssClassPrefix}-${gp}-`;s.removePanelClass(c+this._currentPosition),s.addPanelClass(c+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let i;t.x!==void 0&&t.y!==void 0&&(i=t),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let i=t.targetTouches?.[0],o=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let a=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??a)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{let o=i.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,_p)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let i=this._document.elementFromPoint(t.clientX,t.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let i=this._elementRef.nativeElement,o=i.style;(t==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(t==="on"||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(i){return new(i||n)(P(Ma),P(oe),P(Ur),P(mo),P(Ie),P(xm),P(Br),P(Vr),P(vp),P(ka),P(vy,8),P(ni))}}static{this.\u0275dir=Vt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,o){i&2&&ft("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return n})(),Cy=(()=>{class n{constructor(t,i,o){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new pt,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>ky&&t.width>=wy}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let i=this._tooltip.nativeElement,o=this._showAnimation,a=this._hideAnimation;if(i.classList.remove(t?a:o),i.classList.add(t?o:a),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let r=getComputedStyle(i);(r.getPropertyValue("animation-duration")==="0s"||r.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static{this.\u0275fac=function(i){return new(i||n)(P(ee),P(oe),P(ei,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,o){if(i&1&&qe(fy,7),i&2){let a;_e(a=be())&&(o._tooltip=a.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,o){i&1&&N("mouseleave",function(r){return o._handleMouseLeave(r)})},standalone:!0,features:[Q],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,o){if(i&1){let a=K();g(0,"div",1,0),N("animationend",function(s){return F(a),j(o._handleAnimationEnd(s))}),g(2,"div",2),y(3),_()()}i&2&&(ft("mdc-tooltip--multiline",o._isMultiline),D("ngClass",o.tooltipClass),w(3),J(o.message))},dependencies:[ve],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return n})();var ss=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({providers:[_y],imports:[Hr,ct,Fm,Kt,Kt,Gr]})}}return n})();function My(n,e){if(n&1&&(g(0,"mat-option",17),y(1),_()),n&2){let t=e.$implicit;D("value",t),w(),U(" ",t," ")}}function Dy(n,e){if(n&1){let t=K();g(0,"mat-form-field",14)(1,"mat-select",16,0),N("selectionChange",function(o){F(t);let a=A(2);return j(a._changePageSize(o.value))}),nm(3,My,2,2,"mat-option",17,im),_(),g(5,"div",18),N("click",function(){F(t);let o=qt(2);return j(o.open())}),_()()}if(n&2){let t=A(2);D("appearance",t._formFieldAppearance)("color",t.color),w(),D("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),w(2),om(t._displayedPageSizeOptions)}}function Iy(n,e){if(n&1&&(g(0,"div",15),y(1),_()),n&2){let t=A(2);w(),J(t.pageSize)}}function Py(n,e){if(n&1&&(g(0,"div",3)(1,"div",13),y(2),_(),V(3,Dy,6,7,"mat-form-field",14)(4,Iy,2,1,"div",15),_()),n&2){let t=A();w(),Pe("id",t._pageSizeLabelId),w(),U(" ",t._intl.itemsPerPageLabel," "),w(),Xi(t._displayedPageSizeOptions.length>1?3:-1),w(),Xi(t._displayedPageSizeOptions.length<=1?4:-1)}}function Ty(n,e){if(n&1){let t=K();g(0,"button",19),N("click",function(){F(t);let o=A();return j(o.firstPage())}),xi(),g(1,"svg",8),Y(2,"path",20),_()()}if(n&2){let t=A();D("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Pe("aria-label",t._intl.firstPageLabel)}}function Ey(n,e){if(n&1){let t=K();g(0,"button",21),N("click",function(){F(t);let o=A();return j(o.lastPage())}),xi(),g(1,"svg",8),Y(2,"path",22),_()()}if(n&2){let t=A();D("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Pe("aria-label",t._intl.lastPageLabel)}}var ls=(()=>{class n{constructor(){this.changes=new pt,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,o)=>{if(o==0||i==0)return`0 of ${o}`;o=Math.max(o,0);let a=t*i,r=a<o?Math.min(a+i,o):a+i;return`${a+1} \u2013 ${r} of ${o}`}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Oy(n){return n||new ls}var Ay={provide:ls,deps:[[new qh,new Xh,ls]],useFactory:Oy},Ry=50;var Ly=new Mt("MAT_PAGINATOR_DEFAULT_OPTIONS"),Fy=0,Ia=(()=>{class n{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>ii(i,0)),this._updateDisplayedPageSizeOptions()}constructor(t,i,o){if(this._intl=t,this._changeDetectorRef=i,this._pageSizeLabelId=`mat-paginator-page-size-label-${Fy++}`,this._isInitialized=!1,this._initializedStream=new zh(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new ht,this.initialized=this._initializedStream,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){let{pageSize:a,pageSizeOptions:r,hidePageSize:s,showFirstLastButtons:c}=o;a!=null&&(this._pageSize=a),r!=null&&(this._pageSizeOptions=r),s!=null&&(this.hidePageSize=s),c!=null&&(this.showFirstLastButtons=c)}this._formFieldAppearance=o?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){let i=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(i/t)||0,this.pageSize=t,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Ry),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(i){return new(i||n)(P(ls),P(ee),P(Ly,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",ii],length:[2,"length","length",ii],pageSize:[2,"pageSize","pageSize",ii],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",St],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",St],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",St]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[ce,Q],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,o){i&1&&(g(0,"div",1)(1,"div",2),V(2,Py,5,4,"div",3),g(3,"div",4)(4,"div",5),y(5),_(),V(6,Ty,3,5,"button",6),g(7,"button",7),N("click",function(){return o.previousPage()}),xi(),g(8,"svg",8),Y(9,"path",9),_()(),Tr(),g(10,"button",10),N("click",function(){return o.nextPage()}),xi(),g(11,"svg",8),Y(12,"path",11),_()(),V(13,Ey,3,5,"button",12),_()()()),i&2&&(w(2),Xi(o.hidePageSize?-1:2),w(3),U(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),w(),Xi(o.showFirstLastButtons?6:-1),w(),D("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("matTooltipPosition","above")("disabled",o._previousButtonsDisabled()),Pe("aria-label",o._intl.previousPageLabel),w(3),D("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("matTooltipPosition","above")("disabled",o._nextButtonsDisabled()),Pe("aria-label",o._intl.nextPageLabel),w(3),Xi(o.showFirstLastButtons?13:-1))},dependencies:[we,Ti,Si,je,rs],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return n})(),cs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({providers:[Ay],imports:[Lt,Ei,ss,Ia]})}}return n})();function Ri(){}var Lp=function(){let n=0;return function(){return n++}}();function ut(n){return n===null||typeof n>"u"}function Dt(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function st(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}var Gt=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function Ke(n,e){return Gt(n)?n:e}function nt(n,e){return typeof n>"u"?e:n}var Fp=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/e,wc=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function It(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function vt(n,e,t,i){let o,a,r;if(Dt(n))if(a=n.length,i)for(o=a-1;o>=0;o--)e.call(t,n[o],o);else for(o=0;o<a;o++)e.call(t,n[o],o);else if(st(n))for(r=Object.keys(n),a=r.length,o=0;o<a;o++)e.call(t,n[r[o]],r[o])}function Aa(n,e){let t,i,o,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(o=n[t],a=e[t],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function fs(n){if(Dt(n))return n.map(fs);if(st(n)){let e=Object.create(null),t=Object.keys(n),i=t.length,o=0;for(;o<i;++o)e[t[o]]=fs(n[t[o]]);return e}return n}function jp(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function jy(n,e,t,i){if(!jp(n))return;let o=e[n],a=t[n];st(o)&&st(a)?Po(o,a,i):e[n]=fs(a)}function Po(n,e,t){let i=Dt(e)?e:[e],o=i.length;if(!st(n))return n;t=t||{};let a=t.merger||jy;for(let r=0;r<o;++r){if(e=i[r],!st(e))continue;let s=Object.keys(e);for(let c=0,h=s.length;c<h;++c)a(s[c],n,e,t)}return n}function Oo(n,e){return Po(n,e,{merger:Ny})}function Ny(n,e,t){if(!jp(n))return;let i=e[n],o=t[n];st(i)&&st(o)?Oo(i,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=fs(o))}var yp={"":n=>n,x:n=>n.x,y:n=>n.y};function tn(n,e){return(yp[e]||(yp[e]=zy(e)))(n)}function zy(n){let e=By(n);return t=>{for(let i of e){if(i==="")break;t=t&&t[i]}return t}}function By(n){let e=n.split("."),t=[],i="";for(let o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function vs(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Xe=n=>typeof n<"u",Ji=n=>typeof n=="function",Cc=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function Np(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Et=Math.PI,xt=2*Et,Vy=xt+Et,gs=Number.POSITIVE_INFINITY,Hy=Et/180,zt=Et/2,Pa=Et/4,kp=Et*2/3,Ze=Math.log10,_i=Math.sign;function Sc(n){let e=Math.round(n);n=Ao(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(Ze(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function zp(n){let e=[],t=Math.sqrt(n),i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((o,a)=>o-a).pop(),e}function qn(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Ao(n,e,t){return Math.abs(n-e)<t}function Bp(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function Mc(n,e,t){let i,o,a;for(i=0,o=n.length;i<o;i++)a=n[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function ci(n){return n*(Et/180)}function xs(n){return n*(180/Et)}function Dc(n){if(!Gt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Ic(n,e){let t=e.x-n.x,i=e.y-n.y,o=Math.sqrt(t*t+i*i),a=Math.atan2(i,t);return a<-.5*Et&&(a+=xt),{angle:a,distance:o}}function _s(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Wy(n,e){return(n-e+Vy)%xt-Et}function Ve(n){return(n%xt+xt)%xt}function Ro(n,e,t,i){let o=Ve(n),a=Ve(e),r=Ve(t),s=Ve(a-o),c=Ve(r-o),h=Ve(o-a),p=Ve(o-r);return o===a||o===r||i&&a===r||s>c&&h<p}function ie(n,e,t){return Math.max(e,Math.min(t,n))}function Vp(n){return ie(n,-32768,32767)}function Li(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function ys(n,e,t){t=t||(r=>n[r]<e);let i=n.length-1,o=0,a;for(;i-o>1;)a=o+i>>1,t(a)?o=a:i=a;return{lo:o,hi:i}}var Ai=(n,e,t,i)=>ys(n,t,i?o=>n[o][e]<=t:o=>n[o][e]<t),Hp=(n,e,t)=>ys(n,t,i=>n[i][e]>=t);function Wp(n,e,t){let i=0,o=n.length;for(;i<o&&n[i]<e;)i++;for(;o>i&&n[o-1]>t;)o--;return i>0||o<n.length?n.slice(i,o):n}var Yp=["push","pop","shift","splice","unshift"];function Up(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Yp.forEach(t=>{let i="_onData"+vs(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){let r=o.apply(this,a);return n._chartjs.listeners.forEach(s=>{typeof s[i]=="function"&&s[i](...a)}),r}})})}function Pc(n,e){let t=n._chartjs;if(!t)return;let i=t.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Yp.forEach(a=>{delete n[a]}),delete n._chartjs)}function Tc(n){let e=new Set,t,i;for(t=0,i=n.length;t<i;++t)e.add(n[t]);return e.size===i?n:Array.from(e)}var Ec=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Oc(n,e,t){let i=t||(r=>Array.prototype.slice.call(r)),o=!1,a=[];return function(...r){a=i(r),o||(o=!0,Ec.call(window,()=>{o=!1,n.apply(e,a)}))}}function Gp(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}var ks=n=>n==="start"?"left":n==="end"?"right":"center",he=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,$p=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function Ac(n,e,t){let i=e.length,o=0,a=i;if(n._sorted){let{iScale:r,_parsed:s}=n,c=r.axis,{min:h,max:p,minDefined:f,maxDefined:v}=r.getUserBounds();f&&(o=ie(Math.min(Ai(s,r.axis,h).lo,t?i:Ai(e,c,r.getPixelForValue(h)).lo),0,i-1)),v?a=ie(Math.max(Ai(s,r.axis,p,!0).hi+1,t?0:Ai(e,c,r.getPixelForValue(p),!0).hi+1),o,i)-o:a=i-o}return{start:o,count:a}}function Rc(n){let{xScale:e,yScale:t,_scaleRanges:i}=n,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=o,!0;let a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,o),a}var ds=n=>n===0||n===1,wp=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*xt/t)),Cp=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*xt/t)+1,Io={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*zt)+1,easeOutSine:n=>Math.sin(n*zt),easeInOutSine:n=>-.5*(Math.cos(Et*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ds(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ds(n)?n:wp(n,.075,.3),easeOutElastic:n=>ds(n)?n:Cp(n,.075,.3),easeInOutElastic(n){return ds(n)?n:n<.5?.5*wp(n*2,.1125,.45):.5+.5*Cp(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Io.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Io.easeInBounce(n*2)*.5:Io.easeOutBounce(n*2-1)*.5+.5};function Ra(n){return n+.5|0}var wn=(n,e,t)=>Math.max(Math.min(n,t),e);function Ta(n){return wn(Ra(n*2.55),0,255)}function Cn(n){return wn(Ra(n*255),0,255)}function Qi(n){return wn(Ra(n/2.55)/100,0,1)}function Sp(n){return wn(Ra(n*100),0,100)}var li={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xc=[..."0123456789ABCDEF"],Yy=n=>xc[n&15],Uy=n=>xc[(n&240)>>4]+xc[n&15],hs=n=>(n&240)>>4===(n&15),Gy=n=>hs(n.r)&&hs(n.g)&&hs(n.b)&&hs(n.a);function $y(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&li[n[1]]*17,g:255&li[n[2]]*17,b:255&li[n[3]]*17,a:e===5?li[n[4]]*17:255}:(e===7||e===9)&&(t={r:li[n[1]]<<4|li[n[2]],g:li[n[3]]<<4|li[n[4]],b:li[n[5]]<<4|li[n[6]],a:e===9?li[n[7]]<<4|li[n[8]]:255})),t}var qy=(n,e)=>n<255?e(n):"";function Xy(n){var e=Gy(n)?Yy:Uy;return n?"#"+e(n.r)+e(n.g)+e(n.b)+qy(n.a,e):void 0}var Ky=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qp(n,e,t){let i=e*Math.min(t,1-t),o=(a,r=(a+n/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[o(0),o(8),o(4)]}function Zy(n,e,t){let i=(o,a=(o+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function Qy(n,e,t){let i=qp(n,1,.5),o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)i[o]*=1-e-t,i[o]+=e;return i}function Jy(n,e,t,i,o){return n===o?(e-t)/i+(e<t?6:0):e===o?(t-n)/i+2:(n-e)/i+4}function Lc(n){let t=n.r/255,i=n.g/255,o=n.b/255,a=Math.max(t,i,o),r=Math.min(t,i,o),s=(a+r)/2,c,h,p;return a!==r&&(p=a-r,h=s>.5?p/(2-a-r):p/(a+r),c=Jy(t,i,o,p,a),c=c*60+.5),[c|0,h||0,s]}function Fc(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Cn)}function jc(n,e,t){return Fc(qp,n,e,t)}function t1(n,e,t){return Fc(Qy,n,e,t)}function e1(n,e,t){return Fc(Zy,n,e,t)}function Xp(n){return(n%360+360)%360}function i1(n){let e=Ky.exec(n),t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Ta(+e[5]):Cn(+e[5]));let o=Xp(+e[2]),a=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=t1(o,a,r):e[1]==="hsv"?i=e1(o,a,r):i=jc(o,a,r),{r:i[0],g:i[1],b:i[2],a:t}}function n1(n,e){var t=Lc(n);t[0]=Xp(t[0]+e),t=jc(t),n.r=t[0],n.g=t[1],n.b=t[2]}function o1(n){if(!n)return;let e=Lc(n),t=e[0],i=Sp(e[1]),o=Sp(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${o}%, ${Qi(n.a)})`:`hsl(${t}, ${i}%, ${o}%)`}var Mp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function a1(){let n={},e=Object.keys(Dp),t=Object.keys(Mp),i,o,a,r,s;for(i=0;i<e.length;i++){for(r=s=e[i],o=0;o<t.length;o++)a=t[o],s=s.replace(a,Mp[a]);a=parseInt(Dp[r],16),n[s]=[a>>16&255,a>>8&255,a&255]}return n}var ms;function r1(n){ms||(ms=a1(),ms.transparent=[0,0,0,0]);let e=ms[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var s1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function l1(n){let e=s1.exec(n),t=255,i,o,a;if(e){if(e[7]!==i){let r=+e[7];t=e[8]?Ta(r):wn(r*255,0,255)}return i=+e[1],o=+e[3],a=+e[5],i=255&(e[2]?Ta(i):wn(i,0,255)),o=255&(e[4]?Ta(o):wn(o,0,255)),a=255&(e[6]?Ta(a):wn(a,0,255)),{r:i,g:o,b:a,a:t}}}function c1(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Qi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var gc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Do=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function d1(n,e,t){let i=Do(Qi(n.r)),o=Do(Qi(n.g)),a=Do(Qi(n.b));return{r:Cn(gc(i+t*(Do(Qi(e.r))-i))),g:Cn(gc(o+t*(Do(Qi(e.g))-o))),b:Cn(gc(a+t*(Do(Qi(e.b))-a))),a:n.a+t*(e.a-n.a)}}function ps(n,e,t){if(n){let i=Lc(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=jc(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Kp(n,e){return n&&Object.assign(e||{},n)}function Ip(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Cn(n[3]))):(e=Kp(n,{r:0,g:0,b:0,a:1}),e.a=Cn(e.a)),e}function h1(n){return n.charAt(0)==="r"?l1(n):i1(n)}var yc=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,i;t==="object"?i=Ip(e):t==="string"&&(i=$y(e)||r1(e)||h1(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Kp(this._rgb);return e&&(e.a=Qi(e.a)),e}set rgb(e){this._rgb=Ip(e)}rgbString(){return this._valid?c1(this._rgb):void 0}hexString(){return this._valid?Xy(this._rgb):void 0}hslString(){return this._valid?o1(this._rgb):void 0}mix(e,t){if(e){let i=this.rgb,o=e.rgb,a,r=t===a?.5:t,s=2*r-1,c=i.a-o.a,h=((s*c===-1?s:(s+c)/(1+s*c))+1)/2;a=1-h,i.r=255&h*i.r+a*o.r+.5,i.g=255&h*i.g+a*o.g+.5,i.b=255&h*i.b+a*o.b+.5,i.a=r*i.a+(1-r)*o.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=d1(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=Cn(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=Ra(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ps(this._rgb,2,e),this}darken(e){return ps(this._rgb,2,-e),this}saturate(e){return ps(this._rgb,1,e),this}desaturate(e){return ps(this._rgb,1,-e),this}rotate(e){return n1(this._rgb,e),this}};function Zp(n){return new yc(n)}function Qp(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Nc(n){return Qp(n)?n:Zp(n)}function _c(n){return Qp(n)?n:Zp(n).saturate(.5).darken(.1).hexString()}var Sn=Object.create(null),ws=Object.create(null);function Ea(n,e){if(!e)return n;let t=e.split(".");for(let i=0,o=t.length;i<o;++i){let a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function bc(n,e,t){return typeof e=="string"?Po(Ea(n,e),t):Po(Ea(n,""),e)}var kc=class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>_c(i.backgroundColor),this.hoverBorderColor=(t,i)=>_c(i.borderColor),this.hoverColor=(t,i)=>_c(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return bc(this,e,t)}get(e){return Ea(this,e)}describe(e,t){return bc(ws,e,t)}override(e,t){return bc(Sn,e,t)}route(e,t,i,o){let a=Ea(this,e),r=Ea(this,i),s="_"+t;Object.defineProperties(a,{[s]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[s],h=r[o];return st(c)?Object.assign({},h,c):nt(c,h)},set(c){this[s]=c}}})}},ot=new kc({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function m1(n){return!n||ut(n.size)||ut(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Oa(n,e,t,i,o){let a=e[o];return a||(a=e[o]=n.measureText(o).width,t.push(o)),a>i&&(i=a),i}function Jp(n,e,t,i){i=i||{};let o=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},a=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let r=0,s=t.length,c,h,p,f,v;for(c=0;c<s;c++)if(f=t[c],f!=null&&Dt(f)!==!0)r=Oa(n,o,a,r,f);else if(Dt(f))for(h=0,p=f.length;h<p;h++)v=f[h],v!=null&&!Dt(v)&&(r=Oa(n,o,a,r,v));n.restore();let k=a.length/2;if(k>t.length){for(c=0;c<k;c++)delete o[a[c]];a.splice(0,k)}return r}function Mn(n,e,t){let i=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*i)/i+o}function zc(n,e){e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function Cs(n,e,t,i){Bc(n,e,t,i,null)}function Bc(n,e,t,i,o){let a,r,s,c,h,p,f=e.pointStyle,v=e.rotation,k=e.radius,x=(v||0)*Hy;if(f&&typeof f=="object"&&(a=f.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(x),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),f){default:o?n.ellipse(t,i,o/2,k,0,0,xt):n.arc(t,i,k,0,xt),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(x)*k,i-Math.cos(x)*k),x+=kp,n.lineTo(t+Math.sin(x)*k,i-Math.cos(x)*k),x+=kp,n.lineTo(t+Math.sin(x)*k,i-Math.cos(x)*k),n.closePath();break;case"rectRounded":h=k*.516,c=k-h,r=Math.cos(x+Pa)*c,s=Math.sin(x+Pa)*c,n.arc(t-r,i-s,h,x-Et,x-zt),n.arc(t+s,i-r,h,x-zt,x),n.arc(t+r,i+s,h,x,x+zt),n.arc(t-s,i+r,h,x+zt,x+Et),n.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*k,p=o?o/2:c,n.rect(t-p,i-c,2*p,2*c);break}x+=Pa;case"rectRot":r=Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+s,i-r),n.lineTo(t+r,i+s),n.lineTo(t-s,i+r),n.closePath();break;case"crossRot":x+=Pa;case"cross":r=Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+r,i+s),n.moveTo(t+s,i-r),n.lineTo(t-s,i+r);break;case"star":r=Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+r,i+s),n.moveTo(t+s,i-r),n.lineTo(t-s,i+r),x+=Pa,r=Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+r,i+s),n.moveTo(t+s,i-r),n.lineTo(t-s,i+r);break;case"line":r=o?o/2:Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+r,i+s);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(x)*k,i+Math.sin(x)*k);break}n.fill(),e.borderWidth>0&&n.stroke()}}function To(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function La(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Fa(n){n.restore()}function tu(n,e,t,i,o){if(!e)return n.lineTo(t.x,t.y);if(o==="middle"){let a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else o==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function eu(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Dn(n,e,t,i,o,a={}){let r=Dt(e)?e:[e],s=a.strokeWidth>0&&a.strokeColor!=="",c,h;for(n.save(),n.font=o.string,p1(n,a),c=0;c<r.length;++c)h=r[c],s&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),ut(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(h,t,i,a.maxWidth)),n.fillText(h,t,i,a.maxWidth),u1(n,t,i,h,a),i+=o.lineHeight;n.restore()}function p1(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ut(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function u1(n,e,t,i,o){if(o.strikethrough||o.underline){let a=n.measureText(i),r=e-a.actualBoundingBoxLeft,s=e+a.actualBoundingBoxRight,c=t-a.actualBoundingBoxAscent,h=t+a.actualBoundingBoxDescent,p=o.strikethrough?(c+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(r,p),n.lineTo(s,p),n.stroke()}}function Lo(n,e){let{x:t,y:i,w:o,h:a,radius:r}=e;n.arc(t+r.topLeft,i+r.topLeft,r.topLeft,-zt,Et,!0),n.lineTo(t,i+a-r.bottomLeft),n.arc(t+r.bottomLeft,i+a-r.bottomLeft,r.bottomLeft,Et,zt,!0),n.lineTo(t+o-r.bottomRight,i+a),n.arc(t+o-r.bottomRight,i+a-r.bottomRight,r.bottomRight,zt,0,!0),n.lineTo(t+o,i+r.topRight),n.arc(t+o-r.topRight,i+r.topRight,r.topRight,0,-zt,!0),n.lineTo(t+r.topLeft,i)}var f1=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),g1=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function _1(n,e){let t=(""+n).match(f1);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var b1=n=>+n||0;function Ss(n,e){let t={},i=st(e),o=i?Object.keys(e):e,a=st(n)?i?r=>nt(n[r],n[e[r]]):r=>n[r]:()=>n;for(let r of o)t[r]=b1(a(r));return t}function Vc(n){return Ss(n,{top:"y",right:"x",bottom:"y",left:"x"})}function In(n){return Ss(n,["topLeft","topRight","bottomLeft","bottomRight"])}function me(n){let e=Vc(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qt(n,e){n=n||{},e=e||ot.font;let t=nt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=nt(n.style,e.style);i&&!(""+i).match(g1)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");let o={family:nt(n.family,e.family),lineHeight:_1(nt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:nt(n.weight,e.weight),string:""};return o.string=m1(o),o}function Fo(n,e,t,i){let o=!0,a,r,s;for(a=0,r=n.length;a<r;++a)if(s=n[a],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),o=!1),t!==void 0&&Dt(s)&&(s=s[t%s.length],o=!1),s!==void 0))return i&&!o&&(i.cacheable=!1),s}function iu(n,e,t){let{min:i,max:o}=n,a=wc(e,(o-i)/2),r=(s,c)=>t&&s===0?0:s+c;return{min:r(i,-Math.abs(a)),max:r(o,a)}}function en(n,e){return Object.assign(Object.create(n),e)}function Ms(n,e=[""],t=n,i,o=()=>n[0]){Xe(i)||(i=au("_fallback",n));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:i,_getTarget:o,override:r=>Ms([r,...n],e,t,i)};return new Proxy(a,{deleteProperty(r,s){return delete r[s],delete r._keys,delete n[0][s],!0},get(r,s){return nu(r,s,()=>M1(s,e,n,r))},getOwnPropertyDescriptor(r,s){return Reflect.getOwnPropertyDescriptor(r._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(r,s){return Tp(r).includes(s)},ownKeys(r){return Tp(r)},set(r,s,c){let h=r._storage||(r._storage=o());return r[s]=h[s]=c,delete r._keys,!0}})}function $n(n,e,t,i){let o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Hc(n,i),setContext:a=>$n(n,a,t,i),override:a=>$n(n.override(a),e,t,i)};return new Proxy(o,{deleteProperty(a,r){return delete a[r],delete n[r],!0},get(a,r,s){return nu(a,r,()=>x1(a,r,s))},getOwnPropertyDescriptor(a,r){return a._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,r){return Reflect.has(n,r)},ownKeys(){return Reflect.ownKeys(n)},set(a,r,s){return n[r]=s,delete a[r],!0}})}function Hc(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:i,isScriptable:Ji(t)?t:()=>t,isIndexable:Ji(i)?i:()=>i}}var v1=(n,e)=>n?n+vs(e):e,Wc=(n,e)=>st(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function nu(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];let i=t();return n[e]=i,i}function x1(n,e,t){let{_proxy:i,_context:o,_subProxy:a,_descriptors:r}=n,s=i[e];return Ji(s)&&r.isScriptable(e)&&(s=y1(e,s,n,t)),Dt(s)&&s.length&&(s=k1(e,s,n,r.isIndexable)),Wc(e,s)&&(s=$n(s,o,a&&a[e],r)),s}function y1(n,e,t,i){let{_proxy:o,_context:a,_subProxy:r,_stack:s}=t;if(s.has(n))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+n);return s.add(n),e=e(a,r||i),s.delete(n),Wc(n,e)&&(e=Yc(o._scopes,o,n,e)),e}function k1(n,e,t,i){let{_proxy:o,_context:a,_subProxy:r,_descriptors:s}=t;if(Xe(a.index)&&i(n))e=e[a.index%e.length];else if(st(e[0])){let c=e,h=o._scopes.filter(p=>p!==c);e=[];for(let p of c){let f=Yc(h,o,n,p);e.push($n(f,a,r&&r[n],s))}}return e}function ou(n,e,t){return Ji(n)?n(e,t):n}var w1=(n,e)=>n===!0?e:typeof n=="string"?tn(e,n):void 0;function C1(n,e,t,i,o){for(let a of e){let r=w1(t,a);if(r){n.add(r);let s=ou(r._fallback,t,o);if(Xe(s)&&s!==t&&s!==i)return s}else if(r===!1&&Xe(i)&&t!==i)return null}return!1}function Yc(n,e,t,i){let o=e._rootScopes,a=ou(e._fallback,t,i),r=[...n,...o],s=new Set;s.add(i);let c=Pp(s,r,t,a||t,i);return c===null||Xe(a)&&a!==t&&(c=Pp(s,r,a,c,i),c===null)?!1:Ms(Array.from(s),[""],o,a,()=>S1(e,t,i))}function Pp(n,e,t,i,o){for(;t;)t=C1(n,e,t,i,o);return t}function S1(n,e,t){let i=n._getTarget();e in i||(i[e]={});let o=i[e];return Dt(o)&&st(t)?t:o}function M1(n,e,t,i){let o;for(let a of e)if(o=au(v1(a,n),t),Xe(o))return Wc(n,o)?Yc(t,i,n,o):o}function au(n,e){for(let t of e){if(!t)continue;let i=t[n];if(Xe(i))return i}}function Tp(n){let e=n._keys;return e||(e=n._keys=D1(n._scopes)),e}function D1(n){let e=new Set;for(let t of n)for(let i of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function Uc(n,e,t,i){let{iScale:o}=n,{key:a="r"}=this._parsing,r=new Array(i),s,c,h,p;for(s=0,c=i;s<c;++s)h=s+t,p=e[h],r[s]={r:o.parse(tn(p,a),h)};return r}var I1=Number.EPSILON||1e-14,Eo=(n,e)=>e<n.length&&!n[e].skip&&n[e],ru=n=>n==="x"?"y":"x";function P1(n,e,t,i){let o=n.skip?e:n,a=e,r=t.skip?e:t,s=_s(a,o),c=_s(r,a),h=s/(s+c),p=c/(s+c);h=isNaN(h)?0:h,p=isNaN(p)?0:p;let f=i*h,v=i*p;return{previous:{x:a.x-f*(r.x-o.x),y:a.y-f*(r.y-o.y)},next:{x:a.x+v*(r.x-o.x),y:a.y+v*(r.y-o.y)}}}function T1(n,e,t){let i=n.length,o,a,r,s,c,h=Eo(n,0);for(let p=0;p<i-1;++p)if(c=h,h=Eo(n,p+1),!(!c||!h)){if(Ao(e[p],0,I1)){t[p]=t[p+1]=0;continue}o=t[p]/e[p],a=t[p+1]/e[p],s=Math.pow(o,2)+Math.pow(a,2),!(s<=9)&&(r=3/Math.sqrt(s),t[p]=o*r*e[p],t[p+1]=a*r*e[p])}}function E1(n,e,t="x"){let i=ru(t),o=n.length,a,r,s,c=Eo(n,0);for(let h=0;h<o;++h){if(r=s,s=c,c=Eo(n,h+1),!s)continue;let p=s[t],f=s[i];r&&(a=(p-r[t])/3,s[`cp1${t}`]=p-a,s[`cp1${i}`]=f-a*e[h]),c&&(a=(c[t]-p)/3,s[`cp2${t}`]=p+a,s[`cp2${i}`]=f+a*e[h])}}function O1(n,e="x"){let t=ru(e),i=n.length,o=Array(i).fill(0),a=Array(i),r,s,c,h=Eo(n,0);for(r=0;r<i;++r)if(s=c,c=h,h=Eo(n,r+1),!!c){if(h){let p=h[e]-c[e];o[r]=p!==0?(h[t]-c[t])/p:0}a[r]=s?h?_i(o[r-1])!==_i(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}T1(n,o,a),E1(n,a,e)}function us(n,e,t){return Math.max(Math.min(n,t),e)}function A1(n,e){let t,i,o,a,r,s=To(n[0],e);for(t=0,i=n.length;t<i;++t)r=a,a=s,s=t<i-1&&To(n[t+1],e),a&&(o=n[t],r&&(o.cp1x=us(o.cp1x,e.left,e.right),o.cp1y=us(o.cp1y,e.top,e.bottom)),s&&(o.cp2x=us(o.cp2x,e.left,e.right),o.cp2y=us(o.cp2y,e.top,e.bottom)))}function su(n,e,t,i,o){let a,r,s,c;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")O1(n,o);else{let h=i?n[n.length-1]:n[0];for(a=0,r=n.length;a<r;++a)s=n[a],c=P1(h,s,n[Math.min(a+1,r-(i?0:1))%r],e.tension),s.cp1x=c.previous.x,s.cp1y=c.previous.y,s.cp2x=c.next.x,s.cp2y=c.next.y,h=s}e.capBezierPoints&&A1(n,t)}function Gc(){return typeof window<"u"&&typeof document<"u"}function Ds(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bs(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}var Is=n=>window.getComputedStyle(n,null);function R1(n,e){return Is(n).getPropertyValue(e)}var L1=["top","right","bottom","left"];function Gn(n,e,t){let i={};t=t?"-"+t:"";for(let o=0;o<4;o++){let a=L1[o];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var F1=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function j1(n,e){let t=n.touches,i=t&&t.length?t[0]:n,{offsetX:o,offsetY:a}=i,r=!1,s,c;if(F1(o,a,n.target))s=o,c=a;else{let h=e.getBoundingClientRect();s=i.clientX-h.left,c=i.clientY-h.top,r=!0}return{x:s,y:c,box:r}}function Pn(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:i}=e,o=Is(t),a=o.boxSizing==="border-box",r=Gn(o,"padding"),s=Gn(o,"border","width"),{x:c,y:h,box:p}=j1(n,t),f=r.left+(p&&s.left),v=r.top+(p&&s.top),{width:k,height:x}=e;return a&&(k-=r.width+s.width,x-=r.height+s.height),{x:Math.round((c-f)/k*t.width/i),y:Math.round((h-v)/x*t.height/i)}}function N1(n,e,t){let i,o;if(e===void 0||t===void 0){let a=Ds(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{let r=a.getBoundingClientRect(),s=Is(a),c=Gn(s,"border","width"),h=Gn(s,"padding");e=r.width-h.width-c.width,t=r.height-h.height-c.height,i=bs(s.maxWidth,a,"clientWidth"),o=bs(s.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||gs,maxHeight:o||gs}}var vc=n=>Math.round(n*10)/10;function lu(n,e,t,i){let o=Is(n),a=Gn(o,"margin"),r=bs(o.maxWidth,n,"clientWidth")||gs,s=bs(o.maxHeight,n,"clientHeight")||gs,c=N1(n,e,t),{width:h,height:p}=c;if(o.boxSizing==="content-box"){let f=Gn(o,"border","width"),v=Gn(o,"padding");h-=v.width+f.width,p-=v.height+f.height}return h=Math.max(0,h-a.width),p=Math.max(0,i?Math.floor(h/i):p-a.height),h=vc(Math.min(h,r,c.maxWidth)),p=vc(Math.min(p,s,c.maxHeight)),h&&!p&&(p=vc(h/2)),{width:h,height:p}}function $c(n,e,t){let i=e||1,o=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=o/i,n.width=a/i;let r=n.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||r.height!==o||r.width!==a?(n.currentDevicePixelRatio=i,r.height=o,r.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var cu=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function qc(n,e){let t=R1(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function kn(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function du(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function hu(n,e,t,i){let o={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},r=kn(n,o,t),s=kn(o,a,t),c=kn(a,e,t),h=kn(r,s,t),p=kn(s,c,t);return kn(h,p,t)}var Ep=new Map;function z1(n,e){e=e||{};let t=n+JSON.stringify(e),i=Ep.get(t);return i||(i=new Intl.NumberFormat(n,e),Ep.set(t,i)),i}function jo(n,e,t){return z1(e,t).format(n)}var B1=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},V1=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Xn(n,e,t){return n?B1(e,t):V1()}function Xc(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Kc(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function mu(n){return n==="angle"?{between:Ro,compare:Wy,normalize:Ve}:{between:Li,compare:(e,t)=>e-t,normalize:e=>e}}function Op({start:n,end:e,count:t,loop:i,style:o}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:o}}function H1(n,e,t){let{property:i,start:o,end:a}=t,{between:r,normalize:s}=mu(i),c=e.length,{start:h,end:p,loop:f}=n,v,k;if(f){for(h+=c,p+=c,v=0,k=c;v<k&&r(s(e[h%c][i]),o,a);++v)h--,p--;h%=c,p%=c}return p<h&&(p+=c),{start:h,end:p,loop:f,style:n.style}}function Zc(n,e,t){if(!t)return[n];let{property:i,start:o,end:a}=t,r=e.length,{compare:s,between:c,normalize:h}=mu(i),{start:p,end:f,loop:v,style:k}=H1(n,e,t),x=[],C=!1,M=null,I,E,L,R=()=>c(o,L,I)&&s(o,L)!==0,O=()=>s(a,I)===0||c(a,L,I),z=()=>C||R(),H=()=>!C||O();for(let W=p,q=p;W<=f;++W)E=e[W%r],!E.skip&&(I=h(E[i]),I!==L&&(C=c(I,o,a),M===null&&z()&&(M=s(I,o)===0?W:q),M!==null&&H()&&(x.push(Op({start:M,end:W,loop:v,count:r,style:k})),M=null),q=W,L=I));return M!==null&&x.push(Op({start:M,end:f,loop:v,count:r,style:k})),x}function Qc(n,e){let t=[],i=n.segments;for(let o=0;o<i.length;o++){let a=Zc(i[o],n.points,e);a.length&&t.push(...a)}return t}function W1(n,e,t,i){let o=0,a=e-1;if(t&&!i)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,t&&(a+=o);a>o&&n[a%e].skip;)a--;return a%=e,{start:o,end:a}}function Y1(n,e,t,i){let o=n.length,a=[],r=e,s=n[e],c;for(c=e+1;c<=t;++c){let h=n[c%o];h.skip||h.stop?s.skip||(i=!1,a.push({start:e%o,end:(c-1)%o,loop:i}),e=r=h.stop?c:null):(r=c,s.skip&&(e=c)),s=h}return r!==null&&a.push({start:e%o,end:r%o,loop:i}),a}function pu(n,e){let t=n.points,i=n.options.spanGaps,o=t.length;if(!o)return[];let a=!!n._loop,{start:r,end:s}=W1(t,o,a,i);if(i===!0)return Ap(n,[{start:r,end:s,loop:a}],t,e);let c=s<r?s+o:s,h=!!n._fullLoop&&r===0&&s===o-1;return Ap(n,Y1(t,r,c,h),t,e)}function Ap(n,e,t,i){return!i||!i.setContext||!t?e:U1(n,e,t,i)}function U1(n,e,t,i){let o=n._chart.getContext(),a=Rp(n.options),{_datasetIndex:r,options:{spanGaps:s}}=n,c=t.length,h=[],p=a,f=e[0].start,v=f;function k(x,C,M,I){let E=s?-1:1;if(x!==C){for(x+=c;t[x%c].skip;)x-=E;for(;t[C%c].skip;)C+=E;x%c!==C%c&&(h.push({start:x%c,end:C%c,loop:M,style:I}),p=I,f=C%c)}}for(let x of e){f=s?f:x.start;let C=t[f%c],M;for(v=f+1;v<=x.end;v++){let I=t[v%c];M=Rp(i.setContext(en(o,{type:"segment",p0:C,p1:I,p0DataIndex:(v-1)%c,p1DataIndex:v%c,datasetIndex:r}))),G1(M,p)&&k(f,v-1,x.loop,p),C=I,p=M}f<v-1&&k(f,v-1,x.loop,p)}return h}function Rp(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function G1(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}var ld=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,o){let a=t.listeners[o],r=t.duration;a.forEach(s=>s({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Ec.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;let a=i.items,r=a.length-1,s=!1,c;for(;r>=0;--r)c=a[r],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),s=!0):(a[r]=a[a.length-1],a.pop());s&&(o.draw(),this._notify(o,i,e,"progress")),a.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,o=i.length-1;for(;o>=0;--o)i[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},nn=new ld,uu="transparent",$1={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let i=Nc(n||uu),o=i.valid&&Nc(e||uu);return o&&o.valid?o.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}},cd=class{constructor(e,t,i,o){let a=t[i];o=Fo([e.to,o,a,e.from]);let r=Fo([e.from,a,o]);this._active=!0,this._fn=e.fn||$1[e.type||typeof r],this._easing=Io[e.easing]||Io.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let o=this._target[this._prop],a=i-this._start,r=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Fo([e.to,t,o,e.from]),this._from=Fo([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,i=this._duration,o=this._prop,a=this._from,r=this._loop,s=this._to,c;if(this._active=a!==s&&(r||t<i),!this._active){this._target[o]=s,this._notify(!0);return}if(t<0){this._target[o]=a;return}c=t/i%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[o]=this._fn(a,s,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][t]()}},q1=["x","y","borderWidth","radius","tension"],X1=["color","borderColor","backgroundColor"];ot.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var K1=Object.keys(ot.animation);ot.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});ot.set("animations",{colors:{type:"color",properties:X1},numbers:{type:"number",properties:q1}});ot.describe("animations",{_fallback:"animation"});ot.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});var Fs=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!st(e))return;let t=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let o=e[i];if(!st(o))return;let a={};for(let r of K1)a[r]=o[r];(Dt(o.properties)&&o.properties||[i]).forEach(r=>{(r===i||!t.has(r))&&t.set(r,a)})})}_animateOptions(e,t){let i=t.options,o=Q1(e,i);if(!o)return[];let a=this._createAnimations(o,i);return i.$shared&&Z1(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){let i=this._properties,o=[],a=e.$animations||(e.$animations={}),r=Object.keys(t),s=Date.now(),c;for(c=r.length-1;c>=0;--c){let h=r[c];if(h.charAt(0)==="$")continue;if(h==="options"){o.push(...this._animateOptions(e,t));continue}let p=t[h],f=a[h],v=i.get(h);if(f)if(v&&f.active()){f.update(v,p,s);continue}else f.cancel();if(!v||!v.duration){e[h]=p;continue}a[h]=f=new cd(v,e,h,p),o.push(f)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return nn.add(this._chart,i),!0}};function Z1(n,e){let t=[],i=Object.keys(e);for(let o=0;o<i.length;o++){let a=n[i[o]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function Q1(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function fu(n,e){let t=n&&n.options||{},i=t.reverse,o=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:o,end:i?o:a}}function J1(n,e,t){if(t===!1)return!1;let i=fu(n,t),o=fu(e,t);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function tk(n){let e,t,i,o;return st(n)?(e=n.top,t=n.right,i=n.bottom,o=n.left):e=t=i=o=n,{top:e,right:t,bottom:i,left:o,disabled:n===!1}}function sf(n,e){let t=[],i=n._getSortedDatasetMetas(e),o,a;for(o=0,a=i.length;o<a;++o)t.push(i[o].index);return t}function gu(n,e,t,i={}){let o=n.keys,a=i.mode==="single",r,s,c,h;if(e!==null){for(r=0,s=o.length;r<s;++r){if(c=+o[r],c===t){if(i.all)continue;break}h=n.values[c],Gt(h)&&(a||e===0||_i(e)===_i(h))&&(e+=h)}return e}}function ek(n){let e=Object.keys(n),t=new Array(e.length),i,o,a;for(i=0,o=e.length;i<o;++i)a=e[i],t[i]={x:a,y:n[a]};return t}function _u(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function ik(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function nk(n){let{min:e,max:t,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function ok(n,e,t){let i=n[e]||(n[e]={});return i[t]||(i[t]={})}function bu(n,e,t,i){for(let o of e.getMatchingVisibleMetas(i).reverse()){let a=n[o.index];if(t&&a>0||!t&&a<0)return o.index}return null}function vu(n,e){let{chart:t,_cachedMeta:i}=n,o=t._stacks||(t._stacks={}),{iScale:a,vScale:r,index:s}=i,c=a.axis,h=r.axis,p=ik(a,r,i),f=e.length,v;for(let k=0;k<f;++k){let x=e[k],{[c]:C,[h]:M}=x,I=x._stacks||(x._stacks={});v=I[h]=ok(o,p,C),v[s]=M,v._top=bu(v,r,!0,i.type),v._bottom=bu(v,r,!1,i.type)}}function Jc(n,e){let t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function ak(n,e){return en(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function rk(n,e,t){return en(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ja(n,e){let t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(let o of e){let a=o._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t]}}}var td=n=>n==="reset"||n==="none",xu=(n,e)=>e?n:Object.assign({},n),sk=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:sf(t,!0),values:null},Ni=(()=>{class n{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=_u(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&ja(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,o=this.getDataset(),a=(v,k,x,C)=>v==="x"?k:v==="r"?C:x,r=i.xAxisID=nt(o.xAxisID,Jc(t,"x")),s=i.yAxisID=nt(o.yAxisID,Jc(t,"y")),c=i.rAxisID=nt(o.rAxisID,Jc(t,"r")),h=i.indexAxis,p=i.iAxisID=a(h,r,s,c),f=i.vAxisID=a(h,s,r,c);i.xScale=this.getScaleForId(r),i.yScale=this.getScaleForId(s),i.rScale=this.getScaleForId(c),i.iScale=this.getScaleForId(p),i.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Pc(this._data,this),t._stacked&&ja(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),o=this._data;if(st(i))this._data=ek(i);else if(o!==i){if(o){Pc(o,this);let a=this._cachedMeta;ja(a),a._parsed=[]}i&&Object.isExtensible(i)&&Up(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,o=this.getDataset(),a=!1;this._dataCheck();let r=i._stacked;i._stacked=_u(i.vScale,i),i.stack!==o.stack&&(a=!0,ja(i),i.stack=o.stack),this._resyncElements(t),(a||r!==i._stacked)&&vu(this,i._parsed)}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:o,_data:a}=this,{iScale:r,_stacked:s}=o,c=r.axis,h=t===0&&i===a.length?!0:o._sorted,p=t>0&&o._parsed[t-1],f,v,k;if(this._parsing===!1)o._parsed=a,o._sorted=!0,k=a;else{Dt(a[t])?k=this.parseArrayData(o,a,t,i):st(a[t])?k=this.parseObjectData(o,a,t,i):k=this.parsePrimitiveData(o,a,t,i);let x=()=>v[c]===null||p&&v[c]<p[c];for(f=0;f<i;++f)o._parsed[f+t]=v=k[f],h&&(x()&&(h=!1),p=v);o._sorted=h}s&&vu(this,k)}parsePrimitiveData(t,i,o,a){let{iScale:r,vScale:s}=t,c=r.axis,h=s.axis,p=r.getLabels(),f=r===s,v=new Array(a),k,x,C;for(k=0,x=a;k<x;++k)C=k+o,v[k]={[c]:f||r.parse(p[C],C),[h]:s.parse(i[C],C)};return v}parseArrayData(t,i,o,a){let{xScale:r,yScale:s}=t,c=new Array(a),h,p,f,v;for(h=0,p=a;h<p;++h)f=h+o,v=i[f],c[h]={x:r.parse(v[0],f),y:s.parse(v[1],f)};return c}parseObjectData(t,i,o,a){let{xScale:r,yScale:s}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,p=new Array(a),f,v,k,x;for(f=0,v=a;f<v;++f)k=f+o,x=i[k],p[f]={x:r.parse(tn(x,c),k),y:s.parse(tn(x,h),k)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,o){let a=this.chart,r=this._cachedMeta,s=i[t.axis],c={keys:sf(a,!0),values:i._stacks[t.axis]};return gu(c,s,r.index,{mode:o})}updateRangeFromParsed(t,i,o,a){let r=o[i.axis],s=r===null?NaN:r,c=a&&o._stacks[i.axis];a&&c&&(a.values=c,s=gu(a,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,i){let o=this._cachedMeta,a=o._parsed,r=o._sorted&&t===o.iScale,s=a.length,c=this._getOtherScale(t),h=sk(i,o,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:v}=nk(c),k,x;function C(){x=a[k];let M=x[c.axis];return!Gt(x[t.axis])||f>M||v<M}for(k=0;k<s&&!(!C()&&(this.updateRangeFromParsed(p,t,x,h),r));++k);if(r){for(k=s-1;k>=0;--k)if(!C()){this.updateRangeFromParsed(p,t,x,h);break}}return p}getAllParsedValues(t){let i=this._cachedMeta._parsed,o=[],a,r,s;for(a=0,r=i.length;a<r;++a)s=i[a][t.axis],Gt(s)&&o.push(s);return o}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,o=i.iScale,a=i.vScale,r=this.getParsed(t);return{label:o?""+o.getLabelForValue(r[o.axis]):"",value:a?""+a.getLabelForValue(r[a.axis]):""}}_update(t){let i=this._cachedMeta;this.update(t||"default"),i._clip=tk(nt(this.options.clip,J1(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,i=this.chart,o=this._cachedMeta,a=o.data||[],r=i.chartArea,s=[],c=this._drawStart||0,h=this._drawCount||a.length-c,p=this.options.drawActiveElementsOnTop,f;for(o.dataset&&o.dataset.draw(t,r,c,h),f=c;f<c+h;++f){let v=a[f];v.hidden||(v.active&&p?s.push(v):v.draw(t,r))}for(f=0;f<s.length;++f)s[f].draw(t,r)}getStyle(t,i){let o=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,i,o){let a=this.getDataset(),r;if(t>=0&&t<this._cachedMeta.data.length){let s=this._cachedMeta.data[t];r=s.$context||(s.$context=rk(this.getContext(),t,s)),r.parsed=this.getParsed(t),r.raw=a.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=ak(this.chart.getContext(),this.index)),r.dataset=a,r.index=r.datasetIndex=this.index;return r.active=!!i,r.mode=o,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",o){let a=i==="active",r=this._cachedDataOpts,s=t+"-"+i,c=r[s],h=this.enableOptionSharing&&Xe(o);if(c)return xu(c,h);let p=this.chart.config,f=p.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],k=p.getOptionScopes(this.getDataset(),f),x=Object.keys(ot.elements[t]),C=()=>this.getContext(o,a),M=p.resolveNamedOptions(k,x,C,v);return M.$shared&&(M.$shared=h,r[s]=Object.freeze(xu(M,h))),M}_resolveAnimations(t,i,o){let a=this.chart,r=this._cachedDataOpts,s=`animation-${i}`,c=r[s];if(c)return c;let h;if(a.options.animation!==!1){let f=this.chart.config,v=f.datasetAnimationScopeKeys(this._type,i),k=f.getOptionScopes(this.getDataset(),v);h=f.createResolver(k,this.getContext(t,o,i))}let p=new Fs(a,h&&h.animations);return h&&h._cacheable&&(r[s]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||td(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let o=this.resolveDataElementOptions(t,i),a=this._sharedOptions,r=this.getSharedOptions(o),s=this.includeOptions(i,r)||r!==a;return this.updateSharedOptions(r,i,o),{sharedOptions:r,includeOptions:s}}updateElement(t,i,o,a){td(a)?Object.assign(t,o):this._resolveAnimations(i,a).update(t,o)}updateSharedOptions(t,i,o){t&&!td(i)&&this._resolveAnimations(void 0,i).update(t,o)}_setStyle(t,i,o,a){t.active=a;let r=this.getStyle(i,a);this._resolveAnimations(i,o,a).update(t,{options:!a&&this.getSharedOptions(r)||r})}removeHoverStyle(t,i,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,i,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,o=this._cachedMeta.data;for(let[c,h,p]of this._syncList)this[c](h,p);this._syncList=[];let a=o.length,r=i.length,s=Math.min(r,a);s&&this.parse(0,s),r>a?this._insertElements(a,r-a,t):r<a&&this._removeElements(r,a-r)}_insertElements(t,i,o=!0){let a=this._cachedMeta,r=a.data,s=t+i,c,h=p=>{for(p.length+=i,c=p.length-1;c>=s;c--)p[c]=p[c-i]};for(h(r),c=t;c<s;++c)r[c]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(t,i),o&&this.updateElements(r,t,i,"reset")}updateElements(t,i,o,a){}_removeElements(t,i){let o=this._cachedMeta;if(this._parsing){let a=o._parsed.splice(t,i);o._stacked&&ja(o,a)}o.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,o,a]=t;this[i](o,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();Ni.prototype.datasetElementType=null;Ni.prototype.dataElementType=null;function lk(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),i=[];for(let o=0,a=t.length;o<a;o++)i=i.concat(t[o].controller.getAllParsedValues(n));n._cache.$bar=Tc(i.sort((o,a)=>o-a))}return n._cache.$bar}function ck(n){let e=n.iScale,t=lk(e,n.type),i=e._length,o,a,r,s,c=()=>{r===32767||r===-32768||(Xe(s)&&(i=Math.min(i,Math.abs(r-s)||i)),s=r)};for(o=0,a=t.length;o<a;++o)r=e.getPixelForValue(t[o]),c();for(s=void 0,o=0,a=e.ticks.length;o<a;++o)r=e.getPixelForTick(o),c();return i}function dk(n,e,t,i){let o=t.barThickness,a,r;return ut(o)?(a=e.min*t.categoryPercentage,r=t.barPercentage):(a=o*i,r=1),{chunk:a/i,ratio:r,start:e.pixels[n]-a/2}}function hk(n,e,t,i){let o=e.pixels,a=o[n],r=n>0?o[n-1]:null,s=n<o.length-1?o[n+1]:null,c=t.categoryPercentage;r===null&&(r=a-(s===null?e.end-e.start:s-a)),s===null&&(s=a+a-r);let h=a-(a-Math.min(r,s))/2*c;return{chunk:Math.abs(s-r)/2*c/i,ratio:t.barPercentage,start:h}}function mk(n,e,t,i){let o=t.parse(n[0],i),a=t.parse(n[1],i),r=Math.min(o,a),s=Math.max(o,a),c=r,h=s;Math.abs(r)>Math.abs(s)&&(c=s,h=r),e[t.axis]=h,e._custom={barStart:c,barEnd:h,start:o,end:a,min:r,max:s}}function lf(n,e,t,i){return Dt(n)?mk(n,e,t,i):e[t.axis]=t.parse(n,i),e}function yu(n,e,t,i){let o=n.iScale,a=n.vScale,r=o.getLabels(),s=o===a,c=[],h,p,f,v;for(h=t,p=t+i;h<p;++h)v=e[h],f={},f[o.axis]=s||o.parse(r[h],h),c.push(lf(v,f,a,h));return c}function ed(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function pk(n,e,t){return n!==0?_i(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function uk(n){let e,t,i,o,a;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(o="end",a="start"):(o="start",a="end"),{start:t,end:i,reverse:e,top:o,bottom:a}}function fk(n,e,t,i){let o=e.borderSkipped,a={};if(!o){n.borderSkipped=a;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:r,end:s,reverse:c,top:h,bottom:p}=uk(n);o==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?o=h:(t._bottom||0)===i?o=p:(a[ku(p,r,s,c)]=!0,o=h)),a[ku(o,r,s,c)]=!0,n.borderSkipped=a}function ku(n,e,t,i){return i?(n=gk(n,e,t),n=wu(n,t,e)):n=wu(n,e,t),n}function gk(n,e,t){return n===e?t:n===t?e:n}function wu(n,e,t){return n==="start"?e:n==="end"?t:n}function _k(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var bk=(()=>{class n extends Ni{parsePrimitiveData(t,i,o,a){return yu(t,i,o,a)}parseArrayData(t,i,o,a){return yu(t,i,o,a)}parseObjectData(t,i,o,a){let{iScale:r,vScale:s}=t,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,p=r.axis==="x"?c:h,f=s.axis==="x"?c:h,v=[],k,x,C,M;for(k=o,x=o+a;k<x;++k)M=i[k],C={},C[r.axis]=r.parse(tn(M,p),k),v.push(lf(tn(M,f),C,s,k));return v}updateRangeFromParsed(t,i,o,a){super.updateRangeFromParsed(t,i,o,a);let r=o._custom;r&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:o,vScale:a}=i,r=this.getParsed(t),s=r._custom,c=ed(s)?"["+s.start+", "+s.end+"]":""+a.getLabelForValue(r[a.axis]);return{label:""+o.getLabelForValue(r[o.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,o,a){let r=a==="reset",{index:s,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),p=c.isHorizontal(),f=this._getRuler(),{sharedOptions:v,includeOptions:k}=this._getSharedOptions(i,a);for(let x=i;x<i+o;x++){let C=this.getParsed(x),M=r||ut(C[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(x),I=this._calculateBarIndexPixels(x,f),E=(C._stacks||{})[c.axis],L={horizontal:p,base:M.base,enableBorderRadius:!E||ed(C._custom)||s===E._top||s===E._bottom,x:p?M.head:I.center,y:p?I.center:M.head,height:p?I.size:Math.abs(M.size),width:p?Math.abs(M.size):I.size};k&&(L.options=v||this.resolveDataElementOptions(x,t[x].active?"active":a));let R=L.options||t[x].options;fk(L,R,E,s),_k(L,R,f.ratio),this.updateElement(t[x],x,L,a)}}_getStacks(t,i){let{iScale:o}=this._cachedMeta,a=o.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=o.options.stacked,s=[],c=h=>{let p=h.controller.getParsed(i),f=p&&p[h.vScale.axis];if(ut(f)||isNaN(f))return!0};for(let h of a)if(!(i!==void 0&&c(h))&&((r===!1||s.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&s.push(h.stack),h.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,o){let a=this._getStacks(t,o),r=i!==void 0?a.indexOf(i):-1;return r===-1?a.length-1:r}_getRuler(){let t=this.options,i=this._cachedMeta,o=i.iScale,a=[],r,s;for(r=0,s=i.data.length;r<s;++r)a.push(o.getPixelForValue(this.getParsed(r)[o.axis],r));let c=t.barThickness;return{min:c||ck(i),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:o},options:{base:a,minBarLength:r}}=this,s=a||0,c=this.getParsed(t),h=c._custom,p=ed(h),f=c[i.axis],v=0,k=o?this.applyStack(i,c,o):f,x,C;k!==f&&(v=k-f,k=f),p&&(f=h.barStart,k=h.barEnd-h.barStart,f!==0&&_i(f)!==_i(h.barEnd)&&(v=0),v+=f);let M=!ut(a)&&!p?a:v,I=i.getPixelForValue(M);if(this.chart.getDataVisibility(t)?x=i.getPixelForValue(v+k):x=I,C=x-I,Math.abs(C)<r){C=pk(C,i,s)*r,f===s&&(I-=C/2);let E=i.getPixelForDecimal(0),L=i.getPixelForDecimal(1),R=Math.min(E,L),O=Math.max(E,L);I=Math.max(Math.min(I,O),R),x=I+C}if(I===i.getPixelForValue(s)){let E=_i(C)*i.getLineWidthForValue(s)/2;I+=E,C-=E}return{size:C,base:I,head:x,center:x+C/2}}_calculateBarIndexPixels(t,i){let o=i.scale,a=this.options,r=a.skipNull,s=nt(a.maxBarThickness,1/0),c,h;if(i.grouped){let p=r?this._getStackCount(t):i.stackCount,f=a.barThickness==="flex"?hk(t,i,a,p):dk(t,i,a,p),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);c=f.start+f.chunk*v+f.chunk/2,h=Math.min(s,f.chunk*f.ratio)}else c=o.getPixelForValue(this.getParsed(t)[o.axis],t),h=Math.min(s,i.min*i.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){let t=this._cachedMeta,i=t.vScale,o=t.data,a=o.length,r=0;for(;r<a;++r)this.getParsed(r)[i.axis]!==null&&o[r].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),vk=(()=>{class n extends Ni{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,o,a){let r=super.parsePrimitiveData(t,i,o,a);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+o).radius;return r}parseArrayData(t,i,o,a){let r=super.parseArrayData(t,i,o,a);for(let s=0;s<r.length;s++){let c=i[o+s];r[s]._custom=nt(c[2],this.resolveDataElementOptions(s+o).radius)}return r}parseObjectData(t,i,o,a){let r=super.parseObjectData(t,i,o,a);for(let s=0;s<r.length;s++){let c=i[o+s];r[s]._custom=nt(c&&c.r&&+c.r,this.resolveDataElementOptions(s+o).radius)}return r}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let o=t.length-1;o>=0;--o)i=Math.max(i,t[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,{xScale:o,yScale:a}=i,r=this.getParsed(t),s=o.getLabelForValue(r.x),c=a.getLabelForValue(r.y),h=r._custom;return{label:i.label,value:"("+s+", "+c+(h?", "+h:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,o,a){let r=a==="reset",{iScale:s,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(i,a),f=s.axis,v=c.axis;for(let k=i;k<i+o;k++){let x=t[k],C=!r&&this.getParsed(k),M={},I=M[f]=r?s.getPixelForDecimal(.5):s.getPixelForValue(C[f]),E=M[v]=r?c.getBasePixel():c.getPixelForValue(C[v]);M.skip=isNaN(I)||isNaN(E),p&&(M.options=h||this.resolveDataElementOptions(k,x.active?"active":a),r&&(M.options.radius=0)),this.updateElement(x,k,M,a)}}resolveDataElementOptions(t,i){let o=this.getParsed(t),a=super.resolveDataElementOptions(t,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let r=a.radius;return i!=="active"&&(a.radius=0),a.radius+=nt(o&&o._custom,r),a}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}},n})();function xk(n,e,t){let i=1,o=1,a=0,r=0;if(e<xt){let s=n,c=s+e,h=Math.cos(s),p=Math.sin(s),f=Math.cos(c),v=Math.sin(c),k=(L,R,O)=>Ro(L,s,c,!0)?1:Math.max(R,R*t,O,O*t),x=(L,R,O)=>Ro(L,s,c,!0)?-1:Math.min(R,R*t,O,O*t),C=k(0,h,f),M=k(zt,p,v),I=x(Et,h,f),E=x(Et+zt,p,v);i=(C-I)/2,o=(M-E)/2,a=-(C+I)/2,r=-(M+E)/2}return{ratioX:i,ratioY:o,offsetX:a,offsetY:r}}var cf=(()=>{class n extends Ni{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let o=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=o;else{let r=h=>+o[h];if(st(o[t])){let{key:h="value"}=this._parsing;r=p=>+tn(o[p],h)}let s,c;for(s=t,c=t+i;s<c;++s)a._parsed[s]=r(s)}}_getRotation(){return ci(this.options.rotation-90)}_getCircumference(){return ci(this.options.circumference)}_getRotationExtents(){let t=xt,i=-xt;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){let a=this.chart.getDatasetMeta(o).controller,r=a._getRotation(),s=a._getCircumference();t=Math.min(t,r),i=Math.max(i,r+s)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:o}=i,a=this._cachedMeta,r=a.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,c=Math.max((Math.min(o.width,o.height)-s)/2,0),h=Math.min(Fp(this.options.cutout,c),1),p=this._getRingWeight(this.index),{circumference:f,rotation:v}=this._getRotationExtents(),{ratioX:k,ratioY:x,offsetX:C,offsetY:M}=xk(v,f,h),I=(o.width-s)/k,E=(o.height-s)/x,L=Math.max(Math.min(I,E)/2,0),R=wc(this.options.radius,L),O=Math.max(R*h,0),z=(R-O)/this._getVisibleDatasetWeightTotal();this.offsetX=C*R,this.offsetY=M*R,a.total=this.calculateTotal(),this.outerRadius=R-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*p,0),this.updateElements(r,0,r.length,t)}_circumference(t,i){let o=this.options,a=this._cachedMeta,r=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*r/xt)}updateElements(t,i,o,a){let r=a==="reset",s=this.chart,c=s.chartArea,p=s.options.animation,f=(c.left+c.right)/2,v=(c.top+c.bottom)/2,k=r&&p.animateScale,x=k?0:this.innerRadius,C=k?0:this.outerRadius,{sharedOptions:M,includeOptions:I}=this._getSharedOptions(i,a),E=this._getRotation(),L;for(L=0;L<i;++L)E+=this._circumference(L,r);for(L=i;L<i+o;++L){let R=this._circumference(L,r),O=t[L],z={x:f+this.offsetX,y:v+this.offsetY,startAngle:E,endAngle:E+R,circumference:R,outerRadius:C,innerRadius:x};I&&(z.options=M||this.resolveDataElementOptions(L,O.active?"active":a)),E+=R,this.updateElement(O,L,z,a)}}calculateTotal(){let t=this._cachedMeta,i=t.data,o=0,a;for(a=0;a<i.length;a++){let r=t._parsed[a];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(o+=Math.abs(r))}return o}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?xt*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,o=this.chart,a=o.data.labels||[],r=jo(i._parsed[t],o.options.locale);return{label:a[t]||"",value:r}}getMaxBorderWidth(t){let i=0,o=this.chart,a,r,s,c,h;if(!t){for(a=0,r=o.data.datasets.length;a<r;++a)if(o.isDatasetVisible(a)){s=o.getDatasetMeta(a),t=s.data,c=s.controller;break}}if(!t)return 0;for(a=0,r=t.length;a<r;++a)h=c.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(i=Math.max(i,h.borderWidth||0,h.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let o=0,a=t.length;o<a;++o){let r=this.resolveDataElementOptions(o);i=Math.max(i,r.offset||0,r.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(t){return Math.max(nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((o,a)=>{let s=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label,i=": "+e.formattedValue;return Dt(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}},n})(),yk=(()=>{class n extends Ni{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:o,data:a=[],_dataset:r}=i,s=this.chart._animationsDisabled,{start:c,count:h}=Ac(i,a,s);this._drawStart=c,this._drawCount=h,Rc(i)&&(c=0,h=a.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=a;let p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(o,void 0,{animated:!s,options:p},t),this.updateElements(a,c,h,t)}updateElements(t,i,o,a){let r=a==="reset",{iScale:s,vScale:c,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:f,includeOptions:v}=this._getSharedOptions(i,a),k=s.axis,x=c.axis,{spanGaps:C,segment:M}=this.options,I=qn(C)?C:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||r||a==="none",L=i>0&&this.getParsed(i-1);for(let R=i;R<i+o;++R){let O=t[R],z=this.getParsed(R),H=E?O:{},W=ut(z[x]),q=H[k]=s.getPixelForValue(z[k],R),at=H[x]=r||W?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,z,h):z[x],R);H.skip=isNaN(q)||isNaN(at)||W,H.stop=R>0&&Math.abs(z[k]-L[k])>I,M&&(H.parsed=z,H.raw=p.data[R]),v&&(H.options=f||this.resolveDataElementOptions(R,O.active?"active":a)),E||this.updateElement(O,R,H,a),L=z}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,o=i.options&&i.options.borderWidth||0,a=t.data||[];if(!a.length)return o;let r=a[0].size(this.resolveDataElementOptions(0)),s=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(o,r,s)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),kk=(()=>{class n extends Ni{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,o=this.chart,a=o.data.labels||[],r=jo(i._parsed[t].r,o.options.locale);return{label:a[t]||"",value:r}}parseObjectData(t,i,o,a){return Uc.bind(this)(t,i,o,a)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((o,a)=>{let r=this.getParsed(a).r;!isNaN(r)&&this.chart.getDataVisibility(a)&&(r<i.min&&(i.min=r),r>i.max&&(i.max=r))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,o=t.options,a=Math.min(i.right-i.left,i.bottom-i.top),r=Math.max(a/2,0),s=Math.max(o.cutoutPercentage?r/100*o.cutoutPercentage:1,0),c=(r-s)/t.getVisibleDatasetCount();this.outerRadius=r-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,i,o,a){let r=a==="reset",s=this.chart,h=s.options.animation,p=this._cachedMeta.rScale,f=p.xCenter,v=p.yCenter,k=p.getIndexAngle(0)-.5*Et,x=k,C,M=360/this.countVisibleElements();for(C=0;C<i;++C)x+=this._computeAngle(C,a,M);for(C=i;C<i+o;C++){let I=t[C],E=x,L=x+this._computeAngle(C,a,M),R=s.getDataVisibility(C)?p.getDistanceFromCenterForValue(this.getParsed(C).r):0;x=L,r&&(h.animateScale&&(R=0),h.animateRotate&&(E=L=k));let O={x:f,y:v,innerRadius:0,outerRadius:R,startAngle:E,endAngle:L,options:this.resolveDataElementOptions(C,I.active?"active":a)};this.updateElement(I,C,O,a)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((o,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(t,i,o){return this.chart.getDataVisibility(t)?ci(this.resolveDataElementOptions(t,i).angle||o):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((o,a)=>{let s=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),wk=(()=>{class n extends cf{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),Ck=(()=>{class n extends Ni{getLabelAndValue(t){let i=this._cachedMeta.vScale,o=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(t,i,o,a){return Uc.bind(this)(t,i,o,a)}update(t){let i=this._cachedMeta,o=i.dataset,a=i.data||[],r=i.iScale.getLabels();if(o.points=a,t!=="resize"){let s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0);let c={_loop:!0,_fullLoop:r.length===a.length,options:s};this.updateElement(o,void 0,c,t)}this.updateElements(a,0,a.length,t)}updateElements(t,i,o,a){let r=this._cachedMeta.rScale,s=a==="reset";for(let c=i;c<i+o;c++){let h=t[c],p=this.resolveDataElementOptions(c,h.active?"active":a),f=r.getPointPositionForValue(c,this.getParsed(c).r),v=s?r.xCenter:f.x,k=s?r.yCenter:f.y,x={x:v,y:k,angle:f.angle,skip:isNaN(v)||isNaN(k),options:p};this.updateElement(h,c,x,a)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),Qe=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return qn(this.x)&&qn(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let o={};return e.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),o}};Qe.defaults={};Qe.defaultRoutes=void 0;var df={values(n){return Dt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let i=this.chart.options.locale,o,a=n;if(t.length>1){let h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(o="scientific"),a=Sk(n,t)}let r=Ze(Math.abs(a)),s=Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:o,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(c,this.options.ticks.format),jo(n,i,c)},logarithmic(n,e,t){if(n===0)return"0";let i=n/Math.pow(10,Math.floor(Ze(n)));return i===1||i===2||i===5?df.numeric.call(this,n,e,t):""}};function Sk(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Hs={formatters:df};ot.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hs.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});ot.route("scale.ticks","color","","color");ot.route("scale.grid","color","","borderColor");ot.route("scale.grid","borderColor","","borderColor");ot.route("scale.title","color","","color");ot.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});ot.describe("scales",{_fallback:"scale"});ot.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function Mk(n,e){let t=n.options.ticks,i=t.maxTicksLimit||Dk(n),o=t.major.enabled?Pk(e):[],a=o.length,r=o[0],s=o[a-1],c=[];if(a>i)return Tk(e,c,o,a/i),c;let h=Ik(o,e,i);if(a>0){let p,f,v=a>1?Math.round((s-r)/(a-1)):null;for(Ps(e,c,h,ut(v)?0:r-v,r),p=0,f=a-1;p<f;p++)Ps(e,c,h,o[p],o[p+1]);return Ps(e,c,h,s,ut(v)?e.length:s+v),c}return Ps(e,c,h),c}function Dk(n){let e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(i,o))}function Ik(n,e,t){let i=Ek(n),o=e.length/t;if(!i)return Math.max(o,1);let a=zp(i);for(let r=0,s=a.length-1;r<s;r++){let c=a[r];if(c>o)return c}return Math.max(o,1)}function Pk(n){let e=[],t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Tk(n,e,t,i){let o=0,a=t[0],r;for(i=Math.ceil(i),r=0;r<n.length;r++)r===a&&(e.push(n[r]),o++,a=t[o*i])}function Ps(n,e,t,i,o){let a=nt(i,0),r=Math.min(nt(o,n.length),n.length),s=0,c,h,p;for(t=Math.ceil(t),o&&(c=o-i,t=c/Math.floor(c/t)),p=a;p<0;)s++,p=Math.round(a+s*t);for(h=Math.max(a,0);h<r;h++)h===p&&(e.push(n[h]),s++,p=Math.round(a+s*t))}function Ek(n){let e=n.length,t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}var Ok=n=>n==="left"?"right":n==="right"?"left":n,Cu=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t;function Su(n,e){let t=[],i=n.length/e,o=n.length,a=0;for(;a<o;a+=i)t.push(n[Math.floor(a)]);return t}function Ak(n,e,t){let i=n.ticks.length,o=Math.min(e,i-1),a=n._startPixel,r=n._endPixel,s=1e-6,c=n.getPixelForTick(o),h;if(!(t&&(i===1?h=Math.max(c-a,r-c):e===0?h=(n.getPixelForTick(1)-c)/2:h=(c-n.getPixelForTick(o-1))/2,c+=o<e?h:-h,c<a-s||c>r+s)))return c}function Rk(n,e){vt(n,t=>{let i=t.gc,o=i.length/2,a;if(o>e){for(a=0;a<o;++a)delete t.data[i[a]];i.splice(0,o)}})}function Na(n){return n.drawTicks?n.tickLength:0}function Mu(n,e){if(!n.display)return 0;let t=Qt(n.font,e),i=me(n.padding);return(Dt(n.text)?n.text.length:1)*t.lineHeight+i.height}function Lk(n,e){return en(n,{scale:e,type:"scale"})}function Fk(n,e,t){return en(n,{tick:t,index:e,type:"tick"})}function jk(n,e,t){let i=ks(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Ok(i)),i}function Nk(n,e,t,i){let{top:o,left:a,bottom:r,right:s,chart:c}=n,{chartArea:h,scales:p}=c,f=0,v,k,x,C=r-o,M=s-a;if(n.isHorizontal()){if(k=he(i,a,s),st(t)){let I=Object.keys(t)[0],E=t[I];x=p[I].getPixelForValue(E)+C-e}else t==="center"?x=(h.bottom+h.top)/2+C-e:x=Cu(n,t,e);v=s-a}else{if(st(t)){let I=Object.keys(t)[0],E=t[I];k=p[I].getPixelForValue(E)-M+e}else t==="center"?k=(h.left+h.right)/2-M+e:k=Cu(n,t,e);x=he(i,r,o),f=t==="left"?-zt:zt}return{titleX:k,titleY:x,maxWidth:v,rotation:f}}var Zn=class n extends Qe{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:o}=this;return e=Ke(e,Number.POSITIVE_INFINITY),t=Ke(t,Number.NEGATIVE_INFINITY),i=Ke(i,Number.POSITIVE_INFINITY),o=Ke(o,Number.NEGATIVE_INFINITY),{min:Ke(e,i),max:Ke(t,o),minDefined:Gt(e),maxDefined:Gt(t)}}getMinMax(e){let{min:t,max:i,minDefined:o,maxDefined:a}=this.getUserBounds(),r;if(o&&a)return{min:t,max:i};let s=this.getMatchingVisibleMetas();for(let c=0,h=s.length;c<h;++c)r=s[c].controller.getMinMax(this,e),o||(t=Math.min(t,r.min)),a||(i=Math.max(i,r.max));return t=a&&t>i?i:t,i=o&&t>i?t:i,{min:Ke(t,Ke(i,t)),max:Ke(i,Ke(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){It(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:o,grace:a,ticks:r}=this.options,s=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=iu(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=s<this.ticks.length;this._convertTicksToLabels(c?Su(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Mk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){It(this.options.afterUpdate,[this])}beforeSetDimensions(){It(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){It(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),It(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){It(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,i,o,a;for(i=0,o=e.length;i<o;i++)a=e[i],a.label=It(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){It(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){It(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,i=this.ticks.length,o=t.minRotation||0,a=t.maxRotation,r=o,s,c,h;if(!this._isVisible()||!t.display||o>=a||i<=1||!this.isHorizontal()){this.labelRotation=o;return}let p=this._getLabelSizes(),f=p.widest.width,v=p.highest.height,k=ie(this.chart.width-f,0,this.maxWidth);s=e.offset?this.maxWidth/i:k/(i-1),f+6>s&&(s=k/(i-(e.offset?.5:1)),c=this.maxHeight-Na(e.grid)-t.padding-Mu(e.title,this.chart.options.font),h=Math.sqrt(f*f+v*v),r=xs(Math.min(Math.asin(ie((p.highest.height+6)/s,-1,1)),Math.asin(ie(c/h,-1,1))-Math.asin(ie(v/h,-1,1)))),r=Math.max(o,Math.min(a,r))),this.labelRotation=r}afterCalculateLabelRotation(){It(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){It(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:o,grid:a}}=this,r=this._isVisible(),s=this.isHorizontal();if(r){let c=Mu(o,t.options.font);if(s?(e.width=this.maxWidth,e.height=Na(a)+c):(e.height=this.maxHeight,e.width=Na(a)+c),i.display&&this.ticks.length){let{first:h,last:p,widest:f,highest:v}=this._getLabelSizes(),k=i.padding*2,x=ci(this.labelRotation),C=Math.cos(x),M=Math.sin(x);if(s){let I=i.mirror?0:M*f.width+C*v.height;e.height=Math.min(this.maxHeight,e.height+I+k)}else{let I=i.mirror?0:C*f.width+M*v.height;e.width=Math.min(this.maxWidth,e.width+I+k)}this._calculatePadding(h,p,M,C)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,o){let{ticks:{align:a,padding:r},position:s}=this.options,c=this.labelRotation!==0,h=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let p=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),v=0,k=0;c?h?(v=o*e.width,k=i*t.height):(v=i*e.height,k=o*t.width):a==="start"?k=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,k=t.width/2),this.paddingLeft=Math.max((v-p+r)*this.width/(this.width-p),0),this.paddingRight=Math.max((k-f+r)*this.width/(this.width-f),0)}else{let p=t.height/2,f=e.height/2;a==="start"?(p=0,f=e.height):a==="end"&&(p=t.height,f=0),this.paddingTop=p+r,this.paddingBottom=f+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){It(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ut(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=Su(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,t){let{ctx:i,_longestTextCache:o}=this,a=[],r=[],s=0,c=0,h,p,f,v,k,x,C,M,I,E,L;for(h=0;h<t;++h){if(v=e[h].label,k=this._resolveTickFontOptions(h),i.font=x=k.string,C=o[x]=o[x]||{data:{},gc:[]},M=k.lineHeight,I=E=0,!ut(v)&&!Dt(v))I=Oa(i,C.data,C.gc,I,v),E=M;else if(Dt(v))for(p=0,f=v.length;p<f;++p)L=v[p],!ut(L)&&!Dt(L)&&(I=Oa(i,C.data,C.gc,I,L),E+=M);a.push(I),r.push(E),s=Math.max(I,s),c=Math.max(E,c)}Rk(o,t);let R=a.indexOf(s),O=r.indexOf(c),z=H=>({width:a[H]||0,height:r[H]||0});return{first:z(0),last:z(t-1),widest:z(R),highest:z(O),widths:a,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return Vp(this._alignToPixels?Mn(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=Fk(this.getContext(),e,i))}return this.$context||(this.$context=Lk(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=ci(this.labelRotation),i=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,s=a?a.widest.width+r:0,c=a?a.highest.height+r:0;return this.isHorizontal()?c*i>s*o?s/i:c/o:c*o<s*i?c/i:s/o}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,i=this.chart,o=this.options,{grid:a,position:r}=o,s=a.offset,c=this.isHorizontal(),p=this.ticks.length+(s?1:0),f=Na(a),v=[],k=a.setContext(this.getContext()),x=k.drawBorder?k.borderWidth:0,C=x/2,M=function(tt){return Mn(i,tt,x)},I,E,L,R,O,z,H,W,q,at,it,rt;if(r==="top")I=M(this.bottom),z=this.bottom-f,W=I-C,at=M(e.top)+C,rt=e.bottom;else if(r==="bottom")I=M(this.top),at=e.top,rt=M(e.bottom)-C,z=I+C,W=this.top+f;else if(r==="left")I=M(this.right),O=this.right-f,H=I-C,q=M(e.left)+C,it=e.right;else if(r==="right")I=M(this.left),q=e.left,it=M(e.right)-C,O=I+C,H=this.left+f;else if(t==="x"){if(r==="center")I=M((e.top+e.bottom)/2+.5);else if(st(r)){let tt=Object.keys(r)[0],Bt=r[tt];I=M(this.chart.scales[tt].getPixelForValue(Bt))}at=e.top,rt=e.bottom,z=I+C,W=z+f}else if(t==="y"){if(r==="center")I=M((e.left+e.right)/2);else if(st(r)){let tt=Object.keys(r)[0],Bt=r[tt];I=M(this.chart.scales[tt].getPixelForValue(Bt))}O=I-C,H=O-f,q=e.left,it=e.right}let At=nt(o.ticks.maxTicksLimit,p),Jt=Math.max(1,Math.ceil(p/At));for(E=0;E<p;E+=Jt){let tt=a.setContext(this.getContext(E)),Bt=tt.lineWidth,Ft=tt.color,ne=tt.borderDash||[],jn=tt.borderDashOffset,mi=tt.tickWidth,sn=tt.tickColor,Ye=tt.tickBorderDash||[],X=tt.tickBorderDashOffset;L=Ak(this,E,s),L!==void 0&&(R=Mn(i,L,Bt),c?O=H=q=it=R:z=W=at=rt=R,v.push({tx1:O,ty1:z,tx2:H,ty2:W,x1:q,y1:at,x2:it,y2:rt,width:Bt,color:Ft,borderDash:ne,borderDashOffset:jn,tickWidth:mi,tickColor:sn,tickBorderDash:Ye,tickBorderDashOffset:X}))}return this._ticksLength=p,this._borderValue=I,v}_computeLabelItems(e){let t=this.axis,i=this.options,{position:o,ticks:a}=i,r=this.isHorizontal(),s=this.ticks,{align:c,crossAlign:h,padding:p,mirror:f}=a,v=Na(i.grid),k=v+p,x=f?-p:k,C=-ci(this.labelRotation),M=[],I,E,L,R,O,z,H,W,q,at,it,rt,At="middle";if(o==="top")z=this.bottom-x,H=this._getXAxisLabelAlignment();else if(o==="bottom")z=this.top+x,H=this._getXAxisLabelAlignment();else if(o==="left"){let tt=this._getYAxisLabelAlignment(v);H=tt.textAlign,O=tt.x}else if(o==="right"){let tt=this._getYAxisLabelAlignment(v);H=tt.textAlign,O=tt.x}else if(t==="x"){if(o==="center")z=(e.top+e.bottom)/2+k;else if(st(o)){let tt=Object.keys(o)[0],Bt=o[tt];z=this.chart.scales[tt].getPixelForValue(Bt)+k}H=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")O=(e.left+e.right)/2-k;else if(st(o)){let tt=Object.keys(o)[0],Bt=o[tt];O=this.chart.scales[tt].getPixelForValue(Bt)}H=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(c==="start"?At="top":c==="end"&&(At="bottom"));let Jt=this._getLabelSizes();for(I=0,E=s.length;I<E;++I){L=s[I],R=L.label;let tt=a.setContext(this.getContext(I));W=this.getPixelForTick(I)+a.labelOffset,q=this._resolveTickFontOptions(I),at=q.lineHeight,it=Dt(R)?R.length:1;let Bt=it/2,Ft=tt.color,ne=tt.textStrokeColor,jn=tt.textStrokeWidth,mi=H;r?(O=W,H==="inner"&&(I===E-1?mi=this.options.reverse?"left":"right":I===0?mi=this.options.reverse?"right":"left":mi="center"),o==="top"?h==="near"||C!==0?rt=-it*at+at/2:h==="center"?rt=-Jt.highest.height/2-Bt*at+at:rt=-Jt.highest.height+at/2:h==="near"||C!==0?rt=at/2:h==="center"?rt=Jt.highest.height/2-Bt*at:rt=Jt.highest.height-it*at,f&&(rt*=-1)):(z=W,rt=(1-it)*at/2);let sn;if(tt.showLabelBackdrop){let Ye=me(tt.backdropPadding),X=Jt.heights[I],oa=Jt.widths[I],aa=z+rt-Ye.top,ln=O-Ye.left;switch(At){case"middle":aa-=X/2;break;case"bottom":aa-=X;break}switch(H){case"center":ln-=oa/2;break;case"right":ln-=oa;break}sn={left:ln,top:aa,width:oa+Ye.width,height:X+Ye.height,color:tt.backdropColor}}M.push({rotation:C,label:R,font:q,color:Ft,strokeColor:ne,strokeWidth:jn,textOffset:rt,textAlign:mi,textBaseline:At,translation:[O,z],backdrop:sn})}return M}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-ci(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:i,mirror:o,padding:a}}=this.options,r=this._getLabelSizes(),s=e+a,c=r.widest.width,h,p;return t==="left"?o?(p=this.right+a,i==="near"?h="left":i==="center"?(h="center",p+=c/2):(h="right",p+=c)):(p=this.right-s,i==="near"?h="right":i==="center"?(h="center",p-=c/2):(h="left",p=this.left)):t==="right"?o?(p=this.left+a,i==="near"?h="right":i==="center"?(h="center",p-=c/2):(h="left",p-=c)):(p=this.left+s,i==="near"?h="left":i==="center"?(h="center",p+=c/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:o,width:a,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,o,a,r),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let o=this.ticks.findIndex(a=>a.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){let t=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a,r,s=(c,h,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(t.display)for(a=0,r=o.length;a<r;++a){let c=o[a];t.drawOnChartArea&&s({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&s({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{grid:i}}=this,o=i.setContext(this.getContext()),a=i.drawBorder?o.borderWidth:0;if(!a)return;let r=i.setContext(this.getContext(0)).lineWidth,s=this._borderValue,c,h,p,f;this.isHorizontal()?(c=Mn(e,this.left,a)-a/2,h=Mn(e,this.right,r)+r/2,p=f=s):(p=Mn(e,this.top,a)-a/2,f=Mn(e,this.bottom,r)+r/2,c=h=s),t.save(),t.lineWidth=o.borderWidth,t.strokeStyle=o.borderColor,t.beginPath(),t.moveTo(c,p),t.lineTo(h,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,o=this._computeLabelArea();o&&La(i,o);let a=this._labelItems||(this._labelItems=this._computeLabelItems(e)),r,s;for(r=0,s=a.length;r<s;++r){let c=a[r],h=c.font,p=c.label;c.backdrop&&(i.fillStyle=c.backdrop.color,i.fillRect(c.backdrop.left,c.backdrop.top,c.backdrop.width,c.backdrop.height));let f=c.textOffset;Dn(i,p,0,f,h,c)}o&&Fa(i)}drawTitle(){let{ctx:e,options:{position:t,title:i,reverse:o}}=this;if(!i.display)return;let a=Qt(i.font),r=me(i.padding),s=i.align,c=a.lineHeight/2;t==="bottom"||t==="center"||st(t)?(c+=r.bottom,Dt(i.text)&&(c+=a.lineHeight*(i.text.length-1))):c+=r.top;let{titleX:h,titleY:p,maxWidth:f,rotation:v}=Nk(this,c,t,s);Dn(e,i.text,0,0,a,{color:i.color,maxWidth:f,rotation:v,textAlign:jk(s,t,o),textBaseline:"middle",translation:[h,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=nt(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[],a,r;for(a=0,r=t.length;a<r;++a){let s=t[a];s[i]===this.id&&(!e||s.type===e)&&o.push(s)}return o}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return Qt(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},zo=class{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),i;Vk(t)&&(i=this.register(t));let o=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,zk(e,r,i),this.override&&ot.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,o=this.scope;i in t&&delete t[i],o&&i in ot[o]&&(delete ot[o][i],this.override&&delete Sn[i])}};function zk(n,e,t){let i=Po(Object.create(null),[t?ot.get(t):{},ot.get(e),n.defaults]);ot.set(e,i),n.defaultRoutes&&Bk(e,n.defaultRoutes),n.descriptors&&ot.describe(e,n.descriptors)}function Bk(n,e){Object.keys(e).forEach(t=>{let i=t.split("."),o=i.pop(),a=[n].concat(i).join("."),r=e[t].split("."),s=r.pop(),c=r.join(".");ot.route(a,o,c,s)})}function Vk(n){return"id"in n&&"defaults"in n}var dd=class{constructor(){this.controllers=new zo(Ni,"datasets",!0),this.elements=new zo(Qe,"elements"),this.plugins=new zo(Object,"plugins"),this.scales=new zo(Zn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(o=>{let a=i||this._getRegistryForType(o);i||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):vt(o,r=>{let s=i||this._getRegistryForType(r);this._exec(e,s,r)})})}_exec(e,t,i){let o=vs(e);It(i["before"+o],[],i),t[e](i),It(i["after"+o],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}},ji=new dd,Hk=(()=>{class n extends Ni{update(t){let i=this._cachedMeta,{data:o=[]}=i,a=this.chart._animationsDisabled,{start:r,count:s}=Ac(i,o,a);if(this._drawStart=r,this._drawCount=s,Rc(i)&&(r=0,s=o.length),this.options.showLine){let{dataset:c,_dataset:h}=i;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=o;let p=this.resolveDatasetElementOptions(t);p.segment=this.options.segment,this.updateElement(c,void 0,{animated:!a,options:p},t)}this.updateElements(o,r,s,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=ji.getElement("line")),super.addElements()}updateElements(t,i,o,a){let r=a==="reset",{iScale:s,vScale:c,_stacked:h,_dataset:p}=this._cachedMeta,f=this.resolveDataElementOptions(i,a),v=this.getSharedOptions(f),k=this.includeOptions(a,v),x=s.axis,C=c.axis,{spanGaps:M,segment:I}=this.options,E=qn(M)?M:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||r||a==="none",R=i>0&&this.getParsed(i-1);for(let O=i;O<i+o;++O){let z=t[O],H=this.getParsed(O),W=L?z:{},q=ut(H[C]),at=W[x]=s.getPixelForValue(H[x],O),it=W[C]=r||q?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,H,h):H[C],O);W.skip=isNaN(at)||isNaN(it)||q,W.stop=O>0&&Math.abs(H[x]-R[x])>E,I&&(W.parsed=H,W.raw=p.data[O]),k&&(W.options=v||this.resolveDataElementOptions(O,z.active?"active":a)),L||this.updateElement(z,O,W,a),R=H}this.updateSharedOptions(v,a,f)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let c=0;for(let h=i.length-1;h>=0;--h)c=Math.max(c,i[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}let o=t.dataset,a=o.options&&o.options.borderWidth||0;if(!i.length)return a;let r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,r,s)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})(),Wk=Object.freeze({__proto__:null,BarController:bk,BubbleController:vk,DoughnutController:cf,LineController:yk,PolarAreaController:kk,PieController:wk,RadarController:Ck,ScatterController:Hk});function Kn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Yk=(()=>{class n{constructor(t){this.options=t||{}}init(t){}formats(){return Kn()}parse(t,i){return Kn()}format(t,i){return Kn()}add(t,i,o){return Kn()}diff(t,i,o){return Kn()}startOf(t,i,o){return Kn()}endOf(t,i){return Kn()}}return n.override=function(e){Object.assign(n.prototype,e)},n})(),Uk={_date:Yk};function Gk(n,e,t,i){let{controller:o,data:a,_sorted:r}=n,s=o._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&r&&a.length){let c=s._reversePixels?Hp:Ai;if(i){if(o._sharedOptions){let h=a[0],p=typeof h.getRange=="function"&&h.getRange(e);if(p){let f=c(a,e,t-p),v=c(a,e,t+p);return{lo:f.lo,hi:v.hi}}}}else return c(a,e,t)}return{lo:0,hi:a.length-1}}function Xa(n,e,t,i,o){let a=n.getSortedVisibleDatasetMetas(),r=t[e];for(let s=0,c=a.length;s<c;++s){let{index:h,data:p}=a[s],{lo:f,hi:v}=Gk(a[s],e,r,o);for(let k=f;k<=v;++k){let x=p[k];x.skip||i(x,h,k)}}}function $k(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,o){let a=e?Math.abs(i.x-o.x):0,r=t?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function id(n,e,t,i,o){let a=[];return!o&&!n.isPointInArea(e)||Xa(n,t,e,function(s,c,h){!o&&!To(s,n.chartArea,0)||s.inRange(e.x,e.y,i)&&a.push({element:s,datasetIndex:c,index:h})},!0),a}function qk(n,e,t,i){let o=[];function a(r,s,c){let{startAngle:h,endAngle:p}=r.getProps(["startAngle","endAngle"],i),{angle:f}=Ic(r,{x:e.x,y:e.y});Ro(f,h,p)&&o.push({element:r,datasetIndex:s,index:c})}return Xa(n,t,e,a),o}function Xk(n,e,t,i,o,a){let r=[],s=$k(t),c=Number.POSITIVE_INFINITY;function h(p,f,v){let k=p.inRange(e.x,e.y,o);if(i&&!k)return;let x=p.getCenterPoint(o);if(!(!!a||n.isPointInArea(x))&&!k)return;let M=s(e,x);M<c?(r=[{element:p,datasetIndex:f,index:v}],c=M):M===c&&r.push({element:p,datasetIndex:f,index:v})}return Xa(n,t,e,h),r}function nd(n,e,t,i,o,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?qk(n,e,t,o):Xk(n,e,t,i,o,a)}function Du(n,e,t,i,o){let a=[],r=t==="x"?"inXRange":"inYRange",s=!1;return Xa(n,t,e,(c,h,p)=>{c[r](e[t],o)&&(a.push({element:c,datasetIndex:h,index:p}),s=s||c.inRange(e.x,e.y,o))}),i&&!s?[]:a}var Kk={evaluateInteractionItems:Xa,modes:{index(n,e,t,i){let o=Pn(e,n),a=t.axis||"x",r=t.includeInvisible||!1,s=t.intersect?id(n,o,a,i,r):nd(n,o,a,!1,i,r),c=[];return s.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{let p=s[0].index,f=h.data[p];f&&!f.skip&&c.push({element:f,datasetIndex:h.index,index:p})}),c):[]},dataset(n,e,t,i){let o=Pn(e,n),a=t.axis||"xy",r=t.includeInvisible||!1,s=t.intersect?id(n,o,a,i,r):nd(n,o,a,!1,i,r);if(s.length>0){let c=s[0].datasetIndex,h=n.getDatasetMeta(c).data;s=[];for(let p=0;p<h.length;++p)s.push({element:h[p],datasetIndex:c,index:p})}return s},point(n,e,t,i){let o=Pn(e,n),a=t.axis||"xy",r=t.includeInvisible||!1;return id(n,o,a,i,r)},nearest(n,e,t,i){let o=Pn(e,n),a=t.axis||"xy",r=t.includeInvisible||!1;return nd(n,o,a,t.intersect,i,r)},x(n,e,t,i){let o=Pn(e,n);return Du(n,o,"x",t.intersect,i)},y(n,e,t,i){let o=Pn(e,n);return Du(n,o,"y",t.intersect,i)}}},hf=["left","top","right","bottom"];function za(n,e){return n.filter(t=>t.pos===e)}function Iu(n,e){return n.filter(t=>hf.indexOf(t.pos)===-1&&t.box.axis===e)}function Ba(n,e){return n.sort((t,i)=>{let o=e?i:t,a=e?t:i;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function Zk(n){let e=[],t,i,o,a,r,s;for(t=0,i=(n||[]).length;t<i;++t)o=n[t],{position:a,options:{stack:r,stackWeight:s=1}}=o,e.push({index:t,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:r&&a+r,stackWeight:s});return e}function Qk(n){let e={};for(let t of n){let{stack:i,pos:o,stackWeight:a}=t;if(!i||!hf.includes(o))continue;let r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return e}function Jk(n,e){let t=Qk(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e,a,r,s;for(a=0,r=n.length;a<r;++a){s=n[a];let{fullSize:c}=s.box,h=t[s.stack],p=h&&s.stackWeight/h.weight;s.horizontal?(s.width=p?p*i:c&&e.availableWidth,s.height=o):(s.width=i,s.height=p?p*o:c&&e.availableHeight)}return t}function tw(n){let e=Zk(n),t=Ba(e.filter(h=>h.box.fullSize),!0),i=Ba(za(e,"left"),!0),o=Ba(za(e,"right")),a=Ba(za(e,"top"),!0),r=Ba(za(e,"bottom")),s=Iu(e,"x"),c=Iu(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:o.concat(c).concat(r).concat(s),chartArea:za(e,"chartArea"),vertical:i.concat(o).concat(c),horizontal:a.concat(r).concat(s)}}function Pu(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function mf(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function ew(n,e,t,i){let{pos:o,box:a}=t,r=n.maxPadding;if(!st(o)){t.size&&(n[o]-=t.size);let f=i[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?a.height:a.width),t.size=f.size/f.count,n[o]+=t.size}a.getPadding&&mf(r,a.getPadding());let s=Math.max(0,e.outerWidth-Pu(r,n,"left","right")),c=Math.max(0,e.outerHeight-Pu(r,n,"top","bottom")),h=s!==n.w,p=c!==n.h;return n.w=s,n.h=c,t.horizontal?{same:h,other:p}:{same:p,other:h}}function iw(n){let e=n.maxPadding;function t(i){let o=Math.max(e[i]-n[i],0);return n[i]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function nw(n,e){let t=e.maxPadding;function i(o){let a={left:0,top:0,right:0,bottom:0};return o.forEach(r=>{a[r]=Math.max(e[r],t[r])}),a}return i(n?["left","right"]:["top","bottom"])}function Ha(n,e,t,i){let o=[],a,r,s,c,h,p;for(a=0,r=n.length,h=0;a<r;++a){s=n[a],c=s.box,c.update(s.width||e.w,s.height||e.h,nw(s.horizontal,e));let{same:f,other:v}=ew(e,t,s,i);h|=f&&o.length,p=p||v,c.fullSize||o.push(s)}return h&&Ha(o,e,t,i)||p}function Ts(n,e,t,i,o){n.top=t,n.left=e,n.right=e+i,n.bottom=t+o,n.width=i,n.height=o}function Tu(n,e,t,i){let o=t.padding,{x:a,y:r}=e;for(let s of n){let c=s.box,h=i[s.stack]||{count:1,placed:0,weight:1},p=s.stackWeight/h.weight||1;if(s.horizontal){let f=e.w*p,v=h.size||c.height;Xe(h.start)&&(r=h.start),c.fullSize?Ts(c,o.left,r,t.outerWidth-o.right-o.left,v):Ts(c,e.left+h.placed,r,f,v),h.start=r,h.placed+=f,r=c.bottom}else{let f=e.h*p,v=h.size||c.width;Xe(h.start)&&(a=h.start),c.fullSize?Ts(c,a,o.top,v,t.outerHeight-o.bottom-o.top):Ts(c,a,e.top+h.placed,v,f),h.start=a,h.placed+=f,a=c.right}}e.x=a,e.y=r}ot.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Se={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;let o=me(n.options.layout.padding),a=Math.max(e-o.width,0),r=Math.max(t-o.height,0),s=tw(n.boxes),c=s.vertical,h=s.horizontal;vt(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});let p=c.reduce((C,M)=>M.box.options&&M.box.options.display===!1?C:C+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/p,hBoxMaxHeight:r/2}),v=Object.assign({},o);mf(v,me(i));let k=Object.assign({maxPadding:v,w:a,h:r,x:o.left,y:o.top},o),x=Jk(c.concat(h),f);Ha(s.fullSize,k,f,x),Ha(c,k,f,x),Ha(h,k,f,x)&&Ha(c,k,f,x),iw(k),Tu(s.leftAndTop,k,f,x),k.x+=k.w,k.y+=k.h,Tu(s.rightAndBottom,k,f,x),n.chartArea={left:k.left,top:k.top,right:k.left+k.w,bottom:k.top+k.h,height:k.h,width:k.w},vt(s.chartArea,C=>{let M=C.box;Object.assign(M,n.chartArea),M.update(k.w,k.h,{left:0,top:0,right:0,bottom:0})})}},js=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,o){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):i)}}isAttached(e){return!0}updateConfig(e){}},hd=class extends js{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Ls="$chartjs",ow={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Eu=n=>n===null||n==="";function aw(n,e){let t=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[Ls]={initial:{height:i,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Eu(o)){let a=qc(n,"width");a!==void 0&&(n.width=a)}if(Eu(i))if(n.style.height==="")n.height=n.width/(e||2);else{let a=qc(n,"height");a!==void 0&&(n.height=a)}return n}var pf=cu?{passive:!0}:!1;function rw(n,e,t){n.addEventListener(e,t,pf)}function sw(n,e,t){n.canvas.removeEventListener(e,t,pf)}function lw(n,e){let t=ow[n.type]||n.type,{x:i,y:o}=Pn(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Ns(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function cw(n,e,t){let i=n.canvas,o=new MutationObserver(a=>{let r=!1;for(let s of a)r=r||Ns(s.addedNodes,i),r=r&&!Ns(s.removedNodes,i);r&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function dw(n,e,t){let i=n.canvas,o=new MutationObserver(a=>{let r=!1;for(let s of a)r=r||Ns(s.removedNodes,i),r=r&&!Ns(s.addedNodes,i);r&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}var Ya=new Map,Ou=0;function uf(){let n=window.devicePixelRatio;n!==Ou&&(Ou=n,Ya.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function hw(n,e){Ya.size||window.addEventListener("resize",uf),Ya.set(n,e)}function mw(n){Ya.delete(n),Ya.size||window.removeEventListener("resize",uf)}function pw(n,e,t){let i=n.canvas,o=i&&Ds(i);if(!o)return;let a=Oc((s,c)=>{let h=o.clientWidth;t(s,c),h<o.clientWidth&&t()},window),r=new ResizeObserver(s=>{let c=s[0],h=c.contentRect.width,p=c.contentRect.height;h===0&&p===0||a(h,p)});return r.observe(o),hw(n,a),r}function od(n,e,t){t&&t.disconnect(),e==="resize"&&mw(n)}function uw(n,e,t){let i=n.canvas,o=Oc(a=>{n.ctx!==null&&t(lw(a,n))},n,a=>{let r=a[0];return[r,r.offsetX,r.offsetY]});return rw(i,e,o),o}var md=class extends js{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(aw(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[Ls])return!1;let i=t[Ls].initial;["height","width"].forEach(a=>{let r=i[a];ut(r)?t.removeAttribute(a):t.setAttribute(a,r)});let o=i.style||{};return Object.keys(o).forEach(a=>{t.style[a]=o[a]}),t.width=t.width,delete t[Ls],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let o=e.$proxies||(e.$proxies={}),r={attach:cw,detach:dw,resize:pw}[t]||uw;o[t]=r(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),o=i[t];if(!o)return;({attach:od,detach:od,resize:od}[t]||sw)(e,t,o),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,o){return lu(e,t,i,o)}isAttached(e){let t=Ds(e);return!!(t&&t.isConnected)}};function fw(n){return!Gc()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?hd:md}var pd=class{constructor(){this._init=[]}notify(e,t,i,o){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let a=o?this._descriptors(e).filter(o):this._descriptors(e),r=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,o){o=o||{};for(let a of e){let r=a.plugin,s=r[i],c=[t,o,a.options];if(It(s,c,r)===!1&&o.cancelable)return!1}return!0}invalidate(){ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,o=nt(i.options&&i.options.plugins,{}),a=gw(i);return o===!1&&!t?[]:bw(e,a,o,t)}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,o=(a,r)=>a.filter(s=>!r.some(c=>s.plugin.id===c.plugin.id));this._notify(o(t,i),e,"stop"),this._notify(o(i,t),e,"start")}};function gw(n){let e={},t=[],i=Object.keys(ji.plugins.items);for(let a=0;a<i.length;a++)t.push(ji.getPlugin(i[a]));let o=n.plugins||[];for(let a=0;a<o.length;a++){let r=o[a];t.indexOf(r)===-1&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}function _w(n,e){return!e&&n===!1?null:n===!0?{}:n}function bw(n,{plugins:e,localIds:t},i,o){let a=[],r=n.getContext();for(let s of e){let c=s.id,h=_w(i[c],o);h!==null&&a.push({plugin:s,options:vw(n.config,{plugin:s,local:t[c]},h,r)})}return a}function vw(n,{plugin:e,local:t},i,o){let a=n.pluginScopeKeys(e),r=n.getOptionScopes(i,a);return t&&e.defaults&&r.push(e.defaults),n.createResolver(r,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ud(n,e){let t=ot.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function xw(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function yw(n,e){return n===e?"_index_":"_value_"}function kw(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function fd(n,e){return n==="x"||n==="y"?n:e.axis||kw(e.position)||n.charAt(0).toLowerCase()}function ww(n,e){let t=Sn[n.type]||{scales:{}},i=e.scales||{},o=ud(n.type,e),a=Object.create(null),r=Object.create(null);return Object.keys(i).forEach(s=>{let c=i[s];if(!st(c))return console.error(`Invalid scale configuration for scale: ${s}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let h=fd(s,c),p=yw(h,o),f=t.scales||{};a[h]=a[h]||s,r[s]=Oo(Object.create(null),[{axis:h},c,f[h],f[p]])}),n.data.datasets.forEach(s=>{let c=s.type||n.type,h=s.indexAxis||ud(c,e),f=(Sn[c]||{}).scales||{};Object.keys(f).forEach(v=>{let k=xw(v,h),x=s[k+"AxisID"]||a[k]||k;r[x]=r[x]||Object.create(null),Oo(r[x],[{axis:k},i[x],f[v]])})}),Object.keys(r).forEach(s=>{let c=r[s];Oo(c,[ot.scales[c.type],ot.scale])}),r}function ff(n){let e=n.options||(n.options={});e.plugins=nt(e.plugins,{}),e.scales=ww(n,e)}function gf(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Cw(n){return n=n||{},n.data=gf(n.data),ff(n),n}var Au=new Map,_f=new Set;function Es(n,e){let t=Au.get(n);return t||(t=e(),Au.set(n,t),_f.add(t)),t}var Va=(n,e,t)=>{let i=tn(e,t);i!==void 0&&n.add(i)},gd=class{constructor(e){this._config=Cw(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=gf(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),ff(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Es(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Es(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Es(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return Es(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,o=i.get(e);return(!o||t)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,t,i){let{options:o,type:a}=this,r=this._cachedScopes(e,i),s=r.get(t);if(s)return s;let c=new Set;t.forEach(p=>{e&&(c.add(e),p.forEach(f=>Va(c,e,f))),p.forEach(f=>Va(c,o,f)),p.forEach(f=>Va(c,Sn[a]||{},f)),p.forEach(f=>Va(c,ot,f)),p.forEach(f=>Va(c,ws,f))});let h=Array.from(c);return h.length===0&&h.push(Object.create(null)),_f.has(t)&&r.set(t,h),h}chartOptionScopes(){let{options:e,type:t}=this;return[e,Sn[t]||{},ot.datasets[t]||{},{type:t},ot,ws]}resolveNamedOptions(e,t,i,o=[""]){let a={$shared:!0},{resolver:r,subPrefixes:s}=Ru(this._resolverCache,e,o),c=r;if(Mw(r,t)){a.$shared=!1,i=Ji(i)?i():i;let h=this.createResolver(e,i,s);c=$n(r,i,h)}for(let h of t)a[h]=c[h];return a}createResolver(e,t,i=[""],o){let{resolver:a}=Ru(this._resolverCache,e,i);return st(t)?$n(a,t,void 0,o):a}};function Ru(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));let o=t.join(),a=i.get(o);return a||(a={resolver:Ms(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},i.set(o,a)),a}var Sw=n=>st(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||Ji(n[t]),!1);function Mw(n,e){let{isScriptable:t,isIndexable:i}=Hc(n);for(let o of e){let a=t(o),r=i(o),s=(r||a)&&n[o];if(a&&(Ji(s)||Sw(s))||r&&Dt(s))return!0}return!1}var Dw="3.9.1",Iw=["top","bottom","left","right","chartArea"];function Lu(n,e){return n==="top"||n==="bottom"||Iw.indexOf(n)===-1&&e==="x"}function Fu(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function ju(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),It(t&&t.onComplete,[n],e)}function Pw(n){let e=n.chart,t=e.options.animation;It(t&&t.onProgress,[n],e)}function bf(n){return Gc()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var zs={},vf=n=>{let e=bf(n);return Object.values(zs).filter(t=>t.canvas===e).pop()};function Tw(n,e,t){let i=Object.keys(n);for(let o of i){let a=+o;if(a>=e){let r=n[o];delete n[o],(t>0||a>e)&&(n[a+t]=r)}}}function Ew(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var an=class{constructor(e,t){let i=this.config=new gd(t),o=bf(e),a=vf(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||fw(o)),this.platform.updateConfig(i);let s=this.platform.acquireContext(o,r.aspectRatio),c=s&&s.canvas,h=c&&c.height,p=c&&c.width;if(this.id=Lp(),this.ctx=s,this.canvas=c,this.width=p,this.height=h,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pd,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Gp(f=>this.update(f),r.resizeDelay||0),this._dataChanges=[],zs[this.id]=this,!s||!c){console.error("Failed to create chart: can't acquire context from the given item");return}nn.listen(this,"complete",ju),nn.listen(this,"progress",Pw),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:o,_aspectRatio:a}=this;return ut(e)?t&&a?a:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$c(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zc(this.canvas,this.ctx),this}stop(){return nn.stop(this),this}resize(e,t){nn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let i=this.options,o=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(o,e,t,a),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,$c(this,s,!0)&&(this.notifyPlugins("resize",{size:r}),It(i.onResize,[this,r],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};vt(t,(i,o)=>{i.id=o})}buildOrUpdateScales(){let e=this.options,t=e.scales,i=this.scales,o=Object.keys(i).reduce((r,s)=>(r[s]=!1,r),{}),a=[];t&&(a=a.concat(Object.keys(t).map(r=>{let s=t[r],c=fd(r,s),h=c==="r",p=c==="x";return{options:s,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),vt(a,r=>{let s=r.options,c=s.id,h=fd(c,s),p=nt(s.type,r.dtype);(s.position===void 0||Lu(s.position,h)!==Lu(r.dposition))&&(s.position=r.dposition),o[c]=!0;let f=null;if(c in i&&i[c].type===p)f=i[c];else{let v=ji.getScale(p);f=new v({id:c,type:p,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(s,e)}),vt(o,(r,s)=>{r||delete i[s]}),vt(i,r=>{Se.configure(this,r,r.options),Se.addBox(this,r)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((o,a)=>o.index-a.index),i>t){for(let o=t;o<i;++o)this._destroyDatasetMeta(o);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Fu("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,o)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=t.length;i<o;i++){let a=t[i],r=this.getDatasetMeta(i),s=a.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=s,r.indexAxis=a.indexAxis||ud(s,this.options),r.order=a.order||0,r.index=i,r.label=""+a.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{let c=ji.getController(s),{datasetElementType:h,dataElementType:p}=ot.datasets[s];Object.assign(c.prototype,{dataElementType:ji.getElement(p),datasetElementType:h&&ji.getElement(h)}),r.controller=new c(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){vt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let h=0,p=this.data.datasets.length;h<p;h++){let{controller:f}=this.getDatasetMeta(h),v=!o&&a.indexOf(f)===-1;f.buildOrUpdateElements(v),r=Math.max(+f.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),o||vt(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fu("z","_idx"));let{_active:s,_lastEvent:c}=this;c?this._eventHandler(c,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){vt(this.scales,e=>{Se.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Cc(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:a}of t){let r=i==="_removeElements"?-a:a;Tw(e,o,r)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,i=a=>new Set(e.filter(r=>r[0]===a).map((r,s)=>s+","+r.splice(1).join(","))),o=i(0);for(let a=1;a<t;a++)if(!Cc(o,i(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Se.update(this,this.width,this.height,e);let t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],vt(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Ji(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let i=this.getDatasetMeta(e),o={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(nn.has(this)?this.attached&&!nn.running(this)&&nn.start(this):(this.draw(),ju({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resize(i,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,i=[],o,a;for(o=0,a=t.length;o<a;++o){let r=t[o];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,i=e._clip,o=!i.disabled,a=this.chartArea,r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&La(t,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),e.controller.draw(),o&&Fa(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return To(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,o){let a=Kk.modes[t];return typeof a=="function"?a(this,e,i,o):[]}getDatasetMeta(e){let t=this.data.datasets[e],i=this._metasets,o=i.filter(a=>a&&a._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=en(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){let i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){let o=i?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,o);Xe(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(a,{visible:i}),this.update(s=>s.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),nn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),zc(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete zs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,i=(a,r)=>{t.addEventListener(this,a,r),e[a]=r},o=(a,r,s)=>{a.offsetX=r,a.offsetY=s,this._eventHandler(a)};vt(this.options.events,a=>i(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,i=(c,h)=>{t.addEventListener(this,c,h),e[c]=h},o=(c,h)=>{e[c]&&(t.removeEventListener(this,c,h),delete e[c])},a=(c,h)=>{this.canvas&&this.resize(c,h)},r,s=()=>{o("attach",s),this.attached=!0,this.resize(),i("resize",a),i("detach",r)};r=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),i("attach",s)},t.isAttached(this.canvas)?s():r()}unbindEvents(){vt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},vt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){let o=i?"set":"remove",a,r,s,c;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),s=0,c=e.length;s<c;++s){r=e[s];let h=r&&this.getDatasetMeta(r.datasetIndex).controller;h&&h[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],i=e.map(({datasetIndex:a,index:r})=>{let s=this.getDatasetMeta(a);if(!s)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:s.data[r],index:r}});!Aa(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}_updateHoverStyles(e,t,i){let o=this.options.hover,a=(c,h)=>c.filter(p=>!h.some(f=>p.datasetIndex===f.datasetIndex&&p.index===f.index)),r=a(t,e),s=i?e:a(e,t);r.length&&this.updateHoverStyle(r,o.mode,!1),s.length&&o.mode&&this.updateHoverStyle(s,o.mode,!0)}_eventHandler(e,t){let i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){let{_active:o=[],options:a}=this,r=t,s=this._getActiveElements(e,o,i,r),c=Np(e),h=Ew(e,this._lastEvent,i,c);i&&(this._lastEvent=null,It(a.onHover,[e,s,this],this),c&&It(a.onClick,[e,s,this],this));let p=!Aa(s,o);return(p||t)&&(this._active=s,this._updateHoverStyles(s,o,t)),this._lastEvent=h,p}_getActiveElements(e,t,i,o){if(e.type==="mouseout")return[];if(!i)return t;let a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}},Nu=()=>vt(an.instances,n=>n._plugins.invalidate()),Tn=!0;Object.defineProperties(an,{defaults:{enumerable:Tn,value:ot},instances:{enumerable:Tn,value:zs},overrides:{enumerable:Tn,value:Sn},registry:{enumerable:Tn,value:ji},version:{enumerable:Tn,value:Dw},getChart:{enumerable:Tn,value:vf},register:{enumerable:Tn,value:(...n)=>{ji.add(...n),Nu()}},unregister:{enumerable:Tn,value:(...n)=>{ji.remove(...n),Nu()}}});function xf(n,e,t){let{startAngle:i,pixelMargin:o,x:a,y:r,outerRadius:s,innerRadius:c}=e,h=o/s;n.beginPath(),n.arc(a,r,s,i-h,t+h),c>o?(h=o/c,n.arc(a,r,c,t+h,i-h,!0)):n.arc(a,r,o,t+zt,i-zt),n.closePath(),n.clip()}function Ow(n){return Ss(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Aw(n,e,t,i){let o=Ow(n.options.borderRadius),a=(t-e)/2,r=Math.min(a,i*e/2),s=c=>{let h=(t-Math.min(a,c))*i/2;return ie(c,0,Math.min(a,h))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:ie(o.innerStart,0,r),innerEnd:ie(o.innerEnd,0,r)}}function No(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function _d(n,e,t,i,o,a){let{x:r,y:s,startAngle:c,pixelMargin:h,innerRadius:p}=e,f=Math.max(e.outerRadius+i+t-h,0),v=p>0?p+i+t+h:0,k=0,x=o-c;if(i){let tt=p>0?p-i:0,Bt=f>0?f-i:0,Ft=(tt+Bt)/2,ne=Ft!==0?x*Ft/(Ft+i):x;k=(x-ne)/2}let C=Math.max(.001,x*f-t/Et)/f,M=(x-C)/2,I=c+M+k,E=o-M-k,{outerStart:L,outerEnd:R,innerStart:O,innerEnd:z}=Aw(e,v,f,E-I),H=f-L,W=f-R,q=I+L/H,at=E-R/W,it=v+O,rt=v+z,At=I+O/it,Jt=E-z/rt;if(n.beginPath(),a){if(n.arc(r,s,f,q,at),R>0){let Ft=No(W,at,r,s);n.arc(Ft.x,Ft.y,R,at,E+zt)}let tt=No(rt,E,r,s);if(n.lineTo(tt.x,tt.y),z>0){let Ft=No(rt,Jt,r,s);n.arc(Ft.x,Ft.y,z,E+zt,Jt+Math.PI)}if(n.arc(r,s,v,E-z/v,I+O/v,!0),O>0){let Ft=No(it,At,r,s);n.arc(Ft.x,Ft.y,O,At+Math.PI,I-zt)}let Bt=No(H,I,r,s);if(n.lineTo(Bt.x,Bt.y),L>0){let Ft=No(H,q,r,s);n.arc(Ft.x,Ft.y,L,I-zt,q)}}else{n.moveTo(r,s);let tt=Math.cos(q)*f+r,Bt=Math.sin(q)*f+s;n.lineTo(tt,Bt);let Ft=Math.cos(at)*f+r,ne=Math.sin(at)*f+s;n.lineTo(Ft,ne)}n.closePath()}function Rw(n,e,t,i,o){let{fullCircles:a,startAngle:r,circumference:s}=e,c=e.endAngle;if(a){_d(n,e,t,i,r+xt,o);for(let h=0;h<a;++h)n.fill();isNaN(s)||(c=r+s%xt,s%xt===0&&(c+=xt))}return _d(n,e,t,i,c,o),n.fill(),c}function Lw(n,e,t){let{x:i,y:o,startAngle:a,pixelMargin:r,fullCircles:s}=e,c=Math.max(e.outerRadius-r,0),h=e.innerRadius+r,p;for(t&&xf(n,e,a+xt),n.beginPath(),n.arc(i,o,h,a+xt,a,!0),p=0;p<s;++p)n.stroke();for(n.beginPath(),n.arc(i,o,c,a,a+xt),p=0;p<s;++p)n.stroke()}function Fw(n,e,t,i,o,a){let{options:r}=e,{borderWidth:s,borderJoinStyle:c}=r,h=r.borderAlign==="inner";s&&(h?(n.lineWidth=s*2,n.lineJoin=c||"round"):(n.lineWidth=s,n.lineJoin=c||"bevel"),e.fullCircles&&Lw(n,e,h),h&&xf(n,e,o),_d(n,e,t,i,o,a),n.stroke())}var Bo=class extends Qe{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let o=this.getProps(["x","y"],i),{angle:a,distance:r}=Ic(o,{x:e,y:t}),{startAngle:s,endAngle:c,innerRadius:h,outerRadius:p,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=this.options.spacing/2,x=nt(f,c-s)>=xt||Ro(a,s,c),C=Li(r,h+v,p+v);return x&&C}getCenterPoint(e){let{x:t,y:i,startAngle:o,endAngle:a,innerRadius:r,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:c,spacing:h}=this.options,p=(o+a)/2,f=(r+s+h+c)/2;return{x:t+Math.cos(p)*f,y:i+Math.sin(p)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,o=(t.offset||0)/2,a=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>xt?Math.floor(i/xt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=0;if(o){s=o/2;let h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*s,Math.sin(h)*s),this.circumference>=Et&&(s=o)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;let c=Rw(e,this,s,a,r);Fw(e,this,s,a,c,r),e.restore()}};Bo.id="arc";Bo.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Bo.defaultRoutes={backgroundColor:"backgroundColor"};function yf(n,e,t=e){n.lineCap=nt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(nt(t.borderDash,e.borderDash)),n.lineDashOffset=nt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=nt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=nt(t.borderWidth,e.borderWidth),n.strokeStyle=nt(t.borderColor,e.borderColor)}function jw(n,e,t){n.lineTo(t.x,t.y)}function Nw(n){return n.stepped?tu:n.tension||n.cubicInterpolationMode==="monotone"?eu:jw}function kf(n,e,t={}){let i=n.length,{start:o=0,end:a=i-1}=t,{start:r,end:s}=e,c=Math.max(o,r),h=Math.min(a,s),p=o<r&&a<r||o>s&&a>s;return{count:i,start:c,loop:e.loop,ilen:h<c&&!p?i+h-c:h-c}}function zw(n,e,t,i){let{points:o,options:a}=e,{count:r,start:s,loop:c,ilen:h}=kf(o,t,i),p=Nw(a),{move:f=!0,reverse:v}=i||{},k,x,C;for(k=0;k<=h;++k)x=o[(s+(v?h-k:k))%r],!x.skip&&(f?(n.moveTo(x.x,x.y),f=!1):p(n,C,x,v,a.stepped),C=x);return c&&(x=o[(s+(v?h:0))%r],p(n,C,x,v,a.stepped)),!!c}function Bw(n,e,t,i){let o=e.points,{count:a,start:r,ilen:s}=kf(o,t,i),{move:c=!0,reverse:h}=i||{},p=0,f=0,v,k,x,C,M,I,E=R=>(r+(h?s-R:R))%a,L=()=>{C!==M&&(n.lineTo(p,M),n.lineTo(p,C),n.lineTo(p,I))};for(c&&(k=o[E(0)],n.moveTo(k.x,k.y)),v=0;v<=s;++v){if(k=o[E(v)],k.skip)continue;let R=k.x,O=k.y,z=R|0;z===x?(O<C?C=O:O>M&&(M=O),p=(f*p+R)/++f):(L(),n.lineTo(R,O),x=z,f=0,C=M=O),I=O}L()}function bd(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Bw:zw}function Vw(n){return n.stepped?du:n.tension||n.cubicInterpolationMode==="monotone"?hu:kn}function Hw(n,e,t,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,i)&&o.closePath()),yf(n,e.options),n.stroke(o)}function Ww(n,e,t,i){let{segments:o,options:a}=e,r=bd(e);for(let s of o)yf(n,a,s.style),n.beginPath(),r(n,e,s,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}var Yw=typeof Path2D=="function";function Uw(n,e,t,i){Yw&&!e.options.segment?Hw(n,e,t,i):Ww(n,e,t,i)}var Ws=(()=>{class n extends Qe{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let a=o.spanGaps?this._loop:this._fullLoop;su(this._points,o,t,a,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pu(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,o=t.length;return o&&i[t[o-1].end]}interpolate(t,i){let o=this.options,a=t[i],r=this.points,s=Qc(this,{property:i,start:a,end:a});if(!s.length)return;let c=[],h=Vw(o),p,f;for(p=0,f=s.length;p<f;++p){let{start:v,end:k}=s[p],x=r[v],C=r[k];if(x===C){c.push(x);continue}let M=Math.abs((a-x[i])/(C[i]-x[i])),I=h(x,C,M,o.stepped);I[i]=t[i],c.push(I)}return c.length===1?c[0]:c}pathSegment(t,i,o){return bd(this)(t,this,i,o)}path(t,i,o){let a=this.segments,r=bd(this),s=this._loop;i=i||0,o=o||this.points.length-i;for(let c of a)s&=r(t,this,c,{start:i,end:i+o-1});return!!s}draw(t,i,o,a){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),Uw(t,this,o,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"},n})();function zu(n,e,t,i){let o=n.options,{[t]:a}=n.getProps([t],i);return Math.abs(e-a)<o.radius+o.hitRadius}var Gw=(()=>{class n extends Qe{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,o){let a=this.options,{x:r,y:s}=this.getProps(["x","y"],o);return Math.pow(t-r,2)+Math.pow(i-s,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,i){return zu(this,t,"x",i)}inYRange(t,i){return zu(this,t,"y",i)}getCenterPoint(t){let{x:i,y:o}=this.getProps(["x","y"],t);return{x:i,y:o}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);let o=i&&t.borderWidth||0;return(i+o)*2}draw(t,i){let o=this.options;this.skip||o.radius<.1||!To(this,i,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,Cs(t,o,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function wf(n,e){let{x:t,y:i,base:o,width:a,height:r}=n.getProps(["x","y","base","width","height"],e),s,c,h,p,f;return n.horizontal?(f=r/2,s=Math.min(t,o),c=Math.max(t,o),h=i-f,p=i+f):(f=a/2,s=t-f,c=t+f,h=Math.min(i,o),p=Math.max(i,o)),{left:s,top:h,right:c,bottom:p}}function En(n,e,t,i){return n?0:ie(e,t,i)}function $w(n,e,t){let i=n.options.borderWidth,o=n.borderSkipped,a=Vc(i);return{t:En(o.top,a.top,0,t),r:En(o.right,a.right,0,e),b:En(o.bottom,a.bottom,0,t),l:En(o.left,a.left,0,e)}}function qw(n,e,t){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,a=In(o),r=Math.min(e,t),s=n.borderSkipped,c=i||st(o);return{topLeft:En(!c||s.top||s.left,a.topLeft,0,r),topRight:En(!c||s.top||s.right,a.topRight,0,r),bottomLeft:En(!c||s.bottom||s.left,a.bottomLeft,0,r),bottomRight:En(!c||s.bottom||s.right,a.bottomRight,0,r)}}function Xw(n){let e=wf(n),t=e.right-e.left,i=e.bottom-e.top,o=$w(n,t/2,i/2),a=qw(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function ad(n,e,t,i){let o=e===null,a=t===null,s=n&&!(o&&a)&&wf(n,i);return s&&(o||Li(e,s.left,s.right))&&(a||Li(t,s.top,s.bottom))}function Kw(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Zw(n,e){n.rect(e.x,e.y,e.w,e.h)}function rd(n,e,t={}){let i=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-i,r=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+i,y:n.y+o,w:n.w+a,h:n.h+r,radius:n.radius}}var Vo=class extends Qe{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:i,backgroundColor:o}}=this,{inner:a,outer:r}=Xw(this),s=Kw(r.radius)?Lo:Zw;e.save(),(r.w!==a.w||r.h!==a.h)&&(e.beginPath(),s(e,rd(r,t,a)),e.clip(),s(e,rd(a,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),s(e,rd(a,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,i){return ad(this,e,t,i)}inXRange(e,t){return ad(this,e,null,t)}inYRange(e,t){return ad(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+o)/2:t,y:a?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}};Vo.id="bar";Vo.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Vo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Qw=Object.freeze({__proto__:null,ArcElement:Bo,LineElement:Ws,PointElement:Gw,BarElement:Vo});function Jw(n,e,t,i,o){let a=o.samples||i;if(a>=t)return n.slice(e,e+t);let r=[],s=(t-2)/(a-2),c=0,h=e+t-1,p=e,f,v,k,x,C;for(r[c++]=n[p],f=0;f<a-2;f++){let M=0,I=0,E,L=Math.floor((f+1)*s)+1+e,R=Math.min(Math.floor((f+2)*s)+1,t)+e,O=R-L;for(E=L;E<R;E++)M+=n[E].x,I+=n[E].y;M/=O,I/=O;let z=Math.floor(f*s)+1+e,H=Math.min(Math.floor((f+1)*s)+1,t)+e,{x:W,y:q}=n[p];for(k=x=-1,E=z;E<H;E++)x=.5*Math.abs((W-M)*(n[E].y-q)-(W-n[E].x)*(I-q)),x>k&&(k=x,v=n[E],C=E);r[c++]=v,p=C}return r[c++]=n[h],r}function tC(n,e,t,i){let o=0,a=0,r,s,c,h,p,f,v,k,x,C,M=[],I=e+t-1,E=n[e].x,R=n[I].x-E;for(r=e;r<e+t;++r){s=n[r],c=(s.x-E)/R*i,h=s.y;let O=c|0;if(O===p)h<x?(x=h,f=r):h>C&&(C=h,v=r),o=(a*o+s.x)/++a;else{let z=r-1;if(!ut(f)&&!ut(v)){let H=Math.min(f,v),W=Math.max(f,v);H!==k&&H!==z&&M.push(Vn(Le({},n[H]),{x:o})),W!==k&&W!==z&&M.push(Vn(Le({},n[W]),{x:o}))}r>0&&z!==k&&M.push(n[z]),M.push(s),p=O,a=0,x=C=h,f=v=k=r}}return M}function Cf(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:e})}}function Bu(n){n.data.datasets.forEach(e=>{Cf(e)})}function eC(n,e){let t=e.length,i=0,o,{iScale:a}=n,{min:r,max:s,minDefined:c,maxDefined:h}=a.getUserBounds();return c&&(i=ie(Ai(e,a.axis,r).lo,0,t-1)),h?o=ie(Ai(e,a.axis,s).hi+1,i,t)-i:o=t-i,{start:i,count:o}}var iC={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Bu(n);return}let i=n.width;n.data.datasets.forEach((o,a)=>{let{_data:r,indexAxis:s}=o,c=n.getDatasetMeta(a),h=r||o.data;if(Fo([s,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let p=n.scales[c.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:f,count:v}=eC(c,h),k=t.threshold||4*i;if(v<=k){Cf(o);return}ut(r)&&(o._data=h,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(C){this._data=C}}));let x;switch(t.algorithm){case"lttb":x=Jw(h,f,v,i,t);break;case"min-max":x=tC(h,f,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}o._decimated=x})},destroy(n){Bu(n)}};function nC(n,e,t){let i=n.segments,o=n.points,a=e.points,r=[];for(let s of i){let{start:c,end:h}=s;h=yd(c,h,o);let p=vd(t,o[c],o[h],s.loop);if(!e.segments){r.push({source:s,target:p,start:o[c],end:o[h]});continue}let f=Qc(e,p);for(let v of f){let k=vd(t,a[v.start],a[v.end],v.loop),x=Zc(s,o,k);for(let C of x)r.push({source:C,target:v,start:{[t]:Vu(p,k,"start",Math.max)},end:{[t]:Vu(p,k,"end",Math.min)}})}}return r}function vd(n,e,t,i){if(i)return;let o=e[n],a=t[n];return n==="angle"&&(o=Ve(o),a=Ve(a)),{property:n,start:o,end:a}}function oC(n,e){let{x:t=null,y:i=null}=n||{},o=e.points,a=[];return e.segments.forEach(({start:r,end:s})=>{s=yd(r,s,o);let c=o[r],h=o[s];i!==null?(a.push({x:c.x,y:i}),a.push({x:h.x,y:i})):t!==null&&(a.push({x:t,y:c.y}),a.push({x:t,y:h.y}))}),a}function yd(n,e,t){for(;e>n;e--){let i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Vu(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Sf(n,e){let t=[],i=!1;return Dt(n)?(i=!0,t=n):t=oC(n,e),t.length?new Ws({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Hu(n){return n&&n.fill!==!1}function aC(n,e,t){let o=n[e].fill,a=[e],r;if(!t)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!Gt(o))return o;if(r=n[o],!r)return!1;if(r.visible)return o;a.push(o),o=r.fill}return!1}function rC(n,e,t){let i=dC(n);if(st(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return Gt(o)&&Math.floor(o)===o?sC(i[0],e,o,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function sC(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function lC(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:st(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function cC(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:st(n)?i=n.value:i=e.getBaseValue(),i}function dC(n){let e=n.options,t=e.fill,i=nt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function hC(n){let{scale:e,index:t,line:i}=n,o=[],a=i.segments,r=i.points,s=mC(e,t);s.push(Sf({x:null,y:e.bottom},i));for(let c=0;c<a.length;c++){let h=a[c];for(let p=h.start;p<=h.end;p++)pC(o,r[p],s)}return new Ws({points:o,options:{}})}function mC(n,e){let t=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){let a=i[o];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function pC(n,e,t){let i=[];for(let o=0;o<t.length;o++){let a=t[o],{first:r,last:s,point:c}=uC(a,e,"x");if(!(!c||r&&s)){if(r)i.unshift(c);else if(n.push(c),!s)break}}n.push(...i)}function uC(n,e,t){let i=n.interpolate(e,t);if(!i)return{};let o=i[t],a=n.segments,r=n.points,s=!1,c=!1;for(let h=0;h<a.length;h++){let p=a[h],f=r[p.start][t],v=r[p.end][t];if(Li(o,f,v)){s=o===f,c=o===v;break}}return{first:s,last:c,point:i}}var Bs=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){let{x:o,y:a,radius:r}=this;return t=t||{start:0,end:xt},e.arc(o,a,r,t.end,t.start,!0),!i.bounds}interpolate(e){let{x:t,y:i,radius:o}=this,a=e.angle;return{x:t+Math.cos(a)*o,y:i+Math.sin(a)*o,angle:a}}};function fC(n){let{chart:e,fill:t,line:i}=n;if(Gt(t))return gC(e,t);if(t==="stack")return hC(n);if(t==="shape")return!0;let o=_C(n);return o instanceof Bs?o:Sf(o,i)}function gC(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function _C(n){return(n.scale||{}).getPointPositionForValue?vC(n):bC(n)}function bC(n){let{scale:e={},fill:t}=n,i=lC(t,e);if(Gt(i)){let o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function vC(n){let{scale:e,fill:t}=n,i=e.options,o=e.getLabels().length,a=i.reverse?e.max:e.min,r=cC(t,e,a),s=[];if(i.grid.circular){let c=e.getPointPositionForValue(0,a);return new Bs({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(r)})}for(let c=0;c<o;++c)s.push(e.getPointPositionForValue(c,r));return s}function sd(n,e,t){let i=fC(e),{line:o,scale:a,axis:r}=e,s=o.options,c=s.fill,h=s.backgroundColor,{above:p=h,below:f=h}=c||{};i&&o.points.length&&(La(n,t),xC(n,{line:o,target:i,above:p,below:f,area:t,scale:a,axis:r}),Fa(n))}function xC(n,e){let{line:t,target:i,above:o,below:a,area:r,scale:s}=e,c=t._loop?"angle":e.axis;n.save(),c==="x"&&a!==o&&(Wu(n,i,r.top),Yu(n,{line:t,target:i,color:o,scale:s,property:c}),n.restore(),n.save(),Wu(n,i,r.bottom)),Yu(n,{line:t,target:i,color:a,scale:s,property:c}),n.restore()}function Wu(n,e,t){let{segments:i,points:o}=e,a=!0,r=!1;n.beginPath();for(let s of i){let{start:c,end:h}=s,p=o[c],f=o[yd(c,h,o)];a?(n.moveTo(p.x,p.y),a=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),r=!!e.pathSegment(n,s,{move:r}),r?n.closePath():n.lineTo(f.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Yu(n,e){let{line:t,target:i,property:o,color:a,scale:r}=e,s=nC(t,i,o);for(let{source:c,target:h,start:p,end:f}of s){let{style:{backgroundColor:v=a}={}}=c,k=i!==!0;n.save(),n.fillStyle=v,yC(n,r,k&&vd(o,p,f)),n.beginPath();let x=!!t.pathSegment(n,c),C;if(k){x?n.closePath():Uu(n,i,f,o);let M=!!i.pathSegment(n,h,{move:x,reverse:!0});C=x&&M,C||Uu(n,i,p,o)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function yC(n,e,t){let{top:i,bottom:o}=e.chart.chartArea,{property:a,start:r,end:s}=t||{};a==="x"&&(n.beginPath(),n.rect(r,i,s-r,o-i),n.clip())}function Uu(n,e,t,i){let o=e.interpolate(t,i);o&&n.lineTo(o.x,o.y)}var kC={id:"filler",afterDatasetsUpdate(n,e,t){let i=(n.data.datasets||[]).length,o=[],a,r,s,c;for(r=0;r<i;++r)a=n.getDatasetMeta(r),s=a.dataset,c=null,s&&s.options&&s instanceof Ws&&(c={visible:n.isDatasetVisible(r),index:r,fill:rC(s,r,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=c,o.push(c);for(r=0;r<i;++r)c=o[r],!(!c||c.fill===!1)&&(c.fill=aC(o,r,t.propagate))},beforeDraw(n,e,t){let i=t.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let r=o.length-1;r>=0;--r){let s=o[r].$filler;s&&(s.line.updateControlPoints(a,s.axis),i&&s.fill&&sd(n.ctx,s,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){let a=i[o].$filler;Hu(a)&&sd(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){let i=e.meta.$filler;!Hu(i)||t.drawTime!=="beforeDatasetDraw"||sd(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Gu=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},wC=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,Vs=class extends Qe{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=It(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,o=Qt(i.font),a=o.size,r=this._computeTitleHeight(),{boxWidth:s,itemHeight:c}=Gu(i,a),h,p;t.font=o.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(r,a,s,c)+10):(p=this.maxHeight,h=this._fitCols(r,a,s,c)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,o){let{ctx:a,maxWidth:r,options:{labels:{padding:s}}}=this,c=this.legendHitBoxes=[],h=this.lineWidths=[0],p=o+s,f=e;a.textAlign="left",a.textBaseline="middle";let v=-1,k=-p;return this.legendItems.forEach((x,C)=>{let M=i+t/2+a.measureText(x.text).width;(C===0||h[h.length-1]+M+2*s>r)&&(f+=p,h[h.length-(C>0?0:1)]=0,k+=p,v++),c[C]={left:0,top:k,row:v,width:M,height:o},h[h.length-1]+=M+s}),f}_fitCols(e,t,i,o){let{ctx:a,maxHeight:r,options:{labels:{padding:s}}}=this,c=this.legendHitBoxes=[],h=this.columnSizes=[],p=r-e,f=s,v=0,k=0,x=0,C=0;return this.legendItems.forEach((M,I)=>{let E=i+t/2+a.measureText(M.text).width;I>0&&k+o+2*s>p&&(f+=v+s,h.push({width:v,height:k}),x+=v+s,C++,v=k=0),c[I]={left:x,top:k,col:C,width:E,height:o},v=Math.max(v,E),k+=o+s}),f+=v,h.push({width:v,height:k}),f}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:o},rtl:a}}=this,r=Xn(a,this.left,this.width);if(this.isHorizontal()){let s=0,c=he(i,this.left+o,this.right-this.lineWidths[s]);for(let h of t)s!==h.row&&(s=h.row,c=he(i,this.left+o,this.right-this.lineWidths[s])),h.top+=this.top+e+o,h.left=r.leftForLtr(r.x(c),h.width),c+=h.width+o}else{let s=0,c=he(i,this.top+e+o,this.bottom-this.columnSizes[s].height);for(let h of t)h.col!==s&&(s=h.col,c=he(i,this.top+e+o,this.bottom-this.columnSizes[s].height)),h.top=c,h.left+=this.left+o,h.left=r.leftForLtr(r.x(h.left),h.width),c+=h.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;La(e,this),this._draw(),Fa(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:i,ctx:o}=this,{align:a,labels:r}=e,s=ot.color,c=Xn(e.rtl,this.left,this.width),h=Qt(r.font),{color:p,padding:f}=r,v=h.size,k=v/2,x;this.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=h.string;let{boxWidth:C,boxHeight:M,itemHeight:I}=Gu(r,v),E=function(H,W,q){if(isNaN(C)||C<=0||isNaN(M)||M<0)return;o.save();let at=nt(q.lineWidth,1);if(o.fillStyle=nt(q.fillStyle,s),o.lineCap=nt(q.lineCap,"butt"),o.lineDashOffset=nt(q.lineDashOffset,0),o.lineJoin=nt(q.lineJoin,"miter"),o.lineWidth=at,o.strokeStyle=nt(q.strokeStyle,s),o.setLineDash(nt(q.lineDash,[])),r.usePointStyle){let it={radius:M*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:at},rt=c.xPlus(H,C/2),At=W+k;Bc(o,it,rt,At,r.pointStyleWidth&&C)}else{let it=W+Math.max((v-M)/2,0),rt=c.leftForLtr(H,C),At=In(q.borderRadius);o.beginPath(),Object.values(At).some(Jt=>Jt!==0)?Lo(o,{x:rt,y:it,w:C,h:M,radius:At}):o.rect(rt,it,C,M),o.fill(),at!==0&&o.stroke()}o.restore()},L=function(H,W,q){Dn(o,q.text,H,W+I/2,h,{strikethrough:q.hidden,textAlign:c.textAlign(q.textAlign)})},R=this.isHorizontal(),O=this._computeTitleHeight();R?x={x:he(a,this.left+f,this.right-i[0]),y:this.top+f+O,line:0}:x={x:this.left+f,y:he(a,this.top+O+f,this.bottom-t[0].height),line:0},Xc(this.ctx,e.textDirection);let z=I+f;this.legendItems.forEach((H,W)=>{o.strokeStyle=H.fontColor||p,o.fillStyle=H.fontColor||p;let q=o.measureText(H.text).width,at=c.textAlign(H.textAlign||(H.textAlign=r.textAlign)),it=C+k+q,rt=x.x,At=x.y;c.setWidth(this.width),R?W>0&&rt+it+f>this.right&&(At=x.y+=z,x.line++,rt=x.x=he(a,this.left+f,this.right-i[x.line])):W>0&&At+z>this.bottom&&(rt=x.x=rt+t[x.line].width+f,x.line++,At=x.y=he(a,this.top+O+f,this.bottom-t[x.line].height));let Jt=c.x(rt);E(Jt,At,H),rt=$p(at,rt+C+k,R?rt+it:this.right,e.rtl),L(c.x(rt),At,H),R?x.x+=it+f:x.y+=z}),Kc(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,i=Qt(t.font),o=me(t.padding);if(!t.display)return;let a=Xn(e.rtl,this.left,this.width),r=this.ctx,s=t.position,c=i.size/2,h=o.top+c,p,f=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+h,f=he(e.align,f,this.right-v);else{let x=this.columnSizes.reduce((C,M)=>Math.max(C,M.height),0);p=h+he(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}let k=he(s,f,f+v);r.textAlign=a.textAlign(ks(s)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=i.string,Dn(r,t.text,k,p,i)}_computeTitleHeight(){let e=this.options.title,t=Qt(e.font),i=me(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,o,a;if(Li(e,this.left,this.right)&&Li(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],Li(e,o.left,o.left+o.width)&&Li(t,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){let t=this.options;if(!CC(e.type,t))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let o=this._hoveredItem,a=wC(o,i);o&&!a&&It(t.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!a&&It(t.onHover,[e,i,this],this)}else i&&It(t.onClick,[e,i,this],this)}};function CC(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var SC={id:"legend",_element:Vs,start(n,e,t){let i=n.legend=new Vs({ctx:n.ctx,options:t,chart:n});Se.configure(n,i,t),Se.addBox(n,i)},stop(n){Se.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let i=n.legend;Se.configure(n,i,t),i.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let i=e.datasetIndex,o=t.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:o,color:a}}=n.legend.options;return n._getSortedDatasetMetas().map(r=>{let s=r.controller.getStyle(t?0:void 0),c=me(s.borderWidth);return{text:e[r.index].label,fillStyle:s.backgroundColor,fontColor:a,hidden:!r.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:s.borderColor,pointStyle:i||s.pointStyle,rotation:s.rotation,textAlign:o||s.textAlign,borderRadius:0,datasetIndex:r.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},Ua=class extends Qe{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let o=Dt(i.text)?i.text.length:1;this._padding=me(i.padding);let a=o*Qt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:i,bottom:o,right:a,options:r}=this,s=r.align,c=0,h,p,f;return this.isHorizontal()?(p=he(s,i,a),f=t+e,h=a-i):(r.position==="left"?(p=i+e,f=he(s,o,t),c=Et*-.5):(p=a-e,f=he(s,t,o),c=Et*.5),h=o-t),{titleX:p,titleY:f,maxWidth:h,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let i=Qt(t.font),a=i.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:c,rotation:h}=this._drawArgs(a);Dn(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:h,textAlign:ks(t.align),textBaseline:"middle",translation:[r,s]})}};function MC(n,e){let t=new Ua({ctx:n.ctx,options:e,chart:n});Se.configure(n,t,e),Se.addBox(n,t),n.titleBlock=t}var DC={id:"title",_element:Ua,start(n,e,t){MC(n,t)},stop(n){let e=n.titleBlock;Se.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let i=n.titleBlock;Se.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Os=new WeakMap,IC={id:"subtitle",start(n,e,t){let i=new Ua({ctx:n.ctx,options:t,chart:n});Se.configure(n,i,t),Se.addBox(n,i),Os.set(n,i)},stop(n){Se.removeBox(n,Os.get(n)),Os.delete(n)},beforeUpdate(n,e,t){let i=Os.get(n);Se.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Wa={average(n){if(!n.length)return!1;let e,t,i=0,o=0,a=0;for(e=0,t=n.length;e<t;++e){let r=n[e].element;if(r&&r.hasValue()){let s=r.tooltipPosition();i+=s.x,o+=s.y,++a}}return{x:i/a,y:o/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,o=Number.POSITIVE_INFINITY,a,r,s;for(a=0,r=n.length;a<r;++a){let c=n[a].element;if(c&&c.hasValue()){let h=c.getCenterPoint(),p=_s(e,h);p<o&&(o=p,s=c)}}if(s){let c=s.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Fi(n,e){return e&&(Dt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function on(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function PC(n,e){let{element:t,datasetIndex:i,index:o}=e,a=n.getDatasetMeta(i).controller,{label:r,value:s}=a.getLabelAndValue(o);return{chart:n,label:r,parsed:a.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:s,dataset:a.getDataset(),dataIndex:o,datasetIndex:i,element:t}}function $u(n,e){let t=n.chart.ctx,{body:i,footer:o,title:a}=n,{boxWidth:r,boxHeight:s}=e,c=Qt(e.bodyFont),h=Qt(e.titleFont),p=Qt(e.footerFont),f=a.length,v=o.length,k=i.length,x=me(e.padding),C=x.height,M=0,I=i.reduce((R,O)=>R+O.before.length+O.lines.length+O.after.length,0);if(I+=n.beforeBody.length+n.afterBody.length,f&&(C+=f*h.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),I){let R=e.displayColors?Math.max(s,c.lineHeight):c.lineHeight;C+=k*R+(I-k)*c.lineHeight+(I-1)*e.bodySpacing}v&&(C+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let E=0,L=function(R){M=Math.max(M,t.measureText(R).width+E)};return t.save(),t.font=h.string,vt(n.title,L),t.font=c.string,vt(n.beforeBody.concat(n.afterBody),L),E=e.displayColors?r+2+e.boxPadding:0,vt(i,R=>{vt(R.before,L),vt(R.lines,L),vt(R.after,L)}),E=0,t.font=p.string,vt(n.footer,L),t.restore(),M+=x.width,{width:M,height:C}}function TC(n,e){let{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function EC(n,e,t,i){let{x:o,width:a}=i,r=t.caretSize+t.caretPadding;if(n==="left"&&o+a+r>e.width||n==="right"&&o-a-r<0)return!0}function OC(n,e,t,i){let{x:o,width:a}=t,{width:r,chartArea:{left:s,right:c}}=n,h="center";return i==="center"?h=o<=(s+c)/2?"left":"right":o<=a/2?h="left":o>=r-a/2&&(h="right"),EC(h,n,e,t)&&(h="center"),h}function qu(n,e,t){let i=t.yAlign||e.yAlign||TC(n,t);return{xAlign:t.xAlign||e.xAlign||OC(n,e,t,i),yAlign:i}}function AC(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function RC(n,e,t){let{y:i,height:o}=n;return e==="top"?i+=t:e==="bottom"?i-=o+t:i-=o/2,i}function Xu(n,e,t,i){let{caretSize:o,caretPadding:a,cornerRadius:r}=n,{xAlign:s,yAlign:c}=t,h=o+a,{topLeft:p,topRight:f,bottomLeft:v,bottomRight:k}=In(r),x=AC(e,s),C=RC(e,c,h);return c==="center"?s==="left"?x+=h:s==="right"&&(x-=h):s==="left"?x-=Math.max(p,v)+o:s==="right"&&(x+=Math.max(f,k)+o),{x:ie(x,0,i.width-e.width),y:ie(C,0,i.height-e.height)}}function As(n,e,t){let i=me(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Ku(n){return Fi([],on(n))}function LC(n,e,t){return en(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Zu(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var Qu=(()=>{class n extends Qe{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,o=this.options.setContext(this.getContext()),a=o.enabled&&i.options.animation&&o.animations,r=new Fs(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=LC(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){let{callbacks:o}=i,a=o.beforeTitle.apply(this,[t]),r=o.title.apply(this,[t]),s=o.afterTitle.apply(this,[t]),c=[];return c=Fi(c,on(a)),c=Fi(c,on(r)),c=Fi(c,on(s)),c}getBeforeBody(t,i){return Ku(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){let{callbacks:o}=i,a=[];return vt(t,r=>{let s={before:[],lines:[],after:[]},c=Zu(o,r);Fi(s.before,on(c.beforeLabel.call(this,r))),Fi(s.lines,c.label.call(this,r)),Fi(s.after,on(c.afterLabel.call(this,r))),a.push(s)}),a}getAfterBody(t,i){return Ku(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){let{callbacks:o}=i,a=o.beforeFooter.apply(this,[t]),r=o.footer.apply(this,[t]),s=o.afterFooter.apply(this,[t]),c=[];return c=Fi(c,on(a)),c=Fi(c,on(r)),c=Fi(c,on(s)),c}_createItems(t){let i=this._active,o=this.chart.data,a=[],r=[],s=[],c=[],h,p;for(h=0,p=i.length;h<p;++h)c.push(PC(this.chart,i[h]));return t.filter&&(c=c.filter((f,v,k)=>t.filter(f,v,k,o))),t.itemSort&&(c=c.sort((f,v)=>t.itemSort(f,v,o))),vt(c,f=>{let v=Zu(t.callbacks,f);a.push(v.labelColor.call(this,f)),r.push(v.labelPointStyle.call(this,f)),s.push(v.labelTextColor.call(this,f))}),this.labelColors=a,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=c,c}update(t,i){let o=this.options.setContext(this.getContext()),a=this._active,r,s=[];if(!a.length)this.opacity!==0&&(r={opacity:0});else{let c=Wa[o.position].call(this,a,this._eventPosition);s=this._createItems(o),this.title=this.getTitle(s,o),this.beforeBody=this.getBeforeBody(s,o),this.body=this.getBody(s,o),this.afterBody=this.getAfterBody(s,o),this.footer=this.getFooter(s,o);let h=this._size=$u(this,o),p=Object.assign({},c,h),f=qu(this.chart,o,p),v=Xu(o,p,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,r={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,o,a){let r=this.getCaretPosition(t,o,a);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)}getCaretPosition(t,i,o){let{xAlign:a,yAlign:r}=this,{caretSize:s,cornerRadius:c}=o,{topLeft:h,topRight:p,bottomLeft:f,bottomRight:v}=In(c),{x:k,y:x}=t,{width:C,height:M}=i,I,E,L,R,O,z;return r==="center"?(O=x+M/2,a==="left"?(I=k,E=I-s,R=O+s,z=O-s):(I=k+C,E=I+s,R=O-s,z=O+s),L=I):(a==="left"?E=k+Math.max(h,f)+s:a==="right"?E=k+C-Math.max(p,v)-s:E=this.caretX,r==="top"?(R=x,O=R-s,I=E-s,L=E+s):(R=x+M,O=R+s,I=E+s,L=E-s),z=R),{x1:I,x2:E,x3:L,y1:R,y2:O,y3:z}}drawTitle(t,i,o){let a=this.title,r=a.length,s,c,h;if(r){let p=Xn(o.rtl,this.x,this.width);for(t.x=As(this,o.titleAlign,o),i.textAlign=p.textAlign(o.titleAlign),i.textBaseline="middle",s=Qt(o.titleFont),c=o.titleSpacing,i.fillStyle=o.titleColor,i.font=s.string,h=0;h<r;++h)i.fillText(a[h],p.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+c,h+1===r&&(t.y+=o.titleMarginBottom-c)}}_drawColorBox(t,i,o,a,r){let s=this.labelColors[o],c=this.labelPointStyles[o],{boxHeight:h,boxWidth:p,boxPadding:f}=r,v=Qt(r.bodyFont),k=As(this,"left",r),x=a.x(k),C=h<v.lineHeight?(v.lineHeight-h)/2:0,M=i.y+C;if(r.usePointStyle){let I={radius:Math.min(p,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},E=a.leftForLtr(x,p)+p/2,L=M+h/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Cs(t,I,E,L),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Cs(t,I,E,L)}else{t.lineWidth=st(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;let I=a.leftForLtr(x,p-f),E=a.leftForLtr(a.xPlus(x,1),p-f-2),L=In(s.borderRadius);Object.values(L).some(R=>R!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Lo(t,{x:I,y:M,w:p,h,radius:L}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Lo(t,{x:E,y:M+1,w:p-2,h:h-2,radius:L}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(I,M,p,h),t.strokeRect(I,M,p,h),t.fillStyle=s.backgroundColor,t.fillRect(E,M+1,p-2,h-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,i,o){let{body:a}=this,{bodySpacing:r,bodyAlign:s,displayColors:c,boxHeight:h,boxWidth:p,boxPadding:f}=o,v=Qt(o.bodyFont),k=v.lineHeight,x=0,C=Xn(o.rtl,this.x,this.width),M=function(q){i.fillText(q,C.x(t.x+x),t.y+k/2),t.y+=k+r},I=C.textAlign(s),E,L,R,O,z,H,W;for(i.textAlign=s,i.textBaseline="middle",i.font=v.string,t.x=As(this,I,o),i.fillStyle=o.bodyColor,vt(this.beforeBody,M),x=c&&I!=="right"?s==="center"?p/2+f:p+2+f:0,O=0,H=a.length;O<H;++O){for(E=a[O],L=this.labelTextColors[O],i.fillStyle=L,vt(E.before,M),R=E.lines,c&&R.length&&(this._drawColorBox(i,t,O,C,o),k=Math.max(v.lineHeight,h)),z=0,W=R.length;z<W;++z)M(R[z]),k=v.lineHeight;vt(E.after,M)}x=0,k=v.lineHeight,vt(this.afterBody,M),t.y-=r}drawFooter(t,i,o){let a=this.footer,r=a.length,s,c;if(r){let h=Xn(o.rtl,this.x,this.width);for(t.x=As(this,o.footerAlign,o),t.y+=o.footerMarginTop,i.textAlign=h.textAlign(o.footerAlign),i.textBaseline="middle",s=Qt(o.footerFont),i.fillStyle=o.footerColor,i.font=s.string,c=0;c<r;++c)i.fillText(a[c],h.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o.footerSpacing}}drawBackground(t,i,o,a){let{xAlign:r,yAlign:s}=this,{x:c,y:h}=t,{width:p,height:f}=o,{topLeft:v,topRight:k,bottomLeft:x,bottomRight:C}=In(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(c+v,h),s==="top"&&this.drawCaret(t,i,o,a),i.lineTo(c+p-k,h),i.quadraticCurveTo(c+p,h,c+p,h+k),s==="center"&&r==="right"&&this.drawCaret(t,i,o,a),i.lineTo(c+p,h+f-C),i.quadraticCurveTo(c+p,h+f,c+p-C,h+f),s==="bottom"&&this.drawCaret(t,i,o,a),i.lineTo(c+x,h+f),i.quadraticCurveTo(c,h+f,c,h+f-x),s==="center"&&r==="left"&&this.drawCaret(t,i,o,a),i.lineTo(c,h+v),i.quadraticCurveTo(c,h,c+v,h),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,o=this.$animations,a=o&&o.x,r=o&&o.y;if(a||r){let s=Wa[t.position].call(this,this._active,this._eventPosition);if(!s)return;let c=this._size=$u(this,t),h=Object.assign({},s,this._size),p=qu(i,t,h),f=Xu(t,h,p,i);(a._to!==f.x||r._to!==f.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=c.width,this.height=c.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(i);let a={width:this.width,height:this.height},r={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let s=me(i.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&c&&(t.save(),t.globalAlpha=o,this.drawBackground(r,t,a,i),Xc(t,i.textDirection),r.y+=s.top,this.drawTitle(r,t,i),this.drawBody(r,t,i),this.drawFooter(r,t,i),Kc(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let o=this._active,a=t.map(({datasetIndex:c,index:h})=>{let p=this.chart.getDatasetMeta(c);if(!p)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:p.data[h],index:h}}),r=!Aa(o,a),s=this._positionChanged(a,i);(r||s)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,r=this._active||[],s=this._getActiveElements(t,r,i,o),c=this._positionChanged(s,t),h=i||!Aa(s,r)||c;return h&&(this._active=s,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),h}_getActiveElements(t,i,o,a){let r=this.options;if(t.type==="mouseout")return[];if(!a)return i;let s=this.chart.getElementsAtEventForMode(t,r.mode,r,o);return r.reverse&&s.reverse(),s}_positionChanged(t,i){let{caretX:o,caretY:a,options:r}=this,s=Wa[r.position].call(this,t,i);return s!==!1&&(o!==s.x||a!==s.y)}}return n.positioners=Wa,n})(),FC={id:"tooltip",_element:Qu,positioners:Wa,afterInit(n,e,t){t&&(n.tooltip=new Qu({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",t)===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ri,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Ri,beforeBody:Ri,beforeLabel:Ri,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return ut(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ri,afterBody:Ri,beforeFooter:Ri,footer:Ri,afterFooter:Ri}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},jC=Object.freeze({__proto__:null,Decimation:iC,Filler:kC,Legend:SC,SubTitle:IC,Title:DC,Tooltip:FC}),NC=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function zC(n,e,t,i){let o=n.indexOf(e);if(o===-1)return NC(n,e,t,i);let a=n.lastIndexOf(e);return o!==a?t:o}var BC=(n,e)=>n===null?null:ie(Math.round(n),0,e),Ho=class extends Zn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let i=this.getLabels();for(let{index:o,label:a}of t)i[o]===a&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ut(e))return null;let i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:zC(i,e,nt(t,e),this._addedLabels),BC(t,i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let e=this.min,t=this.max,i=this.options.offset,o=[],a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)o.push({value:r});return o}getLabelForValue(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}};Ho.id="category";Ho.defaults={ticks:{callback:Ho.prototype.getLabelForValue}};function VC(n,e){let t=[],{bounds:o,step:a,min:r,max:s,precision:c,count:h,maxTicks:p,maxDigits:f,includeBounds:v}=n,k=a||1,x=p-1,{min:C,max:M}=e,I=!ut(r),E=!ut(s),L=!ut(h),R=(M-C)/(f+1),O=Sc((M-C)/x/k)*k,z,H,W,q;if(O<1e-14&&!I&&!E)return[{value:C},{value:M}];q=Math.ceil(M/O)-Math.floor(C/O),q>x&&(O=Sc(q*O/x/k)*k),ut(c)||(z=Math.pow(10,c),O=Math.ceil(O*z)/z),o==="ticks"?(H=Math.floor(C/O)*O,W=Math.ceil(M/O)*O):(H=C,W=M),I&&E&&a&&Bp((s-r)/a,O/1e3)?(q=Math.round(Math.min((s-r)/O,p)),O=(s-r)/q,H=r,W=s):L?(H=I?r:H,W=E?s:W,q=h-1,O=(W-H)/q):(q=(W-H)/O,Ao(q,Math.round(q),O/1e3)?q=Math.round(q):q=Math.ceil(q));let at=Math.max(Dc(O),Dc(H));z=Math.pow(10,ut(c)?at:c),H=Math.round(H*z)/z,W=Math.round(W*z)/z;let it=0;for(I&&(v&&H!==r?(t.push({value:r}),H<r&&it++,Ao(Math.round((H+it*O)*z)/z,r,Ju(r,R,n))&&it++):H<r&&it++);it<q;++it)t.push({value:Math.round((H+it*O)*z)/z});return E&&v&&W!==s?t.length&&Ao(t[t.length-1].value,s,Ju(s,R,n))?t[t.length-1].value=s:t.push({value:s}):(!E||W===s)&&t.push({value:W}),t}function Ju(n,e,{horizontal:t,minRotation:i}){let o=ci(i),a=(t?Math.sin(o):Math.cos(o))||.001,r=.75*e*(""+n).length;return Math.min(e/a,r)}var Wo=class extends Zn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ut(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:o,max:a}=this,r=c=>o=t?o:c,s=c=>a=i?a:c;if(e){let c=_i(o),h=_i(a);c<0&&h<0?s(0):c>0&&h>0&&r(0)}if(o===a){let c=1;(a>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(c=Math.abs(a*.05)),s(a+c),e||r(o-c)}this.min=o,this.max=a}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,r=VC(o,a);return e.bounds==="ticks"&&Mc(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let o=(i-t)/Math.max(e.length-1,1)/2;t-=o,i+=o}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return jo(e,this.chart.options.locale,this.options.ticks.format)}},Ga=class extends Wo{determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Gt(e)?e:0,this.max=Gt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=ci(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}};Ga.id="linear";Ga.defaults={ticks:{callback:Hs.formatters.numeric}};function tf(n){return n/Math.pow(10,Math.floor(Ze(n)))===1}function HC(n,e){let t=Math.floor(Ze(e.max)),i=Math.ceil(e.max/Math.pow(10,t)),o=[],a=Ke(n.min,Math.pow(10,Math.floor(Ze(e.min)))),r=Math.floor(Ze(a)),s=Math.floor(a/Math.pow(10,r)),c=r<0?Math.pow(10,Math.abs(r)):1;do o.push({value:a,major:tf(a)}),++s,s===10&&(s=1,++r,c=r>=0?1:c),a=Math.round(s*Math.pow(10,r)*c)/c;while(r<t||r===t&&s<i);let h=Ke(n.max,a);return o.push({value:h,major:tf(a)}),o}var $a=class extends Zn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=Wo.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Gt(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Gt(e)?Math.max(0,e):null,this.max=Gt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,o=this.max,a=c=>i=e?i:c,r=c=>o=t?o:c,s=(c,h)=>Math.pow(10,Math.floor(Ze(c))+h);i===o&&(i<=0?(a(1),r(10)):(a(s(i,-1)),r(s(o,1)))),i<=0&&a(s(o,-1)),o<=0&&r(s(i,1)),this._zero&&this.min!==this._suggestedMin&&i===s(this.min,0)&&a(s(i,-1)),this.min=i,this.max=o}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},i=HC(t,this);return e.bounds==="ticks"&&Mc(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":jo(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Ze(e),this._valueRange=Ze(this.max)-Ze(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ze(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};$a.id="logarithmic";$a.defaults={ticks:{callback:Hs.formatters.logarithmic,major:{enabled:!0}}};function xd(n){let e=n.ticks;if(e.display&&n.display){let t=me(e.backdropPadding);return nt(e.font&&e.font.size,ot.font.size)+t.height}return 0}function WC(n,e,t){return t=Dt(t)?t:[t],{w:Jp(n,e.string,t),h:t.length*e.lineHeight}}function ef(n,e,t,i,o){return n===i||n===o?{start:e-t/2,end:e+t/2}:n<i||n>o?{start:e-t,end:e}:{start:e,end:e+t}}function YC(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],o=[],a=n._pointLabels.length,r=n.options.pointLabels,s=r.centerPointLabels?Et/a:0;for(let c=0;c<a;c++){let h=r.setContext(n.getPointLabelContext(c));o[c]=h.padding;let p=n.getPointPosition(c,n.drawingArea+o[c],s),f=Qt(h.font),v=WC(n.ctx,f,n._pointLabels[c]);i[c]=v;let k=Ve(n.getIndexAngle(c)+s),x=Math.round(xs(k)),C=ef(x,p.x,v.w,0,180),M=ef(x,p.y,v.h,90,270);UC(t,e,k,C,M)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=GC(n,i,o)}function UC(n,e,t,i,o){let a=Math.abs(Math.sin(t)),r=Math.abs(Math.cos(t)),s=0,c=0;i.start<e.l?(s=(e.l-i.start)/a,n.l=Math.min(n.l,e.l-s)):i.end>e.r&&(s=(i.end-e.r)/a,n.r=Math.max(n.r,e.r+s)),o.start<e.t?(c=(e.t-o.start)/r,n.t=Math.min(n.t,e.t-c)):o.end>e.b&&(c=(o.end-e.b)/r,n.b=Math.max(n.b,e.b+c))}function GC(n,e,t){let i=[],o=n._pointLabels.length,a=n.options,r=xd(a)/2,s=n.drawingArea,c=a.pointLabels.centerPointLabels?Et/o:0;for(let h=0;h<o;h++){let p=n.getPointPosition(h,s+r+t[h],c),f=Math.round(xs(Ve(p.angle+zt))),v=e[h],k=XC(p.y,v.h,f),x=$C(f),C=qC(p.x,v.w,x);i.push({x:p.x,y:k,textAlign:x,left:C,top:k,right:C+v.w,bottom:k+v.h})}return i}function $C(n){return n===0||n===180?"center":n<180?"left":"right"}function qC(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function XC(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function KC(n,e){let{ctx:t,options:{pointLabels:i}}=n;for(let o=e-1;o>=0;o--){let a=i.setContext(n.getPointLabelContext(o)),r=Qt(a.font),{x:s,y:c,textAlign:h,left:p,top:f,right:v,bottom:k}=n._pointLabelItems[o],{backdropColor:x}=a;if(!ut(x)){let C=In(a.borderRadius),M=me(a.backdropPadding);t.fillStyle=x;let I=p-M.left,E=f-M.top,L=v-p+M.width,R=k-f+M.height;Object.values(C).some(O=>O!==0)?(t.beginPath(),Lo(t,{x:I,y:E,w:L,h:R,radius:C}),t.fill()):t.fillRect(I,E,L,R)}Dn(t,n._pointLabels[o],s,c+r.lineHeight/2,r,{color:a.color,textAlign:h,textBaseline:"middle"})}}function Mf(n,e,t,i){let{ctx:o}=n;if(t)o.arc(n.xCenter,n.yCenter,e,0,xt);else{let a=n.getPointPosition(0,e);o.moveTo(a.x,a.y);for(let r=1;r<i;r++)a=n.getPointPosition(r,e),o.lineTo(a.x,a.y)}}function ZC(n,e,t,i){let o=n.ctx,a=e.circular,{color:r,lineWidth:s}=e;!a&&!i||!r||!s||t<0||(o.save(),o.strokeStyle=r,o.lineWidth=s,o.setLineDash(e.borderDash),o.lineDashOffset=e.borderDashOffset,o.beginPath(),Mf(n,t,a,i),o.closePath(),o.stroke(),o.restore())}function QC(n,e,t){return en(n,{label:t,index:e,type:"pointLabel"})}var Qn=class extends Wo{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=me(xd(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Gt(e)&&!isNaN(e)?e:0,this.max=Gt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/xd(this.options))}generateTickLabels(e){Wo.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{let o=It(this.options.pointLabels.callback,[t,i],this);return o||o===0?o:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?YC(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,o))}getIndexAngle(e){let t=xt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ve(e*t+ci(i))}getDistanceFromCenterForValue(e){if(ut(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ut(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return QC(this.getContext(),e,i)}}getPointPosition(e,t,i=0){let o=this.getIndexAngle(e)-zt+i;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:o,bottom:a}=this._pointLabelItems[e];return{left:t,top:i,right:o,bottom:a}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),Mf(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:i,grid:o}=t,a=this._pointLabels.length,r,s,c;if(t.pointLabels.display&&KC(this,a),o.display&&this.ticks.forEach((h,p)=>{if(p!==0){s=this.getDistanceFromCenterForValue(h.value);let f=o.setContext(this.getContext(p-1));ZC(this,f,s,a)}}),i.display){for(e.save(),r=a-1;r>=0;r--){let h=i.setContext(this.getPointLabelContext(r)),{color:p,lineWidth:f}=h;!f||!p||(e.lineWidth=f,e.strokeStyle=p,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(r,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;let o=this.getIndexAngle(0),a,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,c)=>{if(c===0&&!t.reverse)return;let h=i.setContext(this.getContext(c)),p=Qt(h.font);if(a=this.getDistanceFromCenterForValue(this.ticks[c].value),h.showLabelBackdrop){e.font=p.string,r=e.measureText(s.label).width,e.fillStyle=h.backdropColor;let f=me(h.backdropPadding);e.fillRect(-r/2-f.left,-a-p.size/2-f.top,r+f.width,p.size+f.height)}Dn(e,s.label,0,-a,p,{color:h.color})}),e.restore()}drawTitle(){}};Qn.id="radialLinear";Qn.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Hs.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};Qn.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Qn.descriptors={angleLines:{_fallback:"grid"}};var Ys={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},He=Object.keys(Ys);function JC(n,e){return n-e}function nf(n,e){if(ut(e))return null;let t=n._adapter,{parser:i,round:o,isoWeekday:a}=n._parseOpts,r=e;return typeof i=="function"&&(r=i(r)),Gt(r)||(r=typeof i=="string"?t.parse(r,i):t.parse(r)),r===null?null:(o&&(r=o==="week"&&(qn(a)||a===!0)?t.startOf(r,"isoWeek",a):t.startOf(r,o)),+r)}function of(n,e,t,i){let o=He.length;for(let a=He.indexOf(n);a<o-1;++a){let r=Ys[He[a]],s=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(s*r.size))<=i)return He[a]}return He[o-1]}function tS(n,e,t,i,o){for(let a=He.length-1;a>=He.indexOf(t);a--){let r=He[a];if(Ys[r].common&&n._adapter.diff(o,i,r)>=e-1)return r}return He[t?He.indexOf(t):0]}function eS(n){for(let e=He.indexOf(n)+1,t=He.length;e<t;++e)if(Ys[He[e]].common)return He[e]}function af(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:i,hi:o}=ys(t,e),a=t[i]>=e?t[i]:t[o];n[a]=!0}}function iS(n,e,t,i){let o=n._adapter,a=+o.startOf(e[0].value,i),r=e[e.length-1].value,s,c;for(s=a;s<=r;s=+o.add(s,1,i))c=t[s],c>=0&&(e[c].major=!0);return e}function rf(n,e,t){let i=[],o={},a=e.length,r,s;for(r=0;r<a;++r)s=e[r],o[s]=r,i.push({value:s,major:!1});return a===0||!t?i:iS(n,i,o,t)}var kd=(()=>{class n extends Zn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){let o=t.time||(t.time={}),a=this._adapter=new Uk._date(t.adapters.date);a.init(i),Oo(o.displayFormats,a.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:nf(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,o=t.time.unit||"day",{min:a,max:r,minDefined:s,maxDefined:c}=this.getUserBounds();function h(p){!s&&!isNaN(p.min)&&(a=Math.min(a,p.min)),!c&&!isNaN(p.max)&&(r=Math.max(r,p.max))}(!s||!c)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=Gt(a)&&!isNaN(a)?a:+i.startOf(Date.now(),o),r=Gt(r)&&!isNaN(r)?r:+i.endOf(Date.now(),o)+1,this.min=Math.min(a,r-1),this.max=Math.max(a+1,r)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],o=t[t.length-1]),{min:i,max:o}}buildTicks(){let t=this.options,i=t.time,o=t.ticks,a=o.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let r=this.min,s=this.max,c=Wp(a,r,s);return this._unit=i.unit||(o.autoSkip?of(i.minUnit,this.min,this.max,this._getLabelCapacity(r)):tS(this,c.length,i.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:eS(this._unit),this.initOffsets(a),t.reverse&&c.reverse(),rf(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let i=0,o=0,a,r;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?i=1-a:i=(this.getDecimalForValue(t[1])-a)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?o=r:o=(r-this.getDecimalForValue(t[t.length-2]))/2);let s=t.length<3?.5:.25;i=ie(i,0,s),o=ie(o,0,s),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){let t=this._adapter,i=this.min,o=this.max,a=this.options,r=a.time,s=r.unit||of(r.minUnit,i,o,this._getLabelCapacity(i)),c=nt(r.stepSize,1),h=s==="week"?r.isoWeekday:!1,p=qn(h)||h===!0,f={},v=i,k,x;if(p&&(v=+t.startOf(v,"isoWeek",h)),v=+t.startOf(v,p?"day":s),t.diff(o,i,s)>1e5*c)throw new Error(i+" and "+o+" are too far apart with stepSize of "+c+" "+s);let C=a.ticks.source==="data"&&this.getDataTimestamps();for(k=v,x=0;k<o;k=+t.add(k,c,s),x++)af(f,k,C);return(k===o||a.bounds==="ticks"||x===1)&&af(f,k,C),Object.keys(f).sort((M,I)=>M-I).map(M=>+M)}getLabelForValue(t){let i=this._adapter,o=this.options.time;return o.tooltipFormat?i.format(t,o.tooltipFormat):i.format(t,o.displayFormats.datetime)}_tickFormatFunction(t,i,o,a){let r=this.options,s=r.time.displayFormats,c=this._unit,h=this._majorUnit,p=c&&s[c],f=h&&s[h],v=o[i],k=h&&f&&v&&v.major,x=this._adapter.format(t,a||(k?f:p)),C=r.ticks.callback;return C?It(C,[x,i,o],this):x}generateTickLabels(t){let i,o,a;for(i=0,o=t.length;i<o;++i)a=t[i],a.label=this._tickFormatFunction(a.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(t){let i=this._offsets,o=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,o=this.ctx.measureText(t).width,a=ci(this.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(a),s=Math.sin(a),c=this._resolveTickFontOptions(0).size;return{w:o*r+c*s,h:o*s+c*r}}_getLabelCapacity(t){let i=this.options.time,o=i.displayFormats,a=o[i.unit]||o.millisecond,r=this._tickFormatFunction(t,0,rf(this,[t],this._majorUnit),a),s=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],i,o;if(t.length)return t;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,o=a.length;i<o;++i)t=t.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],i,o;if(t.length)return t;let a=this.getLabels();for(i=0,o=a.length;i<o;++i)t.push(nf(this,a[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Tc(t.sort(JC))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function Rs(n,e,t){let i=0,o=n.length-1,a,r,s,c;t?(e>=n[i].pos&&e<=n[o].pos&&({lo:i,hi:o}=Ai(n,"pos",e)),{pos:a,time:s}=n[i],{pos:r,time:c}=n[o]):(e>=n[i].time&&e<=n[o].time&&({lo:i,hi:o}=Ai(n,"time",e)),{time:a,pos:s}=n[i],{time:r,pos:c}=n[o]);let h=r-a;return h?s+(c-s)*(e-a)/h:s}var qa=class extends kd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Rs(t,this.min),this._tableRange=Rs(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:i}=this,o=[],a=[],r,s,c,h,p;for(r=0,s=e.length;r<s;++r)h=e[r],h>=t&&h<=i&&o.push(h);if(o.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,s=o.length;r<s;++r)p=o[r+1],c=o[r-1],h=o[r],Math.round((p+c)/2)!==h&&a.push({time:h,pos:r/(s-1)});return a}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Rs(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Rs(this._table,i*this._tableRange+this._minPos,!0)}};qa.id="timeseries";qa.defaults=kd.defaults;var nS=Object.freeze({__proto__:null,CategoryScale:Ho,LinearScale:Ga,LogarithmicScale:$a,RadialLinearScale:Qn,TimeScale:kd,TimeSeriesScale:qa}),Df=[Wk,Qw,jC,nS];var oS=typeof global=="object"&&global&&global.Object===Object&&global,Us=oS;var aS=typeof self=="object"&&self&&self.Object===Object&&self,rS=Us||aS||Function("return this")(),di=rS;var sS=di.Symbol,Yo=sS;var If=Object.prototype,lS=If.hasOwnProperty,cS=If.toString,Ka=Yo?Yo.toStringTag:void 0;function dS(n){var e=lS.call(n,Ka),t=n[Ka];try{n[Ka]=void 0;var i=!0}catch{}var o=cS.call(n);return i&&(e?n[Ka]=t:delete n[Ka]),o}var Pf=dS;var hS=Object.prototype,mS=hS.toString;function pS(n){return mS.call(n)}var Tf=pS;var uS="[object Null]",fS="[object Undefined]",Ef=Yo?Yo.toStringTag:void 0;function gS(n){return n==null?n===void 0?fS:uS:Ef&&Ef in Object(n)?Pf(n):Tf(n)}var On=gS;function _S(n){return n!=null&&typeof n=="object"}var zi=_S;var bS=Array.isArray,Za=bS;function vS(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var We=vS;function xS(n){return n}var Gs=xS;var yS="[object AsyncFunction]",kS="[object Function]",wS="[object GeneratorFunction]",CS="[object Proxy]";function SS(n){if(!We(n))return!1;var e=On(n);return e==kS||e==wS||e==yS||e==CS}var Uo=SS;var MS=di["__core-js_shared__"],$s=MS;var Of=function(){var n=/[^.]+$/.exec($s&&$s.keys&&$s.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function DS(n){return!!Of&&Of in n}var Af=DS;var IS=Function.prototype,PS=IS.toString;function TS(n){if(n!=null){try{return PS.call(n)}catch{}try{return n+""}catch{}}return""}var Rf=TS;var ES=/[\\^$.*+?()[\]{}|]/g,OS=/^\[object .+?Constructor\]$/,AS=Function.prototype,RS=Object.prototype,LS=AS.toString,FS=RS.hasOwnProperty,jS=RegExp("^"+LS.call(FS).replace(ES,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NS(n){if(!We(n)||Af(n))return!1;var e=Uo(n)?jS:OS;return e.test(Rf(n))}var Lf=NS;function zS(n,e){return n?.[e]}var Ff=zS;function BS(n,e){var t=Ff(n,e);return Lf(t)?t:void 0}var Go=BS;var jf=Object.create,VS=function(){function n(){}return function(e){if(!We(e))return{};if(jf)return jf(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),Nf=VS;function HS(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var zf=HS;function WS(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var Bf=WS;var YS=800,US=16,GS=Date.now;function $S(n){var e=0,t=0;return function(){var i=GS(),o=US-(i-t);if(t=i,o>0){if(++e>=YS)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var Vf=$S;function qS(n){return function(){return n}}var Hf=qS;var XS=function(){try{var n=Go(Object,"defineProperty");return n({},"",{}),n}catch{}}(),$o=XS;var KS=$o?function(n,e){return $o(n,"toString",{configurable:!0,enumerable:!1,value:Hf(e),writable:!0})}:Gs,Wf=KS;var ZS=Vf(Wf),Yf=ZS;var QS=9007199254740991,JS=/^(?:0|[1-9]\d*)$/;function tM(n,e){var t=typeof n;return e=e??QS,!!e&&(t=="number"||t!="symbol"&&JS.test(n))&&n>-1&&n%1==0&&n<e}var qs=tM;function eM(n,e,t){e=="__proto__"&&$o?$o(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var qo=eM;function iM(n,e){return n===e||n!==n&&e!==e}var An=iM;var nM=Object.prototype,oM=nM.hasOwnProperty;function aM(n,e,t){var i=n[e];(!(oM.call(n,e)&&An(i,t))||t===void 0&&!(e in n))&&qo(n,e,t)}var Uf=aM;function rM(n,e,t,i){var o=!t;t||(t={});for(var a=-1,r=e.length;++a<r;){var s=e[a],c=i?i(t[s],n[s],s,t,n):void 0;c===void 0&&(c=n[s]),o?qo(t,s,c):Uf(t,s,c)}return t}var Gf=rM;var $f=Math.max;function sM(n,e,t){return e=$f(e===void 0?n.length-1:e,0),function(){for(var i=arguments,o=-1,a=$f(i.length-e,0),r=Array(a);++o<a;)r[o]=i[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=i[o];return s[e]=t(r),zf(n,this,s)}}var qf=sM;function lM(n,e){return Yf(qf(n,e,Gs),n+"")}var Xf=lM;var cM=9007199254740991;function dM(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=cM}var Xs=dM;function hM(n){return n!=null&&Xs(n.length)&&!Uo(n)}var Xo=hM;function mM(n,e,t){if(!We(t))return!1;var i=typeof e;return(i=="number"?Xo(t)&&qs(e,t.length):i=="string"&&e in t)?An(t[e],n):!1}var Kf=mM;function pM(n){return Xf(function(e,t){var i=-1,o=t.length,a=o>1?t[o-1]:void 0,r=o>2?t[2]:void 0;for(a=n.length>3&&typeof a=="function"?(o--,a):void 0,r&&Kf(t[0],t[1],r)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var s=t[i];s&&n(e,s,i,a)}return e})}var Zf=pM;var uM=Object.prototype;function fM(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||uM;return n===t}var Ks=fM;function gM(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var Qf=gM;var _M="[object Arguments]";function bM(n){return zi(n)&&On(n)==_M}var wd=bM;var Jf=Object.prototype,vM=Jf.hasOwnProperty,xM=Jf.propertyIsEnumerable,yM=wd(function(){return arguments}())?wd:function(n){return zi(n)&&vM.call(n,"callee")&&!xM.call(n,"callee")},Qa=yM;function kM(){return!1}var tg=kM;var ng=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eg=ng&&typeof module=="object"&&module&&!module.nodeType&&module,wM=eg&&eg.exports===ng,ig=wM?di.Buffer:void 0,CM=ig?ig.isBuffer:void 0,SM=CM||tg,Zs=SM;var MM="[object Arguments]",DM="[object Array]",IM="[object Boolean]",PM="[object Date]",TM="[object Error]",EM="[object Function]",OM="[object Map]",AM="[object Number]",RM="[object Object]",LM="[object RegExp]",FM="[object Set]",jM="[object String]",NM="[object WeakMap]",zM="[object ArrayBuffer]",BM="[object DataView]",VM="[object Float32Array]",HM="[object Float64Array]",WM="[object Int8Array]",YM="[object Int16Array]",UM="[object Int32Array]",GM="[object Uint8Array]",$M="[object Uint8ClampedArray]",qM="[object Uint16Array]",XM="[object Uint32Array]",Ot={};Ot[VM]=Ot[HM]=Ot[WM]=Ot[YM]=Ot[UM]=Ot[GM]=Ot[$M]=Ot[qM]=Ot[XM]=!0;Ot[MM]=Ot[DM]=Ot[zM]=Ot[IM]=Ot[BM]=Ot[PM]=Ot[TM]=Ot[EM]=Ot[OM]=Ot[AM]=Ot[RM]=Ot[LM]=Ot[FM]=Ot[jM]=Ot[NM]=!1;function KM(n){return zi(n)&&Xs(n.length)&&!!Ot[On(n)]}var og=KM;function ZM(n){return function(e){return n(e)}}var ag=ZM;var rg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ja=rg&&typeof module=="object"&&module&&!module.nodeType&&module,QM=Ja&&Ja.exports===rg,Cd=QM&&Us.process,JM=function(){try{var n=Ja&&Ja.require&&Ja.require("util").types;return n||Cd&&Cd.binding&&Cd.binding("util")}catch{}}(),Sd=JM;var sg=Sd&&Sd.isTypedArray,tD=sg?ag(sg):og,Qs=tD;var eD=Object.prototype,iD=eD.hasOwnProperty;function nD(n,e){var t=Za(n),i=!t&&Qa(n),o=!t&&!i&&Zs(n),a=!t&&!i&&!o&&Qs(n),r=t||i||o||a,s=r?Qf(n.length,String):[],c=s.length;for(var h in n)(e||iD.call(n,h))&&!(r&&(h=="length"||o&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||qs(h,c)))&&s.push(h);return s}var lg=nD;function oD(n,e){return function(t){return n(e(t))}}var cg=oD;function aD(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var dg=aD;var rD=Object.prototype,sD=rD.hasOwnProperty;function lD(n){if(!We(n))return dg(n);var e=Ks(n),t=[];for(var i in n)i=="constructor"&&(e||!sD.call(n,i))||t.push(i);return t}var hg=lD;function cD(n){return Xo(n)?lg(n,!0):hg(n)}var Js=cD;var dD=Go(Object,"create"),rn=dD;function hD(){this.__data__=rn?rn(null):{},this.size=0}var mg=hD;function mD(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var pg=mD;var pD="__lodash_hash_undefined__",uD=Object.prototype,fD=uD.hasOwnProperty;function gD(n){var e=this.__data__;if(rn){var t=e[n];return t===pD?void 0:t}return fD.call(e,n)?e[n]:void 0}var ug=gD;var _D=Object.prototype,bD=_D.hasOwnProperty;function vD(n){var e=this.__data__;return rn?e[n]!==void 0:bD.call(e,n)}var fg=vD;var xD="__lodash_hash_undefined__";function yD(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=rn&&e===void 0?xD:e,this}var gg=yD;function Ko(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Ko.prototype.clear=mg;Ko.prototype.delete=pg;Ko.prototype.get=ug;Ko.prototype.has=fg;Ko.prototype.set=gg;var Md=Ko;function kD(){this.__data__=[],this.size=0}var _g=kD;function wD(n,e){for(var t=n.length;t--;)if(An(n[t][0],e))return t;return-1}var Rn=wD;var CD=Array.prototype,SD=CD.splice;function MD(n){var e=this.__data__,t=Rn(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():SD.call(e,t,1),--this.size,!0}var bg=MD;function DD(n){var e=this.__data__,t=Rn(e,n);return t<0?void 0:e[t][1]}var vg=DD;function ID(n){return Rn(this.__data__,n)>-1}var xg=ID;function PD(n,e){var t=this.__data__,i=Rn(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var yg=PD;function Zo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Zo.prototype.clear=_g;Zo.prototype.delete=bg;Zo.prototype.get=vg;Zo.prototype.has=xg;Zo.prototype.set=yg;var Ln=Zo;var TD=Go(di,"Map"),tl=TD;function ED(){this.size=0,this.__data__={hash:new Md,map:new(tl||Ln),string:new Md}}var kg=ED;function OD(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var wg=OD;function AD(n,e){var t=n.__data__;return wg(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Fn=AD;function RD(n){var e=Fn(this,n).delete(n);return this.size-=e?1:0,e}var Cg=RD;function LD(n){return Fn(this,n).get(n)}var Sg=LD;function FD(n){return Fn(this,n).has(n)}var Mg=FD;function jD(n,e){var t=Fn(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var Dg=jD;function Qo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Qo.prototype.clear=kg;Qo.prototype.delete=Cg;Qo.prototype.get=Sg;Qo.prototype.has=Mg;Qo.prototype.set=Dg;var Ig=Qo;var ND=cg(Object.getPrototypeOf,Object),el=ND;var zD="[object Object]",BD=Function.prototype,VD=Object.prototype,Pg=BD.toString,HD=VD.hasOwnProperty,WD=Pg.call(Object);function YD(n){if(!zi(n)||On(n)!=zD)return!1;var e=el(n);if(e===null)return!0;var t=HD.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Pg.call(t)==WD}var Tg=YD;function UD(){this.__data__=new Ln,this.size=0}var Eg=UD;function GD(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var Og=GD;function $D(n){return this.__data__.get(n)}var Ag=$D;function qD(n){return this.__data__.has(n)}var Rg=qD;var XD=200;function KD(n,e){var t=this.__data__;if(t instanceof Ln){var i=t.__data__;if(!tl||i.length<XD-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Ig(i)}return t.set(n,e),this.size=t.size,this}var Lg=KD;function Jo(n){var e=this.__data__=new Ln(n);this.size=e.size}Jo.prototype.clear=Eg;Jo.prototype.delete=Og;Jo.prototype.get=Ag;Jo.prototype.has=Rg;Jo.prototype.set=Lg;var Fg=Jo;var Bg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jg=Bg&&typeof module=="object"&&module&&!module.nodeType&&module,ZD=jg&&jg.exports===Bg,Ng=ZD?di.Buffer:void 0,zg=Ng?Ng.allocUnsafe:void 0;function QD(n,e){if(e)return n.slice();var t=n.length,i=zg?zg(t):new n.constructor(t);return n.copy(i),i}var Vg=QD;var JD=di.Uint8Array,Dd=JD;function tI(n){var e=new n.constructor(n.byteLength);return new Dd(e).set(new Dd(n)),e}var Hg=tI;function eI(n,e){var t=e?Hg(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Wg=eI;function iI(n){return typeof n.constructor=="function"&&!Ks(n)?Nf(el(n)):{}}var Yg=iI;function nI(n){return function(e,t,i){for(var o=-1,a=Object(e),r=i(e),s=r.length;s--;){var c=r[n?s:++o];if(t(a[c],c,a)===!1)break}return e}}var Ug=nI;var oI=Ug(),Gg=oI;function aI(n,e,t){(t!==void 0&&!An(n[e],t)||t===void 0&&!(e in n))&&qo(n,e,t)}var tr=aI;function rI(n){return zi(n)&&Xo(n)}var $g=rI;function sI(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var er=sI;function lI(n){return Gf(n,Js(n))}var qg=lI;function cI(n,e,t,i,o,a,r){var s=er(n,t),c=er(e,t),h=r.get(c);if(h){tr(n,t,h);return}var p=a?a(s,c,t+"",n,e,r):void 0,f=p===void 0;if(f){var v=Za(c),k=!v&&Zs(c),x=!v&&!k&&Qs(c);p=c,v||k||x?Za(s)?p=s:$g(s)?p=Bf(s):k?(f=!1,p=Vg(c,!0)):x?(f=!1,p=Wg(c,!0)):p=[]:Tg(c)||Qa(c)?(p=s,Qa(s)?p=qg(s):(!We(s)||Uo(s))&&(p=Yg(c))):f=!1}f&&(r.set(c,p),o(p,c,i,a,r),r.delete(c)),tr(n,t,p)}var Xg=cI;function Kg(n,e,t,i,o){n!==e&&Gg(e,function(a,r){if(o||(o=new Fg),We(a))Xg(n,e,r,t,Kg,i,o);else{var s=i?i(er(n,r),a,r+"",n,e,o):void 0;s===void 0&&(s=a),tr(n,r,s)}},Js)}var Zg=Kg;var dI=Zf(function(n,e,t){Zg(n,e,t)}),il=dI;var hI=(()=>{class n{constructor(){this.colorschemesOptions=new Cr(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nl=(()=>{class n{constructor(t,i,o){this.zone=i,this.themeService=o,this.type="bar",this.plugins=[],this.chartClick=new ht,this.chartHover=new ht,this.subs=[],this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Dr()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(t){let i=["type"],o=Object.getOwnPropertyNames(t);if(o.some(a=>i.includes(a))||o.every(a=>t[a].isFirstChange()))this.render();else{let a=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,a.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,a.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,a.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),an.register(...this.plugins),this.zone.runOutsideAngular(()=>this.chart=new an(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,i){this.chart&&(this.chart.getDatasetMeta(t).hidden=i,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return il({onHover:(t,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:i}))},onClick:(t,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(t){return new(t||n)(P(oe),P(Ie),P(hI))},n.\u0275dir=Vt({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[fi]}),n})(),mI=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],pI={datasets:{line:{backgroundColor:n=>Oe(Ae(n.datasetIndex),.4),borderColor:n=>Oe(Ae(n.datasetIndex),1),pointBackgroundColor:n=>Oe(Ae(n.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n=>Oe(Ae(n.datasetIndex),.8)},bar:{backgroundColor:n=>Oe(Ae(n.datasetIndex),.6),borderColor:n=>Oe(Ae(n.datasetIndex),1),hoverBackgroundColor:n=>Oe(Ae(n.datasetIndex),.8),hoverBorderColor:n=>Oe(Ae(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Oe(Ae(n.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:n=>Oe(Ae(n.dataIndex),1),hoverBorderColor:n=>Oe(Ae(n.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Oe(Ae(n.dataIndex),.6),borderColor:n=>Oe(Ae(n.dataIndex),1),hoverBackgroundColor:n=>Oe(Ae(n.dataIndex),.8),hoverBorderColor:n=>Oe(Ae(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Oe(n,e){return"rgba("+n.concat(e).join(",")+")"}function Id(n,e){return Math.floor(Math.random()*(e-n+1))+n}function uI(){return[Id(0,255),Id(0,255),Id(0,255)]}function Ae(n=0){return mI[n]||uI()}var Qg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();an.register(...Df);var Jg=(()=>{class n{constructor(t){t?.plugins&&an.register(...t?.plugins);let i=il(pI,t?.defaults||{});ot.set(i)}static forRoot(t){return{ngModule:n,providers:[{provide:Qg,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(le(Qg,8))},n.\u0275mod=Nt({type:n}),n.\u0275inj=jt({imports:[[]]}),n})();function gI(n,e){n&1&&(g(0,"mat-error"),y(1," Username is required "),_())}function _I(n,e){if(n&1&&(g(0,"div",10),y(1),_()),n&2){let t=A();w(),J(t.errorMessage)}}var ol=class n{constructor(e,t,i){this.dialogRef=e;this.fb=t;this.userService=i;this.form=this.fb.group({username:["",[Bm.required]]})}form;errorMessage="";isLoading=!1;ngOnInit(){this.form.get("username")?.valueChanges.subscribe(()=>{this.errorMessage=""})}onSubmit(){if(this.form.valid){this.isLoading=!0;let e=this.form.get("username")?.value;this.userService.checkUserExists(e).subscribe(t=>{this.isLoading=!1,t?this.dialogRef.close(e):this.errorMessage="User does not exist"},t=>{this.isLoading=!1,this.errorMessage="Error checking user existence"})}}onCancel(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||n)(P(Pi),P(Wm),P($m))};static \u0275cmp=Z({type:n,selectors:[["app-add-member-dialog"]],standalone:!0,features:[Q],decls:15,vars:4,consts:[[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","username","placeholder","Enter username"],[4,"ngIf"],["class","text-red-500 text-sm mt-2",4,"ngIf"],[1,"flex","justify-end","space-x-2","mt-6"],["mat-button","",1,"text-gray-600","hover:bg-gray-100",3,"click"],["mat-raised-button","","color","primary",1,"bg-blue-500","text-white","hover:bg-blue-600",3,"click","disabled"],[1,"text-red-500","text-sm","mt-2"]],template:function(t,i){if(t&1&&(g(0,"div",0)(1,"h2",1),y(2,"Add Member to Project"),_(),g(3,"form",2),N("ngSubmit",function(){return i.onSubmit()}),g(4,"mat-form-field",3)(5,"mat-label"),y(6,"Username"),_(),Y(7,"input",4),V(8,gI,2,0,"mat-error",5),_(),V(9,_I,2,1,"div",6),_(),g(10,"div",7)(11,"button",8),N("click",function(){return i.onCancel()}),y(12," Cancel "),_(),g(13,"button",9),N("click",function(){return i.onSubmit()}),y(14," Add Member "),_()()()),t&2){let o;w(3),D("formGroup",i.form),w(5),D("ngIf",(o=i.form.get("username"))==null?null:o.hasError("required")),w(),D("ngIf",i.errorMessage),w(4),D("disabled",!i.form.valid)}},dependencies:[ct,_t,Xr,Ii,ye,ke,Di,$r,qr,ri,Ce,we,Ne,Ym,ze,si,Lt,ae,fm,re]})};var bI=["input"],vI=["label"],xI=["*"],yI=new Mt("mat-checkbox-default-options",{providedIn:"root",factory:e0});function e0(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Me=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(Me||{}),kI={provide:Nm,useExisting:Zl(()=>al),multi:!0},Pd=class{},wI=0,t0=e0(),al=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){let i=new Pd;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,o,a,r,s){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=o,this._animationMode=r,this._options=s,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new ht,this.indeterminateChange=new ht,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Me.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||t0,this.color=this._options.color||t0.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++wI}`,this.disabledInteractive=s?.disabledInteractive??!1}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){let i=t!=this._indeterminate;this._indeterminate=t,i&&(this._indeterminate?this._transitionCheckState(Me.Indeterminate):this._transitionCheckState(this.checked?Me.Checked:Me.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let i=this._currentCheckState,o=this._getAnimationTargetElement();if(!(i===t||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let t=this._options?.clickAction;!this.disabled&&t!=="noop"?(this.indeterminate&&t!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Me.Checked:Me.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&t==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if(this._animationMode==="NoopAnimations")return"";switch(t){case Me.Init:if(i===Me.Checked)return this._animationClasses.uncheckedToChecked;if(i==Me.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Me.Unchecked:return i===Me.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Me.Checked:return i===Me.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Me.Indeterminate:return i===Me.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){let i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static{this.\u0275fac=function(i){return new(i||n)(P(oe),P(ee),P(Ie),ga("tabindex"),P(ei,8),P(yI,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,o){if(i&1&&(qe(bI,5),qe(vI,5),qe(sc,5)),i&2){let a;_e(a=be())&&(o._inputElement=a.first),_e(a=be())&&(o._labelElement=a.first),_e(a=be())&&(o.ripple=a.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,o){i&2&&(ic("id",o.id),Pe("tabindex",null)("aria-label",null)("aria-labelledby",null),yi(o.color?"mat-"+o.color:"mat-accent"),ft("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked)("mat-mdc-checkbox-disabled-interactive",o.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",St],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",St],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?void 0:ii(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",St],checked:[2,"checked","checked",St],disabled:[2,"disabled","disabled",St],indeterminate:[2,"indeterminate","indeterminate",St]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Xt([kI,{provide:zm,useExisting:n,multi:!0}]),ce,fi,Q],ngContentSelectors:xI,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,o){if(i&1){let a=K();ki(),g(0,"div",3),N("click",function(s){return F(a),j(o._preventBubblingFromLabel(s))}),g(1,"div",4,0)(3,"div",5),N("click",function(){return F(a),j(o._onTouchTargetClick())}),_(),g(4,"input",6,1),N("blur",function(){return F(a),j(o._onBlur())})("click",function(){return F(a),j(o._onInputClick())})("change",function(s){return F(a),j(o._onInteractionEvent(s))}),_(),Y(6,"div",7),g(7,"div",8),xi(),g(8,"svg",9),Y(9,"path",10),_(),Tr(),Y(10,"div",11),_(),Y(11,"div",12),_(),g(12,"label",13,2),ge(14),_()()}if(i&2){let a=qt(2);D("labelPosition",o.labelPosition),w(4),ft("mdc-checkbox--selected",o.checked),D("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled&&!o.disabledInteractive)("id",o.inputId)("required",o.required)("tabIndex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex),Pe("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("aria-disabled",o.disabled&&o.disabledInteractive?!0:null)("name",o.name)("value",o.value),w(7),D("matRippleTrigger",a)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),w(),D("for",o.inputId)}},dependencies:[sc,Pm],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();var i0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({imports:[al,Kt,Kt]})}}return n})();function MI(n,e){if(n&1&&(g(0,"mat-option",34),y(1),_()),n&2){let t=e.$implicit;D("value",t._id),w(),U(" ",t.username," ")}}function DI(n,e){if(n&1){let t=K();g(0,"mat-form-field",4)(1,"mat-label"),y(2,"Assigned Members"),_(),g(3,"mat-select",32),Ct("ngModelChange",function(o){F(t);let a=A();return wt(a.task.assignedTo,o)||(a.task.assignedTo=o),j(o)}),V(4,MI,2,2,"mat-option",33),_(),g(5,"mat-icon",6),y(6,"group"),_()()}if(n&2){let t=A();w(3),kt("ngModel",t.task.assignedTo),w(),D("ngForOf",t.data.members)}}var rl=class n{constructor(e,t,i){this.dialogRef=e;this.data=t;this.authService=i}task={title:"",description:"",type:"task",status:"Not Started",priority:"none",timeline:{start:null,end:null},assignedTo:[]};assignToMe=!1;onAssignToMeChange(){this.assignToMe?this.task.assignedTo=[this.authService.getCurrentUserId()]:this.task.assignedTo=[]}onCancel(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.task)}static \u0275fac=function(t){return new(t||n)(P(Pi),P(_n),P(Zt))};static \u0275cmp=Z({type:n,selectors:[["app-create-task-dialog"]],standalone:!0,features:[Xt([Mm()]),Q],decls:79,vars:12,consts:[["picker",""],[1,"edit-task-dialog","bg-white","p-6","rounded-lg","shadow-md","max-w-2xl","w-full"],["mat-dialog-title","",1,"text-2xl","font-semibold","text-indigo-700","mb-6","text-center"],["mat-dialog-content","",1,"space-y-4"],["appearance","fill",1,"w-full"],["matInput","","placeholder","Enter task title","required","",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","rows","3","placeholder","Enter task description",3,"ngModelChange","ngModel"],[1,"flex","space-x-4"],["appearance","fill",1,"w-1/2"],[3,"ngModelChange","ngModel"],["value","task"],["value","bug"],["value","Not Started"],["value","In Progress"],["value","Stuck"],["value","Done"],["value","none"],["value","low"],["value","medium"],["value","high"],["value","critical"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",3,"ngModelChange","ngModel"],["matEndDate","","placeholder","End date",3,"ngModelChange","ngModel"],["matSuffix","",3,"for"],[1,"flex","items-center","mb-4"],["color","primary",3,"ngModelChange","change","ngModel"],["appearance","fill","class","w-full",4,"ngIf"],["mat-dialog-actions","",1,"flex","justify-end","space-x-3","mt-6"],["mat-stroked-button","","color","warn",1,"px-4","py-2",3,"click"],["mat-raised-button","","color","primary",1,"px-4","py-2",3,"click","disabled"],["multiple","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){if(t&1){let o=K();g(0,"div",1)(1,"h1",2),y(2," Create New Task "),_(),g(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),y(6,"Title"),_(),g(7,"input",5),Ct("ngModelChange",function(r){return F(o),wt(i.task.title,r)||(i.task.title=r),j(r)}),_(),g(8,"mat-icon",6),y(9,"title"),_()(),g(10,"mat-form-field",4)(11,"mat-label"),y(12,"Description"),_(),g(13,"textarea",7),Ct("ngModelChange",function(r){return F(o),wt(i.task.description,r)||(i.task.description=r),j(r)}),_(),g(14,"mat-icon",6),y(15,"description"),_()(),g(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),y(19,"Type"),_(),g(20,"mat-select",10),Ct("ngModelChange",function(r){return F(o),wt(i.task.type,r)||(i.task.type=r),j(r)}),g(21,"mat-option",11),y(22,"Task"),_(),g(23,"mat-option",12),y(24,"Bug"),_()(),g(25,"mat-icon",6),y(26,"category"),_()(),g(27,"mat-form-field",9)(28,"mat-label"),y(29,"Status"),_(),g(30,"mat-select",10),Ct("ngModelChange",function(r){return F(o),wt(i.task.status,r)||(i.task.status=r),j(r)}),g(31,"mat-option",13),y(32,"Not Started"),_(),g(33,"mat-option",14),y(34,"In Progress"),_(),g(35,"mat-option",15),y(36,"Stuck"),_(),g(37,"mat-option",16),y(38,"Done"),_()(),g(39,"mat-icon",6),y(40,"flag"),_()()(),g(41,"mat-form-field",4)(42,"mat-label"),y(43,"Priority"),_(),g(44,"mat-select",10),Ct("ngModelChange",function(r){return F(o),wt(i.task.priority,r)||(i.task.priority=r),j(r)}),g(45,"mat-option",17),y(46,"None"),_(),g(47,"mat-option",18),y(48,"Low"),_(),g(49,"mat-option",19),y(50,"Medium"),_(),g(51,"mat-option",20),y(52,"High"),_(),g(53,"mat-option",21),y(54,"Critical"),_()(),g(55,"mat-icon",6),y(56,"priority_high"),_()(),g(57,"mat-form-field",4)(58,"mat-label"),y(59,"Timeline"),_(),g(60,"mat-date-range-input",22)(61,"input",23),Ct("ngModelChange",function(r){return F(o),wt(i.task.timeline.start,r)||(i.task.timeline.start=r),j(r)}),_(),g(62,"input",24),Ct("ngModelChange",function(r){return F(o),wt(i.task.timeline.end,r)||(i.task.timeline.end=r),j(r)}),_()(),Y(63,"mat-datepicker-toggle",25)(64,"mat-date-range-picker",null,0),_(),g(66,"div",26)(67,"mat-checkbox",27),Ct("ngModelChange",function(r){return F(o),wt(i.assignToMe,r)||(i.assignToMe=r),j(r)}),N("change",function(){return F(o),j(i.onAssignToMeChange())}),y(68," Assign to me "),_()(),V(69,DI,7,2,"mat-form-field",28),_(),g(70,"div",29)(71,"button",30),N("click",function(){return F(o),j(i.onCancel())}),g(72,"mat-icon"),y(73,"cancel"),_(),y(74," Cancel "),_(),g(75,"button",31),N("click",function(){return F(o),j(i.onSave())}),g(76,"mat-icon"),y(77,"save"),_(),y(78," Save "),_()()()}if(t&2){let o=qt(65);w(7),kt("ngModel",i.task.title),w(6),kt("ngModel",i.task.description),w(7),kt("ngModel",i.task.type),w(10),kt("ngModel",i.task.status),w(14),kt("ngModel",i.task.priority),w(16),D("rangePicker",o),w(),kt("ngModel",i.task.timeline.start),w(),kt("ngModel",i.task.timeline.end),w(),D("for",o),w(4),kt("ngModel",i.assignToMe),w(2),D("ngIf",!i.assignToMe),w(6),D("disabled",!i.task.title)}},dependencies:[ct,Ht,_t,se,ye,ke,wo,ai,ri,Kr,Qr,Zr,Lt,ae,Ce,we,Ne,So,ze,si,Ei,Ti,Si,i0,al,ts,Jr,Qm,Km,Zm,Jm,Wr,Ut,Yt],styles:[".mat-form-field-appearance-fill .mat-form-field-flex{background-color:#f0f4ff;border-radius:8px;padding:.75em .75em 0}  .mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-label{color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{background-color:#e8eeff}  .mat-select-value-text{color:#3f51b5}  .mat-select-arrow{color:#3f51b5}  .mat-option{color:#3f51b5}  .mat-option:hover:not(.mat-option-disabled){background:#e8eeff}  .mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:#3f51b5;color:#fff}  .mat-calendar-body-selected{background-color:#3f51b5}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}button.mat-stroked-button.mat-warn[_ngcontent-%COMP%]{color:#f44336;border-color:#f44336}  .mat-checkbox-checked.mat-primary .mat-checkbox-background{background-color:#3f51b5}"]})};function v0(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return i==="canvas"?a0(n,e):(i==="input"||i==="select"||i==="textarea")&&o0(n,e),n0("canvas",n,e,a0),n0("input, textarea, select",n,e,o0),e}function n0(n,e,t,i){let o=e.querySelectorAll(n);if(o.length){let a=t.querySelectorAll(n);for(let r=0;r<o.length;r++)i(o[r],a[r])}}var II=0;function o0(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${II++}`)}function a0(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function Nd(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Ad(n,e,t){let{top:i,bottom:o,left:a,right:r}=n;return t>=i&&t<=o&&e>=a&&e<=r}function or(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function r0(n,e,t,i){let{top:o,right:a,bottom:r,left:s,width:c,height:h}=n,p=c*e,f=h*e;return i>o-f&&i<r+f&&t>s-p&&t<a+p}var dl=class{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Nd(t)})})}handleScroll(e){let t=ya(e),i=this.positions.get(t);if(!i)return null;let o=i.scrollPosition,a,r;if(t===this._document){let h=this.getViewportScrollPosition();a=h.top,r=h.left}else a=t.scrollTop,r=t.scrollLeft;let s=o.top-a,c=o.left-r;return this.positions.forEach((h,p)=>{h.clientRect&&t!==p&&t.contains(p)&&or(h.clientRect,s,c)}),o.top=a,o.left=r,{top:s,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function x0(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let i=e.createElement("div");return t.forEach(o=>i.appendChild(o)),i}function zd(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){let o=e[i];o?n.setProperty(i,o,t?.has(i)?"important":""):n.removeProperty(i)}return n}function ea(n,e){let t=e?"":"none";zd(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function s0(n,e,t){zd(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function hl(n,e){return e&&e!="none"?n+" "+e:n}function l0(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=ml(e.left,e.top)}function ml(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function c0(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function PI(n){let e=getComputedStyle(n),t=Od(e,"transition-property"),i=t.find(s=>s==="transform"||s==="all");if(!i)return 0;let o=t.indexOf(i),a=Od(e,"transition-duration"),r=Od(e,"transition-delay");return c0(a[o])+c0(r[o])}function Od(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}var TI=new Set(["position"]),Rd=class{get element(){return this._preview}constructor(e,t,i,o,a,r,s,c,h){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=o,this._previewTemplate=a,this._previewClass=r,this._pickupPositionOnPage=s,this._initialTransform=c,this._zIndex=h}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),d0(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return PI(this._preview)}addEventListener(e,t){this._preview.addEventListener(e,t)}removeEventListener(e,t){this._preview.removeEventListener(e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,i=e?e.template:null,o;if(i&&e){let a=e.matchSize?this._initialDomRect:null,r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),o=x0(r,this._document),this._previewEmbeddedView=r,e.matchSize?l0(o,a):o.style.transform=ml(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=v0(this._rootElement),l0(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return zd(o.style,{"pointer-events":"none",margin:d0(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},TI),ea(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>o.classList.add(a)):o.classList.add(t)),o}};function d0(n){return"showPopover"in n}var h0=Wn({passive:!0}),sl=Wn({passive:!1}),m0=Wn({passive:!1,capture:!0}),EI=800,p0=new Set(["position"]),Ld=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ea(t,e)))}constructor(e,t,i,o,a,r){this._config=t,this._document=i,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=ec(!1),this._moveEvents=new pt,this._pointerMoveSubscription=vi.EMPTY,this._pointerUpSubscription=vi.EMPTY,this._scrollSubscription=vi.EMPTY,this._resizeSubscription=vi.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new pt,this.started=new pt,this.released=new pt,this.ended=new pt,this.entered=new pt,this.exited=new pt,this.dropped=new pt,this.moved=this._moveEvents,this._pointerDown=s=>{if(this.beforeStarted.next(),this._handles.length){let c=this._getTargetHandle(s);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,s)}else this.disabled||this._initializeDragSequence(this._rootElement,s)},this._pointerMove=s=>{let c=this._getPointerPositionOnPage(s);if(!this._hasStartedDragging()){let p=Math.abs(c.x-this._pickupPositionOnPage.x),f=Math.abs(c.y-this._pickupPositionOnPage.y);if(p+f>=this._config.dragStartThreshold){let k=Date.now()>=this._dragStartTime+this._getDragStartDelay(s),x=this._dropContainer;if(!k){this._endDragSequence(s);return}(!x||!x.isDragging()&&!x.isReceiving())&&(s.cancelable&&s.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(s)))}return}s.cancelable&&s.preventDefault();let h=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,c);else{let p=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,f=this._activeTransform;f.x=h.x-p.x+this._passiveTransform.x,f.y=h.y-p.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:s,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=s=>{this._endDragSequence(s)},this._nativeDragStart=s=>{if(this._handles.length){let c=this._getTargetHandle(s);c&&!this._disabledHandles.has(c)&&!this.disabled&&s.preventDefault()}else this.disabled||s.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new dl(i),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>pn(i)),this._handles.forEach(i=>ea(i,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=pn(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,sl),t.addEventListener("touchstart",this._pointerDown,h0),t.addEventListener("dragstart",this._nativeDragStart,sl)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?pn(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),ea(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),ea(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",f0,m0)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){nr(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",f0,m0)}),i){let o=this._rootElement,a=o.parentNode,r=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(s,o),this._initialTransform=o.style.transform||"",this._preview=new Rd(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(a,t)),s0(o,!1,p0),this._document.body.appendChild(a.replaceChild(r,o)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let i=this.isDragging(),o=nr(t),a=!o&&t.button!==0,r=this._rootElement,s=ya(t),c=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+EI>Date.now(),h=o?Sm(t):Cm(t);if(s&&s.draggable&&t.type==="mousedown"&&t.preventDefault(),i||a||c||h)return;if(this._handles.length){let v=r.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=Nd(this._boundaryElement));let p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){s0(this._rootElement,!0,p0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,i=t.getItemIndex(this),o=this._getPointerPositionOnPage(e),a=this._getDragDistance(o),r=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:a,dropPoint:o,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,r,a,o,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,e,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let o=r=>{(!r||this._preview&&ya(r)===this._preview.element&&r.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",o),i(),clearTimeout(a))},a=setTimeout(o,t*1.5);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=x0(this._placeholderRef,this._document)):i=v0(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){let o=t===this._rootElement?null:t,a=o?o.getBoundingClientRect():e,r=nr(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),c=r.pageX-a.left-s.left,h=r.pageY-a.top-s.top;return{x:a.left-e.left+c,y:a.top-e.top+h}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),i=nr(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,o=i.pageX-t.left,a=i.pageY-t.top;if(this._ownerSVGElement){let r=this._ownerSVGElement.getScreenCTM();if(r){let s=this._ownerSVGElement.createSVGPoint();return s.x=o,s.y=a,s.matrixTransform(r.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:o}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:a,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:c,height:h}=this._getPreviewRect(),p=s.top+r,f=s.bottom-(h-r),v=s.left+a,k=s.right-(c-a);i=u0(i,v,k),o=u0(o,p,f)}return{x:i,y:o}}_updatePointerDirectionDelta(e){let{x:t,y:i}=e,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-a.x),s=Math.abs(i-a.y);return r>this._config.pointerDirectionChangeThreshold&&(o.x=t>a.x?1:-1,a.x=t),s>this._config.pointerDirectionChangeThreshold&&(o.y=i>a.y?1:-1,a.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,ea(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,sl),e.removeEventListener("touchstart",this._pointerDown,h0),e.removeEventListener("dragstart",this._nativeDragStart,sl)}_applyRootElementTransform(e,t){let i=1/this.scale,o=ml(e*i,t*i),a=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=a.transform&&a.transform!="none"?a.transform:""),a.transform=hl(o,this._initialTransform)}_applyPreviewTransform(e,t){let i=this._previewTemplate?.template?void 0:this._initialTransform,o=ml(e,t);this._preview.setTransform(hl(o,i))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||i.width===0&&i.height===0)return;let a=o.left-i.left,r=i.right-o.right,s=o.top-i.top,c=i.bottom-o.bottom;o.width>i.width?(a>0&&(e+=a),r>0&&(e-=r)):e=0,o.height>i.height?(s>0&&(t+=s),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:nr(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let i=ya(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&or(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Nr(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return pn(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function u0(n,e,t){return Math.max(e,Math.min(t,n))}function nr(n){return n.type[0]==="t"}function f0(n){n.preventDefault()}function fl(n,e,t){let i=pl(e,n.length-1),o=pl(t,n.length-1);if(i===o)return;let a=n[i],r=o<i?-1:1;for(let s=i;s!==o;s+=r)n[s]=n[s+r];n[o]=a}function y0(n,e,t,i){let o=pl(t,n.length-1),a=pl(i,e.length);n.length&&e.splice(a,0,n.splice(o,1)[0])}function pl(n,e){return Math.max(0,Math.min(e,n))}var ul=class{constructor(e){this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,o){let a=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,t,i,o);if(r===-1&&a.length>0)return null;let s=this.orientation==="horizontal",c=a.findIndex(M=>M.drag===e),h=a[r],p=a[c].clientRect,f=h.clientRect,v=c>r?1:-1,k=this._getItemOffsetPx(p,f,v),x=this._getSiblingOffsetPx(c,a,v),C=a.slice();return fl(a,c,r),a.forEach((M,I)=>{if(C[I]===M)return;let E=M.drag===e,L=E?k:x,R=E?e.getPlaceholderElement():M.drag.getRootElement();M.offset+=L;let O=Math.round(M.offset*(1/M.drag.scale));s?(R.style.transform=hl(`translate3d(${O}px, 0, 0)`,M.initialTransform),or(M.clientRect,0,L)):(R.style.transform=hl(`translate3d(0, ${O}px, 0)`,M.initialTransform),or(M.clientRect,L,0))}),this._previousSwap.overlaps=Ad(f,t,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=s?o.x:o.y,{previousIndex:c,currentIndex:r}}enter(e,t,i,o){let a=o==null||o<0?this._getItemIndexFromPointerPosition(e,t,i):o,r=this._activeDraggables,s=r.indexOf(e),c=e.getPlaceholderElement(),h=r[a];if(h===e&&(h=r[a+1]),!h&&(a==null||a===-1||a<r.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(h=r[0]),s>-1&&r.splice(s,1),h&&!this._dragDropRegistry.isDragging(h)){let p=h.getRootElement();p.parentElement.insertBefore(c,p),r.splice(a,0,e)}else this._element.appendChild(c),r.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let i=this._itemPositions.find(o=>o.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{or(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:Nd(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){let o=this.orientation==="horizontal",a=o?t.left-e.left:t.top-e.top;return i===-1&&(a+=o?t.width-e.width:t.height-e.height),a}_getSiblingOffsetPx(e,t,i){let o=this.orientation==="horizontal",a=t[e].clientRect,r=t[e+i*-1],s=a[o?"width":"height"]*i;if(r){let c=o?"left":"top",h=o?"right":"bottom";i===-1?s-=r.clientRect[c]-a[h]:s+=a[c]-r.clientRect[h]}return s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,o=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let r=i[i.length-1].clientRect;return o?e>=r.right:t>=r.bottom}else{let r=i[0].clientRect;return o?e<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(e,t,i,o){let a=this.orientation==="horizontal",r=this._itemPositions.findIndex(({drag:s,clientRect:c})=>{if(s===e)return!1;if(o){let h=a?o.x:o.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return a?t>=Math.floor(c.left)&&t<Math.floor(c.right):i>=Math.floor(c.top)&&i<Math.floor(c.bottom)});return r===-1||!this._sortPredicate(r,e)?-1:r}},Fd=class{constructor(e,t){this._document=e,this._dragDropRegistry=t,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){let o=t[i];this._relatedNodes.push([o,o.nextSibling])}this.withItems(e)}sort(e,t,i,o){let a=this._getItemIndexFromPointerPosition(e,t,i),r=this._previousSwap;if(a===-1||this._activeItems[a]===e)return null;let s=this._activeItems[a];if(r.drag===s&&r.overlaps&&r.deltaX===o.x&&r.deltaY===o.y)return null;let c=this.getItemIndex(e),h=e.getPlaceholderElement(),p=s.getRootElement();a>c?p.after(h):p.before(h),fl(this._activeItems,c,a);let f=this._getRootNode().elementFromPoint(t,i);return r.deltaX=o.x,r.deltaY=o.y,r.drag=s,r.overlaps=p===f||p.contains(f),{previousIndex:c,currentIndex:a}}enter(e,t,i,o){let a=o==null||o<0?this._getItemIndexFromPointerPosition(e,t,i):o;a===-1&&(a=this._getClosestItemIndexToPointer(e,t,i));let r=this._activeItems[a],s=this._activeItems.indexOf(e);s>-1&&this._activeItems.splice(s,1),r&&!this._dragDropRegistry.isDragging(r)?(this._activeItems.splice(a,0,e),r.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[o,a]=this._relatedNodes[i];o.parentNode===e&&o.nextSibling!==a&&(a===null?e.appendChild(o):a.parentNode===e&&e.insertBefore(o,a))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){let o=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),a=o?this._activeItems.findIndex(r=>{let s=r.getRootElement();return o===s||s.contains(o)}):-1;return a===-1||!this._sortPredicate(a,e)?-1:a}_getRootNode(){return this._rootNode||(this._rootNode=Nr(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let o=1/0,a=-1;for(let r=0;r<this._activeItems.length;r++){let s=this._activeItems[r];if(s!==e){let{x:c,y:h}=s.getRootElement().getBoundingClientRect(),p=Math.hypot(t-c,i-h);p<o&&(o=p,a=r)}}return a}},g0=.05,k0=.05,hi=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(hi||{}),Re=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(Re||{}),jd=class{constructor(e,t,i,o,a){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new pt,this.entered=new pt,this.exited=new pt,this.dropped=new pt,this.sorted=new pt,this.receivingStarted=new pt,this.receivingStopped=new pt,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=vi.EMPTY,this._verticalScrollDirection=hi.NONE,this._horizontalScrollDirection=Re.NONE,this._stopScrollTimers=new pt,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),Sr(0,Bh).pipe(Ge(this._stopScrollTimers)).subscribe(()=>{let s=this._scrollNode,c=this.autoScrollStep;this._verticalScrollDirection===hi.UP?s.scrollBy(0,-c):this._verticalScrollDirection===hi.DOWN&&s.scrollBy(0,c),this._horizontalScrollDirection===Re.LEFT?s.scrollBy(-c,0):this._horizontalScrollDirection===Re.RIGHT&&s.scrollBy(c,0)})};let r=this.element=pn(e);this._document=i,this.withOrientation("vertical").withElementContainer(r),t.registerDropContainer(this),this._parentPositions=new dl(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,o,a,r,s,c={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:a,distance:r,dropPoint:s,event:c})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>e.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof ul&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new Fd(this._document,this._dragDropRegistry);else{let t=new ul(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=pn(this.element),i=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,o){if(this.sortingDisabled||!this._domRect||!r0(this._domRect,g0,t,i))return;let a=this._sortStrategy.sort(e,t,i,o);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,o=hi.NONE,a=Re.NONE;if(this._parentPositions.positions.forEach((r,s)=>{s===this._document||!r.clientRect||i||r0(r.clientRect,g0,e,t)&&([o,a]=OI(s,r.clientRect,this._direction,e,t),(o||a)&&(i=s))}),!o&&!a){let{width:r,height:s}=this._viewportRuler.getViewportSize(),c={width:r,height:s,top:0,right:r,bottom:s,left:0};o=w0(c,t),a=C0(c,e),i=window}i&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=i,(o||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return this._domRect!=null&&Ad(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(o=>o._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!Ad(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;let o=this._getShadowRoot().elementFromPoint(t,i);return o?o===this._container||this._container.contains(o):!1}_startReceiving(e,t){let i=this._activeSiblings;!i.has(e)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Nr(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function w0(n,e){let{top:t,bottom:i,height:o}=n,a=o*k0;return e>=t-a&&e<=t+a?hi.UP:e>=i-a&&e<=i+a?hi.DOWN:hi.NONE}function C0(n,e){let{left:t,right:i,width:o}=n,a=o*k0;return e>=t-a&&e<=t+a?Re.LEFT:e>=i-a&&e<=i+a?Re.RIGHT:Re.NONE}function OI(n,e,t,i,o){let a=w0(e,o),r=C0(e,i),s=hi.NONE,c=Re.NONE;if(a){let h=n.scrollTop;a===hi.UP?h>0&&(s=hi.UP):n.scrollHeight-h>n.clientHeight&&(s=hi.DOWN)}if(r){let h=n.scrollLeft;t==="rtl"?r===Re.RIGHT?h<0&&(c=Re.RIGHT):n.scrollWidth+h>n.clientWidth&&(c=Re.LEFT):r===Re.LEFT?h>0&&(c=Re.LEFT):n.scrollWidth-h>n.clientWidth&&(c=Re.RIGHT)}return[s,c]}var ll=Wn({passive:!1,capture:!0}),cl=new Set,AI=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[Q],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}}return n})(),RI=(()=>{class n{constructor(t,i){this._ngZone=t,this._appRef=fe(Lr),this._environmentInjector=fe(Pr),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=ec([]),this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new pt,this.pointerUp=new pt,this.scroll=new pt,this._preventDefaultWhileDragging=o=>{this._activeDragInstances().length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ll)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ll)}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._loadResets(),this._activeDragInstances.update(o=>[...o,t]),this._activeDragInstances().length===1)){let o=i.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ll}),o||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:ll}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,r)=>{this._document.addEventListener(r,a.handler,a.options)})})}}stopDragging(t){this._activeDragInstances.update(i=>{let o=i.indexOf(t);return o>-1?(i.splice(o,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this.scroll];return t&&t!==this._document&&i.push(new Kl(o=>this._ngZone.runOutsideAngular(()=>{let r=s=>{this._activeDragInstances().length&&o.next(s)};return t.addEventListener("scroll",r,!0),()=>{t.removeEventListener("scroll",r,!0)}}))),co(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}_loadResets(){if(!cl.has(this._appRef)){cl.add(this._appRef);let t=Fr(AI,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{cl.delete(this._appRef),cl.size===0&&t.destroy()})}}static{this.\u0275fac=function(i){return new(i||n)(le(Ie),le(ni))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LI={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Bd=(()=>{class n{constructor(t,i,o,a){this._document=t,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a}createDrag(t,i=LI){return new Ld(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new jd(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(i){return new(i||n)(le(ni),le(Ie),le(Rm),le(RI))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_0=new Mt("CDK_DRAG_PARENT");var FI=new Mt("CdkDragHandle");var S0=new Mt("CDK_DRAG_CONFIG"),jI="cdk-drag",M0=new Mt("CdkDropList"),D0=(()=>{class n{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,i,o,a,r,s,c,h,p,f,v){this.element=t,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=r,this._dir=c,this._changeDetectorRef=p,this._selfHandle=f,this._parentDrag=v,this._destroyed=new pt,this._handles=new Cr([]),this.scale=1,this.started=new ht,this.released=new ht,this.ended=new ht,this.entered=new ht,this.exited=new ht,this.dropped=new ht,this.moved=new Kl(k=>{let x=this._dragRef.moved.pipe(Wh(C=>({source:this,pointerPosition:C.pointerPosition,event:C.event,delta:C.delta,distance:C.distance}))).subscribe(k);return()=>{x.unsubscribe()}}),this._injector=fe(_a),this._dragRef=h.createDrag(t,{dragStartThreshold:s&&s.dragStartThreshold!=null?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&s.pointerDirectionChangeThreshold!=null?s.pointerDirectionChangeThreshold:5,zIndex:s?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),s&&this._assignDefaults(s),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe(Ge(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){va(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let i=t.rootElementSelector,o=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){let i=this._handles.getValue(),o=i.indexOf(t);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):pn(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,o=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof o=="object"&&o?o:_o(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(Mr(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(jI)){t.withParent(n._dragInstances.find(o=>o.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){let{lockAxis:i,dragStartDelay:o,constrainPosition:a,previewClass:r,boundaryElement:s,draggingDisabled:c,rootElementSelector:h,previewContainer:p}=t;this.disabled=c??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),r&&(this.previewClass=r),s&&(this.boundaryElement=s),h&&(this.rootElementSelector=h),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.pipe(Gh(t=>{let i=t.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Ir(t=>co(...t.map(i=>i._stateChanges.pipe(ho(i))))),Ge(this._destroyed)).subscribe(t=>{let i=this._dragRef,o=t.element.nativeElement;t.disabled?i.disableHandle(o):i.enableHandle(o)})}static{this.\u0275fac=function(i){return new(i||n)(P(oe),P(M0,12),P(ni),P(Ie),P(mo),P(S0,8),P(ka,8),P(Bd),P(ee),P(FI,10),P(_0,12))}}static{this.\u0275dir=Vt({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){i&2&&ft("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",St],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",ii]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Xt([{provide:_0,useExisting:n}]),ce,fi]})}}return n})(),b0=new Mt("CdkDropListGroup");var NI=0,I0=(()=>{class n{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,i,o,a,r,s,c){this.element=t,this._changeDetectorRef=o,this._scrollDispatcher=a,this._dir=r,this._group=s,this._destroyed=new pt,this.connectedTo=[],this.id=`cdk-drop-list-${NI++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new ht,this.entered=new ht,this.exited=new ht,this.sorted=new ht,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(h,p)=>this.enterPredicate(h.data,p.data),this._dropListRef.sortPredicate=(h,p,f)=>this.sortPredicate(h,p.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),s&&s._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(ho(this._dir.value),Ge(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{let i=ym(this.connectedTo).map(o=>{if(typeof o=="string"){let a=n._dropLists.find(r=>r.id===o);return a}return o});if(this._group&&this._group._items.forEach(o=>{i.indexOf(o)===-1&&i.push(o)}),!this._scrollableParentsResolved){let o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let o=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(o)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=_o(this.autoScrollStep,2),t.connectedTo(i.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),co(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:i,draggingDisabled:o,sortingDisabled:a,listAutoScrollDisabled:r,listOrientation:s}=t;this.disabled=o??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=r??!1,this.orientation=s||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static{this.\u0275fac=function(i){return new(i||n)(P(oe),P(Bd),P(ee),P(Ur),P(ka,8),P(b0,12),P(S0,8))}}static{this.\u0275dir=Vt({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,o){i&2&&(Pe("id",o.id),ft("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",St],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",St],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",St],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[Xt([{provide:b0,useValue:void 0},{provide:M0,useExisting:n}]),ce]})}}return n})();var P0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({providers:[Bd],imports:[Gr]})}}return n})();var BI=["*"];var VI=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],HI=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],WI=new Mt("MAT_CARD_CONFIG"),T0=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(P(WI,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,o){i&2&&ft("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Q],ngContentSelectors:BI,decls:1,vars:0,template:function(i,o){i&1&&(ki(),ge(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),E0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return n})();var O0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Vt({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return n})();var A0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Q],ngContentSelectors:HI,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,o){i&1&&(ki(VI),ge(0),g(1,"div",0),ge(2,1),_(),ge(3,2))},encapsulation:2,changeDetection:0})}}return n})();var ia=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({imports:[Kt,ct,Kt]})}}return n})();function UI(n,e){if(n&1){let t=K();g(0,"div",5),N("click",function(){let o=F(t).$implicit,a=A(2);return j(a.onTaskClick(o))}),g(1,"h4",6),y(2),_(),g(3,"p",7),y(4),_(),g(5,"div",8)(6,"span",9),y(7),_()()()}if(n&2){let t=e.$implicit,i=A(2);D("ngClass",i.getTaskBorderClass(t.priority)),w(2),J(t.title),w(),D("title",t.description),w(),U(" ",t.description," "),w(2),D("ngClass",i.getTaskPriorityClass(t.priority)),w(),U(" ",t.priority," ")}}function GI(n,e){if(n&1){let t=K();g(0,"div",2),N("cdkDropListDropped",function(o){F(t);let a=A();return j(a.drop(o))}),g(1,"h3",3),y(2),_(),V(3,UI,8,6,"div",4),_()}if(n&2){let t=e.$implicit,i=A();D("ngClass",i.getColumnClass(t.id))("cdkDropListData",t.tasks)("id",t.id)("cdkDropListConnectedTo",i.getConnectedList()),w(2),J(t.title),w(),D("ngForOf",t.tasks)}}var ar=class n{constructor(e,t,i){this.router=e;this.projectService=t;this.snackBar=i}_tasks=[];set tasks(e){this._tasks=e,this.distributeTasksToColumns()}get tasks(){return this._tasks}projectId;isProjectCreator=!1;taskMoved=new ht;taskClicked=new ht;columns=[{id:"not-started",title:"Not Started",tasks:[]},{id:"in-progress",title:"In Progress",tasks:[]},{id:"stuck",title:"Stuck",tasks:[]},{id:"done",title:"Done",tasks:[]}];ngOnInit(){this.distributeTasksToColumns()}distributeTasksToColumns(){this.columns.forEach(e=>e.tasks=[]),this.tasks.forEach(e=>{let t=this.columns.find(i=>i.title.toLowerCase()===e.status.toLowerCase());t&&t.tasks.push(e)})}drop(e){if(!this.isProjectCreator){this.snackBar.open("Only project creator can move tasks","Close",{duration:3e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"});return}if(e.previousContainer===e.container)fl(e.container.data,e.previousIndex,e.currentIndex);else{let t=e.previousContainer.data[e.previousIndex],i=this.getStatusFromColumnId(e.container.id);t.status!==i&&(y0(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.taskMoved.emit({task:t,newStatus:i}))}}getStatusFromColumnId(e){let t=this.columns.find(i=>i.id===e);return t?t.title:""}onTaskClick(e){this.taskClicked.emit(e)}getConnectedList(){return this.columns.map(e=>e.id)}getColumnClass(e){switch(e){case"not-started":return"bg-gray-50 border-t-4 border-gray-300";case"in-progress":return"bg-blue-50 border-t-4 border-blue-400";case"stuck":return"bg-red-50 border-t-4 border-red-400";case"done":return"bg-green-50 border-t-4 border-green-400";default:return"bg-gray-50"}}getTaskBorderClass(e){switch(e.toLowerCase()){case"critical":return"border-purple-500";case"high":return"border-red-500";case"medium":return"border-yellow-500";case"low":return"border-green-500";default:return"border-gray-300"}}getTaskPriorityClass(e){switch(e.toLowerCase()){case"critical":return"bg-purple-600 text-white";case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}static \u0275fac=function(t){return new(t||n)(P(Wt),P(Be),P(bn))};static \u0275cmp=Z({type:n,selectors:[["app-kanban-board"]],inputs:{tasks:"tasks",projectId:"projectId",isProjectCreator:"isProjectCreator"},outputs:{taskMoved:"taskMoved",taskClicked:"taskClicked"},standalone:!0,features:[Q],decls:2,vars:1,consts:[[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["class","p-4 rounded-lg shadow","cdkDropList","",3,"ngClass","cdkDropListData","id","cdkDropListConnectedTo","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","",1,"p-4","rounded-lg","shadow",3,"cdkDropListDropped","ngClass","cdkDropListData","id","cdkDropListConnectedTo"],[1,"text-lg","font-semibold","mb-4","text-gray-700"],["cdkDrag","","class","bg-white p-4 rounded shadow-sm mb-3 cursor-pointer hover:shadow-md transition-shadow duration-200 border-l-4",3,"ngClass","click",4,"ngFor","ngForOf"],["cdkDrag","",1,"bg-white","p-4","rounded","shadow-sm","mb-3","cursor-pointer","hover:shadow-md","transition-shadow","duration-200","border-l-4",3,"click","ngClass"],[1,"font-medium","mb-2","text-gray-800"],[1,"text-sm","text-gray-600","mb-2","task-description",3,"title"],[1,"flex","justify-end","items-center","text-xs"],[1,"px-2","py-1","rounded","font-medium",3,"ngClass"]],template:function(t,i){t&1&&(g(0,"div",0),V(1,GI,4,6,"div",1),_()),t&2&&(w(),D("ngForOf",i.columns))},dependencies:[ct,ve,Ht,P0,I0,D0,ia,vn],styles:['.kanban-board[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.kanban-column[_ngcontent-%COMP%]{width:200px;min-height:300px;border:1px solid #ccc;padding:10px}mat-card[_ngcontent-%COMP%]{margin-bottom:10px;cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.column-drop-zone[_ngcontent-%COMP%]{transition:background-color .2s ease}.column-drop-zone.cdk-drop-list-dragging[_ngcontent-%COMP%]{background-color:#0000000a}.line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;display:-moz-box;display:box;-webkit-line-clamp:3;-moz-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.task-description[_ngcontent-%COMP%]{display:-webkit-box;display:-moz-box;display:box;-webkit-line-clamp:3;-moz-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;white-space:pre-wrap;max-height:4.5em}@supports not ((-webkit-line-clamp: 3) or (line-clamp: 3)){.task-description[_ngcontent-%COMP%]{position:relative;max-height:4.5em;padding-right:1em}.task-description[_ngcontent-%COMP%]:after{content:"...";position:absolute;right:0;bottom:0;background:#fff;padding-left:.25em}}']})};function $I(n,e){if(n&1){let t=K();g(0,"button",13),N("click",function(){F(t);let o=A().$implicit,a=A();return j(a.onRemoveMember(o))}),g(1,"mat-icon"),y(2,"delete"),_()()}}function qI(n,e){n&1&&(g(0,"span",14),y(1,"Creator"),_())}function XI(n,e){if(n&1&&(g(0,"li",7)(1,"div",8),Y(2,"img",9),g(3,"span",10),y(4),_()(),V(5,$I,3,0,"button",11)(6,qI,2,0,"span",12),_()),n&2){let t=e.$implicit,i=A();w(2),lm("src","https://ui-avatars.com/api/?name=",t.username,"&background=random",$e),sm("alt",t.username),w(2),J(t.username),w(),D("ngIf",i.canRemoveMember(t)),w(),D("ngIf",i.isCreator(t))}}function KI(n,e){if(n&1){let t=K();g(0,"div")(1,"mat-form-field",15)(2,"mat-label"),y(3,"Username"),_(),g(4,"input",16),Ct("ngModelChange",function(o){F(t);let a=A();return wt(a.newMemberUsername,o)||(a.newMemberUsername=o),j(o)}),_()(),g(5,"div",17)(6,"button",18),N("click",function(){F(t);let o=A();return j(o.onClose())}),y(7," Close "),_(),g(8,"button",19),N("click",function(){F(t);let o=A();return j(o.onAddMember())}),y(9," Add Member "),_()()()}if(n&2){let t=A();w(4),kt("ngModel",t.newMemberUsername),w(4),D("disabled",!t.newMemberUsername)}}function ZI(n,e){if(n&1){let t=K();g(0,"div",20)(1,"button",18),N("click",function(){F(t);let o=A();return j(o.onClose())}),y(2," Close "),_()()}}var gl=class n{constructor(e,t){this.dialogRef=e;this.data=t}newMemberUsername="";onClose(){this.dialogRef.close()}onAddMember(){this.newMemberUsername&&this.dialogRef.close({action:"add",username:this.newMemberUsername})}onRemoveMember(e){this.isCurrentUserCreator()&&!this.isCreator(e)&&this.dialogRef.close({action:"remove",memberId:e._id})}isCreator(e){return e._id===this.data.creatorId}isCurrentUserCreator(){return this.data.currentUserId===this.data.creatorId}canRemoveMember(e){return this.isCurrentUserCreator()&&!this.isCreator(e)}static \u0275fac=function(t){return new(t||n)(P(Pi),P(_n))};static \u0275cmp=Z({type:n,selectors:[["app-project-members-dialog"]],standalone:!0,features:[Q],decls:8,vars:3,consts:[[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],[1,"max-h-60","overflow-y-auto","mb-4"],[1,"divide-y","divide-gray-200"],["class","py-3 flex items-center justify-between",4,"ngFor","ngForOf"],[4,"ngIf"],["class","flex justify-end",4,"ngIf"],[1,"py-3","flex","items-center","justify-between"],[1,"flex","items-center"],[1,"h-10","w-10","rounded-full","bg-gray-300",3,"src","alt"],[1,"ml-3","font-medium","text-gray-900"],["mat-icon-button","","color","warn","class","text-red-500 hover:text-red-700",3,"click",4,"ngIf"],["class","text-sm text-gray-500",4,"ngIf"],["mat-icon-button","","color","warn",1,"text-red-500","hover:text-red-700",3,"click"],[1,"text-sm","text-gray-500"],["appearance","outline",1,"w-full","mb-4","custom-form-field"],["matInput","","placeholder","Enter username",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-2"],["mat-button","",1,"text-gray-600","hover:bg-gray-100",3,"click"],["mat-raised-button","","color","primary",1,"bg-blue-500","text-white","hover:bg-blue-600",3,"click","disabled"],[1,"flex","justify-end"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"h2",1),y(2,"Project Members"),_(),g(3,"div",2)(4,"ul",3),V(5,XI,7,6,"li",4),_()(),V(6,KI,10,2,"div",5)(7,ZI,3,0,"div",6),_()),t&2&&(w(5),D("ngForOf",i.data.members),w(),D("ngIf",i.isCurrentUserCreator()),w(),D("ngIf",!i.isCurrentUserCreator()))},dependencies:[ct,Ht,_t,ri,gn,Lt,ae,je,Ce,we,Ne,ze,si,se,ye,ke,ai,Ut,Yt],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:400px}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}  .custom-form-field .mdc-notched-outline__leading,   .custom-form-field .mdc-notched-outline__notch,   .custom-form-field .mdc-notched-outline__trailing{border-color:transparent!important}  .custom-form-field .mat-mdc-text-field-wrapper{background-color:#f3f4f6;border-radius:.375rem}  .custom-form-field .mat-mdc-form-field-flex{padding-left:.75rem;padding-right:.75rem}"]})};var QI=new Mt("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var _l=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Nt({type:n})}static{this.\u0275inj=jt({providers:[Dm,{provide:QI,useValue:{separatorKeyCodes:[13]}}],imports:[Kt,Im,Kt]})}}return n})();function JI(n,e){n&1&&(g(0,"div",25),Y(1,"mat-spinner",26),_())}function tP(n,e){if(n&1&&(g(0,"div",27)(1,"div",28),Y(2,"img",29),g(3,"span",30),y(4),_()(),g(5,"span",31),y(6,"Member"),_()()),n&2){let t=e.$implicit;w(2),D("src","https://ui-avatars.com/api/?name="+t.username+"&background=random",$e)("alt",t.username),w(2),J(t.username)}}function eP(n,e){n&1&&(g(0,"div",32),y(1," No members assigned "),_())}var bl=class n{constructor(e,t,i,o){this.dialogRef=e;this.data=t;this.router=i;this.projectService=o}isLoading=!0;taskDetails;ngOnInit(){this.loadTaskDetails()}loadTaskDetails(){this.isLoading=!0,this.projectService.getTaskDetails(this.data.projectId,this.data.task._id).subscribe({next:e=>{this.taskDetails=e,this.isLoading=!1},error:e=>{console.error("Error loading task details:",e),this.isLoading=!1}})}close(){this.dialogRef.close()}viewFullDetails(){this.dialogRef.close(),this.router.navigate(["/projects",this.data.projectId,"tasks",this.data.task._id])}getStatusClass(e){switch(e){case"Not Started":return"bg-gray-500 text-white";case"In Progress":return"bg-blue-500 text-white";case"Stuck":return"bg-red-500 text-white";case"Done":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}}getPriorityClass(e){switch(e){case"low":return"bg-green-500 text-white";case"medium":return"bg-yellow-500 text-white";case"high":return"bg-orange-500 text-white";case"critical":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}}getAssignedMembers(){let e=this.taskDetails||this.data.task;return!e||!e.assignedTo?[]:e.assignedTo.map(t=>typeof t=="object"&&t!==null?t:this.data.projectMembers.find(o=>o._id===t)||{_id:t,username:"Unknown User"})}static \u0275fac=function(t){return new(t||n)(P(Pi),P(_n),P(Wt),P(Be))};static \u0275cmp=Z({type:n,selectors:[["app-task-details-dialog"]],standalone:!0,features:[Q],decls:52,vars:23,consts:[[1,"task-details-dialog","w-full","max-w-3xl","mx-auto","overflow-y-auto"],["class","absolute inset-0 bg-white bg-opacity-90 z-50 flex items-center justify-center",4,"ngIf"],[1,"sticky","top-0","bg-white","z-10","p-4","border-b","border-gray-200"],[1,"flex","justify-between","items-start","gap-4"],[1,"flex-1","min-w-0"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-800","mb-2","truncate"],[1,"flex","flex-wrap","items-center","gap-2"],[1,"px-2","sm:px-3","py-1","rounded-full","text-xs","sm:text-sm","font-semibold","whitespace-nowrap"],["mat-icon-button","",1,"text-gray-500","hover:text-gray-700","flex-shrink-0",3,"click"],[1,"p-4"],[1,"mb-6"],[1,"text-xs","sm:text-sm","font-semibold","text-gray-700","mb-2","uppercase","tracking-wider"],[1,"bg-gray-50","p-3","sm:p-4","rounded-lg"],[1,"text-sm","sm:text-base","text-gray-600","break-words"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],[1,"bg-gray-50","p-3","sm:p-4","rounded-lg","space-y-2"],[1,"flex","items-center","gap-2"],[1,"text-gray-400","text-sm"],[1,"text-xs","sm:text-sm","text-gray-600"],[1,"flex","flex-col","gap-2"],["class","flex items-center justify-between bg-white p-2 rounded-lg border border-gray-200 hover:border-blue-400 transition-colors",4,"ngFor","ngForOf"],["class","text-gray-500 text-sm italic p-2 text-center",4,"ngIf"],[1,"sticky","bottom-0","bg-white","border-t","border-gray-200","p-4","flex","justify-end","gap-3"],["mat-button","",1,"text-gray-600","text-sm","sm:text-base",3,"click","disabled"],["mat-raised-button","","color","primary",1,"px-4","sm:px-6","text-sm","sm:text-base",3,"click","disabled"],[1,"absolute","inset-0","bg-white","bg-opacity-90","z-50","flex","items-center","justify-center"],["diameter","40"],[1,"flex","items-center","justify-between","bg-white","p-2","rounded-lg","border","border-gray-200","hover:border-blue-400","transition-colors"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","rounded-full",3,"src","alt"],[1,"text-sm","text-gray-700","font-medium"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded"],[1,"text-gray-500","text-sm","italic","p-2","text-center"]],template:function(t,i){t&1&&(g(0,"div",0),V(1,JI,2,0,"div",1),g(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2",5),y(7),_(),g(8,"div",6)(9,"span",7),y(10),_(),g(11,"span",7),y(12),_()()(),g(13,"button",8),N("click",function(){return i.close()}),g(14,"mat-icon"),y(15,"close"),_()()()(),g(16,"div",9)(17,"div",10)(18,"h3",11),y(19," Description "),_(),g(20,"div",12)(21,"p",13),y(22),_()()(),g(23,"div",14)(24,"div")(25,"h3",11),y(26," Timeline "),_(),g(27,"div",15)(28,"div",16)(29,"mat-icon",17),y(30,"calendar_today"),_(),g(31,"span",18),y(32),de(33,"date"),_()(),g(34,"div",16)(35,"mat-icon",17),y(36,"event"),_(),g(37,"span",18),y(38),de(39,"date"),_()()()(),g(40,"div")(41,"h3",11),y(42," Assigned Members "),_(),g(43,"div",12)(44,"div",19),V(45,tP,7,3,"div",20)(46,eP,2,0,"div",21),_()()()()(),g(47,"div",22)(48,"button",23),N("click",function(){return i.close()}),y(49," Close "),_(),g(50,"button",24),N("click",function(){return i.viewFullDetails()}),y(51," View Full Details "),_()()()()),t&2&&(w(),D("ngIf",i.isLoading),w(),ft("opacity-50",i.isLoading),w(5),U(" ",(i.taskDetails==null?null:i.taskDetails.title)||i.data.task.title," "),w(2),yi(i.getStatusClass((i.taskDetails==null?null:i.taskDetails.status)||i.data.task.status)),w(),U(" ",(i.taskDetails==null?null:i.taskDetails.status)||i.data.task.status," "),w(),yi(i.getPriorityClass((i.taskDetails==null?null:i.taskDetails.priority)||i.data.task.priority)),w(),U(" ",(i.taskDetails==null?null:i.taskDetails.priority)||i.data.task.priority," "),w(10),U(" ",(i.taskDetails==null?null:i.taskDetails.description)||i.data.task.description," "),w(10),U(" Start: ",wi(33,17,(i.taskDetails==null||i.taskDetails.timeline==null?null:i.taskDetails.timeline.start)||(i.data.task.timeline==null?null:i.data.task.timeline.start),"mediumDate")," "),w(6),U(" End: ",wi(39,20,(i.taskDetails==null||i.taskDetails.timeline==null?null:i.taskDetails.timeline.end)||(i.data.task.timeline==null?null:i.data.task.timeline.end),"mediumDate")," "),w(7),D("ngForOf",i.getAssignedMembers()),w(),D("ngIf",i.getAssignedMembers().length===0),w(2),D("disabled",i.isLoading),w(2),D("disabled",i.isLoading))},dependencies:[ct,Ht,_t,oi,ri,Lt,ae,je,Ut,Yt,_l,Mi,re,xe],styles:["[_nghost-%COMP%]{display:block;max-height:90vh}.task-details-dialog[_ngcontent-%COMP%]{max-height:90vh;display:flex;flex-direction:column;position:relative;min-height:200px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#666}.mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}@media (max-width: 640px){.task-details-dialog[_ngcontent-%COMP%]{max-height:100vh}}  .mat-spinner circle{stroke:#3b82f6}"]})};var nP=["sidenav"],oP=()=>[5,10,25,100],aP=(n,e,t)=>({"bg-red-600":n,"bg-yellow-600":e,"bg-green-600":t});function rP(n,e){n&1&&(g(0,"div",6),Y(1,"mat-spinner",7),_())}function sP(n,e){if(n&1&&(g(0,"div",39)(1,"h3",27),y(2," Project Progress "),_(),g(3,"div",40)(4,"div",41)(5,"span",42),y(6,"Overall Progress"),_(),g(7,"span",42),y(8),_()(),g(9,"div",43),Y(10,"div",44),_()(),g(11,"div",45)(12,"div",46)(13,"p",47),y(14,"Tasks Completed"),_(),g(15,"p",48),y(16),_()(),g(17,"div",46)(18,"p",47),y(19,"Days Remaining"),_(),g(20,"p",48),y(21),_()()(),g(22,"div",49),Y(23,"canvas",50),_()()),n&2){let t=A(3);w(8),U("",t.getCompletionRate(),"%"),w(2),po("width",t.getCompletionRate()+"%"),D("ngClass",cm(10,aP,t.getCompletionRate()<30,t.getCompletionRate()>=30&&t.getCompletionRate()<70,t.getCompletionRate()>=70)),w(6),Ar(" ",t.getTaskCountByStatus("Done")," / ",t.project.tasks==null?null:t.project.tasks.length," "),w(5),J(t.getDaysRemaining()),w(2),D("data",t.chartData)("options",t.chartOptions)("type","bar")}}function lP(n,e){n&1&&(g(0,"div",51),Y(1,"mat-spinner",7),_())}function cP(n,e){n&1&&Y(0,"span",66)}function dP(n,e){if(n&1&&(g(0,"li")(1,"div",55),V(2,cP,1,0,"span",56),g(3,"div",57)(4,"div",58),Y(5,"img",59),_(),g(6,"div",60)(7,"div")(8,"div",61)(9,"a",62),y(10),_()(),g(11,"div",63),y(12),de(13,"date"),_()(),g(14,"div",64),Y(15,"p",65),_()()()()()),n&2){let t=e.$implicit,i=e.last,o=A(4);w(2),D("ngIf",!i),w(3),D("src","https://ui-avatars.com/api/?name="+((t.performedBy==null?null:t.performedBy.username)||"User")+"&background=random",$e)("alt",(t.performedBy==null?null:t.performedBy.username)||"User"),w(5),J((t.performedBy==null?null:t.performedBy.username)||"Unknown User"),w(2),U(" ",wi(13,6,t.timestamp,"dd/MM/yyyy HH:mm")," "),w(3),D("innerHTML",o.formatActivityAction(t.action),Or)}}function hP(n,e){if(n&1&&(g(0,"div",52)(1,"ul",53),V(2,dP,16,9,"li",54),_()()),n&2){let t=A(3);w(2),D("ngForOf",t.activityLog)}}function mP(n,e){if(n&1){let t=K();g(0,"div",10)(1,"div",11)(2,"h2",12),y(3),_(),g(4,"div",13)(5,"button",14),N("click",function(){F(t);let o=A(2);return j(o.openEditProjectDialog())}),g(6,"mat-icon"),y(7,"edit"),_(),g(8,"span",15),y(9,"Edit Project"),_()(),g(10,"button",16),N("click",function(){F(t);let o=A(2);return j(o.openMembersDialog())}),g(11,"mat-icon"),y(12,"group"),_(),g(13,"span",15),y(14,"Members"),_()()()(),g(15,"p",17),y(16),_(),g(17,"div",18)(18,"p"),y(19),_(),g(20,"p"),y(21),de(22,"date"),_()(),g(23,"div",19)(24,"div",20)(25,"h3",21),y(26,"Tasks"),_(),g(27,"button",22),N("click",function(){F(t);let o=A(2);return j(o.openCreateTaskDialog())}),g(28,"mat-icon",3),y(29,"add"),_(),y(30," Create Task "),_()(),g(31,"app-kanban-board",23),N("taskMoved",function(o){F(t);let a=A(2);return j(a.onTaskMoved(o))})("taskClicked",function(o){F(t);let a=A(2);return j(a.openTaskDetailsDialog(o))}),_()(),g(32,"div",24),V(33,sP,24,14,"div",25),g(34,"div",26)(35,"h3",27),y(36," Project Summary "),_(),g(37,"ul",28)(38,"li",29)(39,"span"),y(40,"Total Tasks:"),_(),g(41,"span",30),y(42),_()(),g(43,"li",29)(44,"span"),y(45,"Not Started:"),_(),g(46,"span",30),y(47),_()(),g(48,"li",29)(49,"span"),y(50,"In Progress:"),_(),g(51,"span",30),y(52),_()(),g(53,"li",29)(54,"span"),y(55,"Stuck:"),_(),g(56,"span",30),y(57),_()(),g(58,"li",29)(59,"span"),y(60,"Completed:"),_(),g(61,"span",30),y(62),_()(),g(63,"li",29)(64,"span"),y(65,"Team Members:"),_(),g(66,"span",30),y(67),_()(),g(68,"li",29)(69,"span"),y(70,"Project Duration:"),_(),g(71,"span",30),y(72),_()(),g(73,"li",29)(74,"span"),y(75,"Completion Rate:"),_(),g(76,"span",30),y(77),_()()()()(),g(78,"div",31)(79,"button",32),N("click",function(){F(t);let o=A(2);return j(o.toggleActivityLog())}),g(80,"mat-icon",3),y(81),_(),g(82,"span"),y(83),_()()(),g(84,"div",33)(85,"div",34)(86,"h2",35),y(87,"Activity Log"),_(),V(88,lP,2,0,"div",36)(89,hP,3,1,"div",37),g(90,"mat-paginator",38),N("page",function(o){F(t);let a=A(2);return j(a.onPageChange(o))}),_()()()()}if(n&2){let t=A(2);w(3),J(t.project.name),w(13),J(t.project.description),w(3),U("Created by: ",t.getCreatorUsername(),""),w(2),U("Created at: ",mn(22,26,t.project.createdAt),""),w(10),D("tasks",t.project.tasks)("projectId",t.project._id)("isProjectCreator",t.isProjectCreator),w(2),D("ngIf",t.chartData),w(9),J((t.project.tasks==null?null:t.project.tasks.length)||0),w(5),J(t.getTaskCountByStatus("Not Started")),w(5),J(t.getTaskCountByStatus("In Progress")),w(5),J(t.getTaskCountByStatus("Stuck")),w(5),J(t.getTaskCountByStatus("Done")),w(5),J((t.project.members==null?null:t.project.members.length)||0),w(5),J(t.getProjectDuration()),w(5),U("",t.getCompletionRate(),"%"),w(4),J(t.isActivityLogVisible?"visibility_off":"visibility"),w(2),J(t.isActivityLogVisible?"Hide Activity Log":"Show Activity Log"),w(),ft("hidden",!t.isActivityLogVisible),w(4),D("ngIf",t.isLoadingActivityLog),w(),D("ngIf",!t.isLoadingActivityLog),w(),D("length",t.totalLogs)("pageSize",t.pageSize)("pageSizeOptions",Rr(28,oP))("pageIndex",t.currentPage-1)}}function pP(n,e){if(n&1&&(g(0,"div",8),V(1,mP,91,29,"div",9),_()),n&2){let t=A();w(),D("ngIf",t.project)}}var vl=class n{constructor(e,t,i,o,a,r,s,c,h){this.route=e;this.projectService=t;this.dialog=i;this.snackBar=o;this.router=a;this.sanitizer=r;this.datePipe=s;this.authService=c;this.changeDetectorRef=h}isLoading=!0;project;error=null;sidebarOpen=!1;editMode=!1;editedProject={name:"",description:""};sidenav;kanbanBoard;activityLog=[];currentPage=1;totalPages=1;totalLogs=0;pageSize=5;currentUser=null;isActivityLogVisible=!1;chartData={labels:["Not Started","In Progress","Stuck","Done"],datasets:[{data:[],backgroundColor:["#D1D5DB","#61A5FA","#F87071","#4BDE80"],borderColor:["#9CA3AF","#3B82F6","#EF4444","#34D399"],borderWidth:1,borderRadius:4,hoverBackgroundColor:["#D1D5DB","#61A5FA","#F87071","#4BDE80"],hoverBorderColor:["#9CA3AF","#3B82F6","#EF4444","#34D399"],hoverBorderWidth:1}]};chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",cornerRadius:4,padding:10}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1},grid:{drawBorder:!1,color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{display:!1}}},animation:{duration:750,easing:"easeInOutQuart"},transitions:{active:{animation:{duration:750}}},hover:{mode:"index",intersect:!1},elements:{bar:{hoverBackgroundColor:["#D1D5DB","#61A5FA","#F87071","#4BDE80"],borderRadius:4}}};chart;isLoadingActivityLog=!1;itemSize=0;isProjectCreator=!1;isChartLoading=!1;ngOnInit(){this.isLoading=!0,this.route.params.subscribe(e=>{let t=e.id;t&&this.projectService.getProjectDetails(t).subscribe({next:i=>{this.project=i;let o=this.authService.getCurrentUserId();this.isProjectCreator=o===i.createdBy._id,this.prepareChartData(),this.isLoading=!1,this.changeDetectorRef.detectChanges()},error:i=>{console.error("Error loading project:",i),this.error="Error loading project details",this.isLoading=!1,this.changeDetectorRef.detectChanges()}})}),this.currentUser={_id:this.authService.getCurrentUserId()??"",username:this.authService.getCurrentUsername()},this.prepareChartData()}getCreatorUsername(){return this.project?.createdBy?typeof this.project.createdBy=="object"?this.project.createdBy.username:this.project.createdBy:"Unknown"}toggleSidebar(){this.sidenav.toggle()}goBack(){this.router.navigate(["/dashboard"])}toggleEditMode(){this.editMode=!this.editMode,this.editMode||(this.editedProject={name:this.project.name,description:this.project.description})}openAddMemberDialog(){this.dialog.open(ol,{width:"250px"}).afterClosed().subscribe(t=>{t&&this.addMemberToProject(t)})}addMemberToProject(e){this.projectService.addMemberToProject(this.project._id,e).subscribe({next:t=>{if(this.project=t,this.snackBar.open("Member added successfully","Close",{duration:3e3}),this.currentUser){let i={action:`Member ${e} added to the project`,performedBy:this.currentUser,timestamp:new Date};this.activityLog.unshift(i),this.activityLog.length>this.pageSize&&this.activityLog.pop(),this.totalLogs++}},error:t=>{console.error("Error adding member:",t),this.snackBar.open("Error adding member","Close",{duration:3e3})}})}openMembersDialog(){this.dialog.open(gl,{width:"300px",data:{members:this.project.members,creatorId:this.project.createdBy._id}}).afterClosed().subscribe(t=>{t&&(t.action==="add"?this.addMemberToProject(t.username):t.action==="remove"&&(t.memberId!==this.project.createdBy._id?this.removeMemberFromProject(t.memberId):this.snackBar.open("Cannot remove the project creator","Close",{duration:3e3})))})}removeMemberFromProject(e){let t=this.project.members.find(o=>o._id===e),i=t?t.username:"Unknown user";this.projectService.removeMemberFromProject(this.project._id,e).subscribe({next:o=>{if(this.project=o,this.snackBar.open("Member removed successfully","Close",{duration:3e3}),this.currentUser){let a={action:`Member ${i} removed from the project`,performedBy:this.currentUser,timestamp:new Date};this.activityLog.unshift(a),this.activityLog.length>this.pageSize&&this.activityLog.pop(),this.totalLogs++}},error:o=>{console.error("Error removing member:",o),this.snackBar.open("Error removing member","Close",{duration:3e3})}})}openEditProjectDialog(){this.dialog.open(tp,{width:"300px",data:{name:this.project.name,description:this.project.description}}).afterClosed().subscribe(t=>{t&&this.saveChanges(t)})}saveChanges(e){let t=Le({},this.project);this.projectService.updateProject(this.project._id,e).subscribe({next:i=>{this.project=i,typeof this.project.createdBy=="object"&&this.project.createdBy!==null&&(this.project.createdBy={_id:this.project.createdBy._id,username:this.project.createdBy.username}),this.snackBar.open("Project updated successfully","Close",{duration:3e3});let o=[];if(t.name!==e.name&&o.push(`name changed from "${t.name}" to "${e.name}"`),t.description!==e.description&&o.push(`description changed from "${t.description}" to "${e.description}"`),this.currentUser){let a={action:`Project updated: ${o.join(", ")}`,performedBy:this.currentUser,timestamp:new Date};this.activityLog.unshift(a),this.activityLog.length>this.pageSize&&this.activityLog.pop(),this.totalLogs++}else console.error("Current user information is not available")},error:i=>{console.error("Error updating project:",i),this.snackBar.open("Error updating project","Close",{duration:3e3})}})}openCreateTaskDialog(){this.dialog.open(rl,{width:"500px",data:{members:this.project.members}}).afterClosed().subscribe(t=>{t&&this.createTask(t)})}createTask(e){this.projectService.createTask(this.project._id,e).subscribe({next:t=>{t&&t._id?(this.project.tasks.push(t),this.updateKanbanBoard(),this.snackBar.open("Task created successfully","Close",{duration:3e3}),this.loadActivityLog(1)):this.snackBar.open("Task created, but no _id returned","Close",{duration:3e3})},error:t=>{this.snackBar.open("Error creating task","Close",{duration:3e3})}})}getAssignedUsername(e){let t=this.project.members.find(i=>i._id===e);return t?t.username:"Unassigned"}onTaskMoved(e){if(!this.isProjectCreator){this.snackBar.open("Only project creator can move tasks","Close",{duration:3e3,panelClass:["error-snackbar"]}),this.updateKanbanBoard();return}let{task:t,newStatus:i}=e;this.projectService.updateTaskStatus(this.project._id,t._id,i).subscribe({next:o=>{let a=this.project.tasks.findIndex(r=>r._id===t._id);a!==-1&&(this.project.tasks[a]=Vn(Le(Le({},this.project.tasks[a]),o),{assignedTo:this.project.tasks[a].assignedTo}),this.updateChartData(),this.loadActivityLog(1),this.kanbanBoard&&this.kanbanBoard.distributeTasksToColumns(),this.changeDetectorRef.detectChanges())},error:o=>{console.error("Error updating task status:",o),this.updateKanbanBoard(),this.snackBar.open("Failed to update task status","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}updateKanbanBoard(){this.kanbanBoard&&this.project&&(this.kanbanBoard.tasks=this.project.tasks,this.kanbanBoard.distributeTasksToColumns(),this.updateChartData())}updateChartData(){this.prepareChartData()}prepareChartData(){if(!this.project||!this.project.tasks){console.warn("Project or tasks not loaded yet");return}this.isChartLoading=!0,this.changeDetectorRef.detectChanges();try{let t=["Not Started","In Progress","Stuck","Done"].map(i=>this.project.tasks.filter(o=>o.status===i).length);this.chartData.datasets[0].data=t,this.chart&&this.chart.update()}finally{this.isChartLoading=!1,this.changeDetectorRef.detectChanges()}}loadActivityLog(e=this.currentPage){this.project&&this.project._id&&!this.isLoadingActivityLog&&(this.isLoadingActivityLog=!0,this.changeDetectorRef.detectChanges(),this.projectService.getProjectActivityLog(this.project._id,e,this.pageSize).subscribe({next:t=>{this.activityLog=t.logs,this.currentPage=t.currentPage,this.totalPages=t.totalPages,this.totalLogs=t.totalLogs,this.isLoadingActivityLog=!1,this.changeDetectorRef.detectChanges()},error:t=>{console.error("Error loading activity log:",t),this.isLoadingActivityLog=!1,this.snackBar.open("Error loading activity log","Close",{duration:3e3}),this.changeDetectorRef.detectChanges()}}))}onPageChange(e){this.currentPage=e.pageIndex+1,this.pageSize=e.pageSize,this.loadActivityLog(this.currentPage)}formatActivityAction(e){return e.split(". ").map(o=>{if(o.includes("changed from")){let[a,r]=o.split(" changed from "),[s,c]=r.split(" to ");return`<strong>${a}</strong> changed from <span class="text-red-500">${this.formatDateIfNeeded(s)}</span> to <span class="text-green-500">${this.formatDateIfNeeded(c)}</span>`}else return o.includes("Added members:")?o.replace("Added members:",'<strong>Added members:</strong> <span class="text-green-500">')+"</span>":o.includes("Removed members:")?o.replace("Removed members:",'<strong>Removed members:</strong> <span class="text-red-500">')+"</span>":`<strong>${o}</strong>`}).join("<br>")}formatDateIfNeeded(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)&&this.datePipe.transform(e,"dd/MM/yyyy")||e}toggleActivityLog(){this.isActivityLogVisible=!this.isActivityLogVisible,this.isActivityLogVisible&&(!this.activityLog||this.activityLog.length===0)&&this.loadActivityLog()}getTaskCountByStatus(e){return this.project.tasks.filter(t=>t.status===e).length}getProjectDuration(){let e=new Date(this.project.createdAt);return`${Math.floor((new Date().getTime()-e.getTime())/(1e3*3600*24))} days`}getCompletionRate(){let e=this.getTaskCountByStatus("Done"),t=this.project.tasks.length;return t>0?Math.round(e/t*100):0}getDaysRemaining(){if(!this.project.dueDate)return 0;let e=new Date,i=new Date(this.project.dueDate).getTime()-e.getTime();return Math.ceil(i/(1e3*3600*24))}trackByActivityId(e,t){return t._id}trackByTaskId(e,t){return t._id}openTaskDetailsDialog(e){let t=this.dialog.open(bl,{width:"95vw",maxWidth:"800px",panelClass:"task-details-dialog",data:{task:e,projectId:this.project._id,projectMembers:this.project.members,isProjectCreator:this.isProjectCreator}})}static \u0275fac=function(t){return new(t||n)(P(go),P(Be),P(Co),P(bn),P(Wt),P(jr),P(oi),P(Zt),P(ee))};static \u0275cmp=Z({type:n,selectors:[["app-project-details"]],viewQuery:function(t,i){if(t&1&&(qe(nP,5),qe(ar,5),qe(nl,5)),t&2){let o;_e(o=be())&&(i.sidenav=o.first),_e(o=be())&&(i.kanbanBoard=o.first),_e(o=be())&&(i.chart=o.first)}},standalone:!0,features:[Xt([oi]),Q],decls:8,vars:2,consts:[[1,"bg-gray-100","min-h-screen","p-4","sm:p-6","lg:p-8"],[1,"max-w-7xl","mx-auto"],["mat-button","",1,"mb-4","flex","items-center","text-gray-600","hover:text-gray-800",3,"click"],[1,"mr-2"],["class","flex justify-center items-center min-h-screen",4,"ngIf"],["class","container mx-auto px-4 py-8",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen"],["diameter","40"],[1,"container","mx-auto","px-4","py-8"],["class","bg-white shadow rounded-lg p-6",4,"ngIf"],[1,"bg-white","shadow","rounded-lg","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800"],[1,"space-x-2"],["mat-raised-button","","color","primary",1,"edit-button",3,"click"],[1,"button-text"],["mat-raised-button","","color","accent",1,"members-button",3,"click"],[1,"text-gray-600","mb-4"],[1,"flex","justify-between","text-sm","text-gray-500","mb-6"],[1,"mb-8"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-semibold","text-gray-700"],["mat-raised-button","","color","primary",3,"click"],[3,"taskMoved","taskClicked","tasks","projectId","isProjectCreator"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-8"],["class","bg-white p-6 rounded-lg shadow",4,"ngIf"],[1,"bg-white","p-4","rounded-lg","shadow"],[1,"text-lg","font-semibold","text-gray-700","mb-4"],[1,"space-y-2"],[1,"flex","justify-between"],[1,"font-medium"],[1,"flex","justify-end","mt-6"],["mat-raised-button","","color","primary",1,"flex","items-center","justify-center","space-x-2","px-4","py-2",3,"click"],[1,"bg-white","shadow","rounded-lg","overflow-hidden","mt-8"],[1,"p-4","sm:p-6"],[1,"text-xl","sm:text-2xl","font-semibold","text-gray-800","mb-6"],["class","flex justify-center items-center h-20",4,"ngIf"],["class","flow-root",4,"ngIf"],["aria-label","Select page of activity logs",3,"page","length","pageSize","pageSizeOptions","pageIndex"],[1,"bg-white","p-6","rounded-lg","shadow"],[1,"mb-4"],[1,"flex","justify-between","mb-1"],[1,"text-sm","font-medium","text-gray-700"],[1,"w-full","bg-gray-200","rounded-full","h-2.5"],[1,"h-2.5","rounded-full",3,"ngClass"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","p-3","rounded-lg"],[1,"text-sm","text-gray-500"],[1,"text-xl","font-semibold"],[1,"chart-container",2,"position","relative","height","200px","width","100%","margin","auto"],["baseChart","",3,"data","options","type"],[1,"flex","justify-center","items-center","h-20"],[1,"flow-root"],["role","list",1,"-mb-8"],[4,"ngFor","ngForOf"],[1,"relative","pb-8"],["class","absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200","aria-hidden","true",4,"ngIf"],[1,"relative","flex","items-start","space-x-3"],[1,"relative"],[1,"h-10","w-10","rounded-full","bg-gray-400","flex","items-center","justify-center","ring-8","ring-white",3,"src","alt"],[1,"min-w-0","flex-1"],[1,"text-sm"],["href","#",1,"font-medium","text-gray-900"],[1,"mt-0.5","text-sm","text-gray-500"],[1,"mt-2","text-sm","text-gray-700"],[3,"innerHTML"],["aria-hidden","true",1,"absolute","top-5","left-5","-ml-px","h-full","w-0.5","bg-gray-200"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1)(2,"button",2),N("click",function(){return i.goBack()}),g(3,"mat-icon",3),y(4,"arrow_back"),_(),y(5," Back to Dashboard "),_(),V(6,rP,2,0,"div",4)(7,pP,2,1,"div",5),_()()),t&2&&(w(6),D("ngIf",i.isLoading),w(),D("ngIf",!i.isLoading))},dependencies:[ct,ve,Ht,_t,oi,Lt,ae,Ut,Yt,ze,Ce,se,vn,gn,ar,cs,Ia,Jg,nl,Lm,re,xe],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:250px}.content[_ngcontent-%COMP%], .project-details-container[_ngcontent-%COMP%]{padding:20px}.back-button[_ngcontent-%COMP%]{margin-bottom:20px}h2[_ngcontent-%COMP%]{margin-bottom:10px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}button[_ngcontent-%COMP%]{margin-right:10px;margin-bottom:20px}mat-list-item[_ngcontent-%COMP%]{height:auto!important;margin-bottom:16px;padding:16px!important}mat-list-item[_ngcontent-%COMP%]   div[mat-line][_ngcontent-%COMP%]{white-space:normal!important}.mat-mdc-list-item-icon[_ngcontent-%COMP%]{margin-right:16px}mat-icon[_ngcontent-%COMP%]{margin-right:10px}.activity-log-container[_ngcontent-%COMP%]{max-height:1000px;overflow:hidden;transition:max-height .3s ease-out}.activity-log-container.hidden[_ngcontent-%COMP%]{max-height:0}.mat-paginator-sticky[_ngcontent-%COMP%]{position:sticky;bottom:0;background-color:#fff;z-index:10}@media (max-width: 600px){  .mat-paginator-container{justify-content:center;flex-wrap:wrap}  .mat-paginator-range-label{margin:0 10px 10px 0}  .mat-paginator-navigation-previous,   .mat-paginator-navigation-next{margin-top:10px}.edit-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}.edit-button[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]{min-width:0;padding:0 8px;width:36px;height:36px}.edit-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}}.edit-button[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button-text[_ngcontent-%COMP%]{margin-left:8px}.activity-log-toggle-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:1rem}.activity-log-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.activity-log-toggle[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{margin-left:8px}@media (max-width: 600px){.activity-log-toggle[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}.activity-log-toggle[_ngcontent-%COMP%]{min-width:0;padding:0 8px;width:36px;height:36px}.activity-log-toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}}.chart-container[_ngcontent-%COMP%]{display:inline-block;margin:auto}.edit-button[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]{transition:all .3s ease}.edit-button[_ngcontent-%COMP%]:hover, .members-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px #0000001a}@media (max-width: 768px){.button-text[_ngcontent-%COMP%]{display:none}}.activity-log-viewport[_ngcontent-%COMP%]{height:400px;width:100%}"],changeDetection:0})};var uP=Nh(Wd(),1),R0=Nh(Wd(),1),to=R0.default||uP,Yd=new Mt("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:fP});function fP(){return{useUtc:!1}}function gP(n,e){let t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}var L0=(()=>{class n extends bo{constructor(t,i){super(),this._options=i,this.setLocale(t||to.locale())}setLocale(t){super.setLocale(t);let i=to.localeData(t);this._localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:gP(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return t=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return t=="long"?this._localeData.longDaysOfWeek:t=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,i,o){let a=this._createMoment({year:t,month:i,date:o}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(t,i){return t&&typeof t=="string"?this._createMoment(t,i,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,i){return t=this.clone(t),this.isValid(t),t.format(i)}addCalendarYears(t,i){return this.clone(t).add({years:i})}addCalendarMonths(t,i){return this.clone(t).add({months:i})}addCalendarDays(t,i){return this.clone(t).add({days:i})}toIso8601(t){return this.clone(t).format()}deserialize(t){let i;if(t instanceof Date)i=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if(typeof t=="string"){if(!t)return null;i=this._createMoment(t,to.ISO_8601).locale(this.locale)}return i&&this.isValid(i)?this._createMoment(i).locale(this.locale):super.deserialize(t)}isDateInstance(t){return to.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return to.invalid()}_createMoment(t,i,o){let{strict:a,useUtc:r}=this._options||{};return r?to.utc(t,i,o,a):to(t,i,o,a)}static{this.\u0275fac=function(i){return new(i||n)(le(wa,8),le(Yd,8))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();function _P(n,e){if(n&1&&(g(0,"div",28),y(1),_()),n&2){let t=A();w(),U(" ",t.dateError," ")}}function bP(n,e){if(n&1&&(g(0,"mat-option",29),y(1),_()),n&2){let t=e.$implicit;D("value",t._id),w(),U(" ",t.username," ")}}var vP={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},xl=class n{constructor(e,t,i,o){this.dialogRef=e;this.data=t;this.projectService=i;this.dateAdapter=o;this.dateAdapter.setLocale("en-GB")}projectMembers=[];dateError="";ngOnInit(){this.loadProjectMembers()}loadProjectMembers(){this.projectService.getProjectDetails(this.data.projectId).subscribe(e=>{this.projectMembers=e.members,this.data.assignedTo=(this.data.assignedTo||[]).filter(t=>t!=null).map(t=>typeof t=="object"&&t._id?t._id:typeof t=="string"?t:null).filter(t=>t!=null)},e=>{console.error("Error loading project members:",e)})}validateDates(){if(!this.data.timeline.start||!this.data.timeline.end)return this.dateError="Both start and end dates are required",!1;let e=new Date(this.data.timeline.start),t=new Date(this.data.timeline.end);return new Date().setHours(0,0,0,0),isNaN(e.getTime())||isNaN(t.getTime())?(this.dateError="Invalid date format",!1):t<e?(this.dateError="End date cannot be before start date",!1):(this.dateError="",!0)}onNoClick(){this.dialogRef.close()}onSaveClick(){this.validateDates()&&this.dialogRef.close(this.data)}static \u0275fac=function(t){return new(t||n)(P(Pi),P(_n),P(Be),P(bo))};static \u0275cmp=Z({type:n,selectors:[["app-edit-task-dialog"]],standalone:!0,features:[Xt([{provide:rc,useValue:vP},{provide:bo,useClass:L0,deps:[wa]},{provide:Yd,useValue:{useUtc:!0}},{provide:wa,useValue:"en-GB"}]),Q],decls:77,vars:13,consts:[["startPicker",""],["endPicker",""],[1,"edit-task-dialog"],["mat-dialog-title","",1,"dialog-title"],["mat-dialog-content","",1,"dialog-content"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Enter task title",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","rows","3","placeholder","Enter task description",3,"ngModelChange","ngModel"],[1,"form-row"],["appearance","fill",1,"half-width"],[3,"ngModelChange","ngModel"],["value","Not Started"],["value","In Progress"],["value","Stuck"],["value","Done"],["value","low"],["value","medium"],["value","high"],["value","critical"],["matInput","",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["class","error-message","style","color: red; margin-bottom: 16px;",4,"ngIf"],["multiple","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-actions"],["mat-stroked-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"error-message",2,"color","red","margin-bottom","16px"],[3,"value"]],template:function(t,i){if(t&1){let o=K();g(0,"div",2)(1,"h1",3),y(2,"Edit Task"),_(),g(3,"div",4)(4,"mat-form-field",5)(5,"mat-label"),y(6,"Title"),_(),g(7,"input",6),Ct("ngModelChange",function(r){return F(o),wt(i.data.title,r)||(i.data.title=r),j(r)}),_(),g(8,"mat-icon",7),y(9,"title"),_()(),g(10,"mat-form-field",5)(11,"mat-label"),y(12,"Description"),_(),g(13,"textarea",8),Ct("ngModelChange",function(r){return F(o),wt(i.data.description,r)||(i.data.description=r),j(r)}),_(),g(14,"mat-icon",7),y(15,"description"),_()(),g(16,"div",9)(17,"mat-form-field",10)(18,"mat-label"),y(19,"Status"),_(),g(20,"mat-select",11),Ct("ngModelChange",function(r){return F(o),wt(i.data.status,r)||(i.data.status=r),j(r)}),g(21,"mat-option",12),y(22,"Not Started"),_(),g(23,"mat-option",13),y(24,"In Progress"),_(),g(25,"mat-option",14),y(26,"Stuck"),_(),g(27,"mat-option",15),y(28,"Done"),_()(),g(29,"mat-icon",7),y(30,"flag"),_()(),g(31,"mat-form-field",10)(32,"mat-label"),y(33,"Priority"),_(),g(34,"mat-select",11),Ct("ngModelChange",function(r){return F(o),wt(i.data.priority,r)||(i.data.priority=r),j(r)}),g(35,"mat-option",16),y(36,"Low"),_(),g(37,"mat-option",17),y(38,"Medium"),_(),g(39,"mat-option",18),y(40,"High"),_(),g(41,"mat-option",19),y(42,"Critical"),_()(),g(43,"mat-icon",7),y(44,"priority_high"),_()()(),g(45,"div",9)(46,"mat-form-field",10)(47,"mat-label"),y(48,"Start Date"),_(),g(49,"input",20),Ct("ngModelChange",function(r){return F(o),wt(i.data.timeline.start,r)||(i.data.timeline.start=r),j(r)}),_(),Y(50,"mat-datepicker-toggle",21)(51,"mat-datepicker",null,0),_(),g(53,"mat-form-field",10)(54,"mat-label"),y(55,"End Date"),_(),g(56,"input",20),Ct("ngModelChange",function(r){return F(o),wt(i.data.timeline.end,r)||(i.data.timeline.end=r),j(r)}),_(),Y(57,"mat-datepicker-toggle",21)(58,"mat-datepicker",null,1),_()(),V(60,_P,2,1,"div",22),g(61,"mat-form-field",5)(62,"mat-label"),y(63,"Assigned Members"),_(),g(64,"mat-select",23),Ct("ngModelChange",function(r){return F(o),wt(i.data.assignedTo,r)||(i.data.assignedTo=r),j(r)}),V(65,bP,2,2,"mat-option",24),_(),g(66,"mat-icon",7),y(67,"group"),_()()(),g(68,"div",25)(69,"button",26),N("click",function(){return F(o),j(i.onNoClick())}),g(70,"mat-icon"),y(71,"cancel"),_(),y(72," Cancel "),_(),g(73,"button",27),N("click",function(){return F(o),j(i.onSaveClick())}),g(74,"mat-icon"),y(75,"save"),_(),y(76," Save Changes "),_()()()}if(t&2){let o=qt(52),a=qt(59);w(7),kt("ngModel",i.data.title),w(6),kt("ngModel",i.data.description),w(7),kt("ngModel",i.data.status),w(14),kt("ngModel",i.data.priority),w(15),D("matDatepicker",o),kt("ngModel",i.data.timeline.start),w(),D("for",o),w(6),D("matDatepicker",a),kt("ngModel",i.data.timeline.end),w(),D("for",a),w(3),D("ngIf",i.dateError),w(4),kt("ngModel",i.data.assignedTo),w(),D("ngForOf",i.projectMembers)}},dependencies:[ct,Ht,_t,se,ye,ke,ai,ri,Kr,Qr,Zr,Ce,we,Ne,So,ze,si,Ei,Ti,Si,ts,qm,Xm,Jr,Wr,Lt,ae,Ut,Yt],styles:['.edit-task-dialog[_ngcontent-%COMP%]{max-width:500px;width:100%}.dialog-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin-bottom:24px;color:#3f51b5;text-align:center}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.full-width[_ngcontent-%COMP%]{width:100%}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px}.half-width[_ngcontent-%COMP%]{width:calc(50% - 10px)}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:32px}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#f0f4ff;border-radius:8px;padding:.75em .75em 0}  .mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-label{color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{background-color:#e8eeff}  .mat-select-value-text{color:#3f51b5}  .mat-select-arrow{color:#3f51b5}  .mat-option{color:#3f51b5}  .mat-option:hover:not(.mat-option-disabled){background:#e8eeff}  .mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:#3f51b5;color:#fff}  .mat-calendar-body-selected{background-color:#3f51b5}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}button.mat-stroked-button.mat-warn[_ngcontent-%COMP%]{color:#f44336;border-color:#f44336}  .mat-option[ng-reflect-value=low]{color:#4caf50}  .mat-option[ng-reflect-value=medium]{color:#ff9800}  .mat-option[ng-reflect-value=high]{color:#f44336}  .mat-option[ng-reflect-value=critical]{color:#9c27b0}  .mat-option[ng-reflect-value="Not Started"]{color:#9e9e9e}  .mat-option[ng-reflect-value="In Progress"]{color:#2196f3}  .mat-option[ng-reflect-value=Stuck]{color:#f44336}  .mat-option[ng-reflect-value=Done]{color:#4caf50}']})};var xP=(n,e)=>({"text-purple-800":n,"text-red-600 font-bold":e});function yP(n,e){n&1&&(g(0,"div",8),Y(1,"mat-spinner",9),_())}function kP(n,e){if(n&1){let t=K();g(0,"div",77)(1,"button",78),N("click",function(){F(t);let o=A(3);return j(o.editTask())}),g(2,"mat-icon"),y(3,"edit"),_()(),g(4,"button",79),N("click",function(){F(t);let o=A(3);return j(o.deleteTask())}),g(5,"mat-icon"),y(6,"delete"),_()()()}}function wP(n,e){if(n&1){let t=K();g(0,"div",61)(1,"div",62)(2,"h1",63),y(3),_(),V(4,kP,7,0,"div",64),_(),g(5,"div",65)(6,"button",66)(7,"span",67),y(8),_(),g(9,"mat-icon",68),y(10,"arrow_drop_down"),_()(),g(11,"mat-menu",69,1)(13,"button",70),N("click",function(){F(t);let o=A(2);return j(o.updateTaskStatus("Not Started"))}),Y(14,"span",71),y(15," Not Started "),_(),g(16,"button",70),N("click",function(){F(t);let o=A(2);return j(o.updateTaskStatus("In Progress"))}),Y(17,"span",72),y(18," In Progress "),_(),g(19,"button",70),N("click",function(){F(t);let o=A(2);return j(o.updateTaskStatus("Stuck"))}),Y(20,"span",73),y(21," Stuck "),_(),g(22,"button",70),N("click",function(){F(t);let o=A(2);return j(o.updateTaskStatus("Done"))}),Y(23,"span",74),y(24," Done "),_()(),g(25,"span",75),y(26),_(),g(27,"span",76),y(28),_()()()}if(n&2){let t=qt(12),i=A(2);w(3),J(i.task==null?null:i.task.title),w(),D("ngIf",i.isProjectCreator),w(2),D("matMenuTriggerFor",t)("ngClass",i.getStatusClass(i.task.status)),w(2),J(i.task==null?null:i.task.status),w(17),D("ngClass",i.getPriorityClass(i.task.priority)),w(),U(" ",i.task==null?null:i.task.priority," "),w(2),U(" ",i.task==null?null:i.task.type," ")}}function CP(n,e){n&1&&(g(0,"div",80)(1,"mat-icon",81),y(2,"person_off"),_(),g(3,"p",68),y(4,"No members assigned to this task"),_()())}function SP(n,e){if(n&1){let t=K();g(0,"div",82),N("mouseenter",function(o){let a=F(t).$implicit,r=A(2);return j(r.showMemberInfo(o,a._id))})("mouseleave",function(){F(t);let o=A(2);return j(o.hideMemberInfo())}),Y(1,"img",83),g(2,"div",84)(3,"p",85),y(4),_(),g(5,"span",86),y(6),_()()()}if(n&2){let t=e.$implicit;w(),D("src","https://ui-avatars.com/api/?name="+(t.username||"User")+"&background=random",$e)("alt",t.username),w(3),U(" ",t.username," "),w(2),U(" ",t.status||"member"," ")}}function MP(n,e){n&1&&(g(0,"div",87),Y(1,"mat-spinner",9),g(2,"p",88),y(3,"Loading activity log..."),_()())}function DP(n,e){n&1&&(g(0,"div",89)(1,"mat-icon",90),y(2,"history"),_(),g(3,"p"),y(4,"No activity recorded yet"),_()())}function IP(n,e){if(n&1&&(g(0,"li")(1,"div",94)(2,"div",95)(3,"div",96),Y(4,"img",97),_(),g(5,"div",98)(6,"div")(7,"div",68)(8,"a",99),y(9),_()(),g(10,"div",100),y(11),de(12,"date"),_()(),g(13,"div",101),Y(14,"p",102),_()()()()()),n&2){let t=e.$implicit,i=A(3);w(4),D("src","https://ui-avatars.com/api/?name="+((t.performedBy==null?null:t.performedBy.username)||"User")+"&background=random",$e)("alt",(t.performedBy==null?null:t.performedBy.username)||"User"),w(5),J((t.performedBy==null?null:t.performedBy.username)||"Unknown User"),w(2),U(" ",wi(12,5,t.timestamp,"dd/MM/yyyy HH:mm")," "),w(3),D("innerHTML",i.formatActivityAction(t.action),Or)}}function PP(n,e){if(n&1&&(g(0,"div",91)(1,"ul",92),V(2,IP,15,8,"li",93),_()()),n&2){let t=A(2);w(2),D("ngForOf",t.activityLog)}}function TP(n,e){if(n&1){let t=K();g(0,"mat-paginator",103),N("page",function(o){F(t);let a=A(2);return j(a.onPageChange(o))}),_()}if(n&2){let t=A(2);D("length",t.totalLogs)("pageSize",5)("pageIndex",t.currentPage-1)}}function EP(n,e){n&1&&(g(0,"div",104)(1,"mat-icon",90),y(2,"chat_bubble_outline"),_(),g(3,"p"),y(4,"No comments yet. Be the first to comment!"),_()())}function OP(n,e){if(n&1){let t=K();g(0,"div",121)(1,"button",122)(2,"mat-icon",123),y(3,"more_vert"),_()(),g(4,"mat-menu",null,3)(6,"button",124),N("click",function(){F(t);let o=A().$implicit,a=A(2);return j(a.editComment(o))}),g(7,"mat-icon",125),y(8,"edit"),_(),g(9,"span"),y(10,"Edit"),_()(),g(11,"button",124),N("click",function(){F(t);let o=A().$implicit,a=A(2);return j(a.deleteComment(o))}),g(12,"mat-icon",126),y(13,"delete"),_(),g(14,"span"),y(15,"Delete"),_()()()()}if(n&2){let t=qt(5);w(),D("matMenuTriggerFor",t)}}function AP(n,e){if(n&1){let t=K();am(0),g(1,"mat-form-field",127)(2,"textarea",128,4),Ct("ngModelChange",function(o){F(t);let a=A(3);return wt(a.editCommentText,o)||(a.editCommentText=o),j(o)}),_(),g(4,"mat-hint",55),y(5),_()(),g(6,"div",129)(7,"button",130),N("click",function(){F(t);let o=A(3);return j(o.cancelEdit())}),y(8," Cancel "),_(),g(9,"button",131),N("click",function(){F(t);let o=A().$implicit,a=A(2);return j(a.saveEdit(o))}),y(10," Save "),_()(),rm()}if(n&2){let t=A(3);w(2),kt("ngModel",t.editCommentText),w(3),U("",t.editCommentText.length||0," / 1000"),w(4),D("disabled",!t.editCommentText.trim())}}function RP(n,e){if(n&1&&(g(0,"p",132),y(1),_()),n&2){let t=A().$implicit;w(),U(" ",t.content," ")}}function LP(n,e){if(n&1){let t=K();g(0,"div",135),N("click",function(){let o=F(t).$implicit,a=A(2).$implicit,r=A(2);return j(r.toggleReaction(a,o))}),g(1,"span"),y(2),_(),g(3,"span"),y(4),_()()}if(n&2){let t=e.$implicit,i=A(2).$implicit,o=A(2);ft("active",o.hasUserReacted(i,t)),w(2),J(t),w(2),J(o.getReactionCount(i,t))}}function FP(n,e){if(n&1&&(g(0,"div",133),V(1,LP,5,4,"div",134),_()),n&2){let t=A().$implicit,i=A(2);w(),D("ngForOf",i.getExistingReactionTypes(t))}}function jP(n,e){if(n&1){let t=K();g(0,"button",136),N("click",function(o){let a=F(t).$implicit,r=A().$implicit;return A(2).toggleReaction(r,a),j(o.stopPropagation())}),y(1),_()}if(n&2){let t=e.$implicit,i=A().$implicit,o=A(2);ft("active",o.hasUserReacted(i,t)),w(),U(" ",t," ")}}function NP(n,e){if(n&1&&(g(0,"div",105)(1,"div",106),Y(2,"img",107),g(3,"div",108)(4,"div",109)(5,"div")(6,"p",110),y(7),_(),g(8,"p",111),y(9),de(10,"date"),_()(),V(11,OP,16,1,"div",112),_(),V(12,AP,11,3,"ng-container",113)(13,RP,2,1,"ng-template",null,2,dm),_()(),g(15,"div",114)(16,"div",115),V(17,FP,2,1,"div",116),g(18,"div",117)(19,"button",118)(20,"mat-icon"),y(21,"add_reaction"),_()(),g(22,"div",119),V(23,jP,2,3,"button",120),_()()()()()),n&2){let t=e.$implicit,i=qt(14),o=A(2);w(2),D("src","https://ui-avatars.com/api/?name="+((t.author==null?null:t.author.username)||"User")+"&background=random",$e)("alt",(t.author==null?null:t.author.username)||"User"),w(5),U(" ",(t.author==null?null:t.author.username)||"Unknown User"," "),w(2),U(" ",wi(10,9,t.createdAt,"MMM d, y, h:mm a")," "),w(2),D("ngIf",o.isCommentAuthor(t)),w(),D("ngIf",o.editingCommentId===t._id)("ngIfElse",i),w(5),D("ngIf",o.hasAnyReactions(t)),w(6),D("ngForOf",o.reactionTypes)}}function zP(n,e){n&1&&(g(0,"div",137),Y(1,"mat-spinner",9),_())}function BP(n,e){if(n&1){let t=K();g(0,"div",10)(1,"button",11),N("click",function(){F(t);let o=A();return j(o.goBack())}),g(2,"mat-icon",12),y(3,"arrow_back"),_(),y(4," Back to Project "),_(),g(5,"div",13)(6,"div",14),V(7,wP,29,8,"div",15),g(8,"div",16)(9,"div",17)(10,"h2",18),y(11,"Description"),_(),g(12,"p",19),y(13),_()(),g(14,"div",20)(15,"h2",18),y(16,"Timeline"),_(),g(17,"div",21)(18,"div",22)(19,"div",23)(20,"mat-icon",24),y(21,"event"),_(),g(22,"span",25),y(23,"Start Date"),_()(),g(24,"p",26),y(25),de(26,"date"),_()(),g(27,"div",27)(28,"div",23)(29,"mat-icon",28),y(30,"event"),_(),g(31,"span",29),y(32,"End Date"),_()(),g(33,"p",30),y(34),de(35,"date"),_()(),g(36,"div",31)(37,"div",23)(38,"mat-icon",32),y(39,"timer"),_(),g(40,"span",33),y(41,"Remaining Time"),_()(),g(42,"p",34),y(43),_()()()(),g(44,"div",35)(45,"h2",36)(46,"mat-icon",37),y(47,"group"),_(),y(48," Assigned Members "),_(),g(49,"div",38),V(50,CP,5,0,"div",39),g(51,"div",40),V(52,SP,7,4,"div",41),_()()()(),g(53,"div",42)(54,"div",17)(55,"h2",43),y(56," Activity Log "),_(),V(57,MP,4,0,"div",44)(58,DP,5,0,"div",45)(59,PP,3,1,"div",46)(60,TP,1,3,"mat-paginator",47),_()()(),g(61,"div",48)(62,"div",49)(63,"div",17)(64,"h2",50)(65,"mat-icon",37),y(66,"chat"),_(),y(67," Comments "),_(),g(68,"form",51)(69,"mat-form-field",52)(70,"mat-label"),y(71,"Add a comment"),_(),g(72,"textarea",53,0),Ct("ngModelChange",function(o){F(t);let a=A();return wt(a.newComment,o)||(a.newComment=o),j(o)}),_(),g(74,"mat-hint",54)(75,"strong"),y(76,"Share your thoughts about this task"),_()(),g(77,"mat-hint",55),y(78),_()(),g(79,"button",56),N("click",function(){F(t);let o=A();return j(o.addComment())}),g(80,"mat-icon"),y(81,"send"),_(),y(82," Add Comment "),_()(),g(83,"div",57),V(84,EP,5,0,"div",58)(85,NP,24,12,"div",59),_(),V(86,zP,2,0,"div",60),_()()()()()}if(n&2){let t=qt(73),i=A();w(7),D("ngIf",i.task),w(6),J(i.task==null?null:i.task.description),w(12),U(" ",wi(26,19,i.task==null||i.task.timeline==null?null:i.task.timeline.start,"dd/MM/yyyy")," "),w(9),U(" ",wi(35,22,i.task==null||i.task.timeline==null?null:i.task.timeline.end,"dd/MM/yyyy")," "),w(8),D("ngClass",fo(25,xP,i.remainingTime!=="Overdue",i.remainingTime==="Overdue")),w(),U(" ",i.remainingTime," "),w(7),D("ngIf",!(!(i.task==null||i.task.assignedTo==null)&&i.task.assignedTo.length)),w(2),D("ngForOf",i.getAssignedMembers()),w(5),D("ngIf",i.isLoadingActivity),w(),D("ngIf",!i.isLoadingActivity&&(!i.activityLog||i.activityLog.length===0)),w(),D("ngIf",!i.isLoadingActivity&&i.activityLog&&i.activityLog.length>0),w(),D("ngIf",!i.isLoadingActivity&&i.activityLog&&i.activityLog.length>0),w(12),kt("ngModel",i.newComment),w(6),Ar("",t.value.length||0," / ",i.maxCommentLength,""),w(),D("disabled",!i.newComment.trim()),w(5),D("ngIf",i.comments.length===0),w(),D("ngForOf",i.comments),w(),D("ngIf",i.isLoadingComments)}}function VP(n,e){if(n&1&&(g(0,"div",138)(1,"div",106),Y(2,"img",139),g(3,"div",140)(4,"h3",141),y(5),_(),g(6,"p",142),y(7),_(),g(8,"p",143),y(9),_()()()()),n&2){let t,i,o,a,r,s=A();po("left",s.tooltipPosition.x,"px")("top",s.tooltipPosition.y,"px"),w(2),D("src","https://ui-avatars.com/api/?name="+(((t=s.getMemberDetails(s.hoveredMemberId))==null?null:t.username)||"User")+"&background=random",$e)("alt",(i=s.getMemberDetails(s.hoveredMemberId))==null?null:i.username),w(3),U(" ",(o=s.getMemberDetails(s.hoveredMemberId))==null?null:o.username," "),w(2),U(" ",((a=s.getMemberDetails(s.hoveredMemberId))==null?null:a.name)||"No name available"," "),w(2),U(" ",((r=s.getMemberDetails(s.hoveredMemberId))==null?null:r.email)||"No email available"," ")}}var yl=class n{constructor(e,t,i,o,a,r,s,c){this.route=e;this.router=t;this.projectService=i;this.dialog=o;this.authService=a;this.sanitizer=r;this.datePipe=s;this.cdr=c}task;projectId=null;taskId=null;projectMembers=[];isProjectCreator=!1;remainingTime="";alive=!0;activityLog=[];currentPage=1;totalPages=1;totalLogs=0;comments=[];newComment="";isLoadingComments=!1;maxCommentLength=1e3;editingCommentId=null;editCommentText="";isLoading=!1;hoveredMemberId=null;tooltipPosition={x:0,y:0};isLoadingActivity=!1;reactionTypes=["\u{1F44D}","\u{1F44E}","\u{1F604}","\u{1F389}","\u{1F615}","\u2764\uFE0F"];ngOnInit(){this.isLoading=!0,this.route.params.subscribe(e=>{this.projectId=e.projectId,this.taskId=e.taskId,this.projectId&&this.taskId&&(this.loadTaskDetails(),this.loadProjectMembers(),this.checkProjectCreator(),this.updateRemainingTime(),this.startRemainingTimeCounter(),this.loadActivityLog(),this.loadComments())})}ngOnDestroy(){this.alive=!1}loadTaskDetails(){this.projectId&&this.taskId&&(this.isLoading=!0,this.cdr.detectChanges(),this.projectService.getTaskDetails(this.projectId,this.taskId).pipe(fa(()=>{this.isLoading=!1,this.cdr.detectChanges()})).subscribe({next:e=>{this.task=e,this.updateRemainingTime(),this.startRemainingTimeCounter(),this.loadActivityLog()},error:e=>{console.error("Error loading task details:",e)}}))}loadActivityLog(e=this.currentPage){this.projectId&&this.taskId&&(this.isLoadingActivity=!0,this.cdr.detectChanges(),this.projectService.getTaskActivityLog(this.projectId,this.taskId,e).pipe(fa(()=>{this.isLoadingActivity=!1,this.cdr.detectChanges()})).subscribe({next:t=>{this.activityLog=t.logs,this.currentPage=t.currentPage,this.totalPages=t.totalPages,this.totalLogs=t.totalLogs},error:t=>{console.error("Error loading activity log:",t)}}))}onPageChange(e){this.currentPage=e.pageIndex+1,this.loadActivityLog(this.currentPage)}loadProjectMembers(){this.projectId&&this.projectService.getProjectDetails(this.projectId).subscribe({next:e=>{this.projectMembers=e.members,console.log("Loaded Project Members:",this.projectMembers)},error:e=>{console.error("Error loading project members:",e)}})}getStatusColor(e){switch(e){case"Not Started":return"gray";case"In Progress":return"blue";case"Stuck":return"red";case"Done":return"green";default:return"gray"}}getPriorityColor(e){switch(e){case"low":return"green";case"medium":return"orange";case"high":return"red";case"critical":return"purple";default:return"gray"}}formatDate(e){return new Date(e).toLocaleDateString()}deleteTask(){this.dialog.open(lc,{width:"250px",data:{title:"Confirm Delete",message:"Are you sure you want to delete this task?"}}).afterClosed().subscribe(t=>{t&&this.projectId&&this.taskId&&this.projectService.deleteTask(this.projectId,this.taskId).subscribe(()=>{this.router.navigate(["/projects",this.projectId])},i=>{console.error("Error deleting task:",i)})})}editTask(){this.dialog.open(xl,{width:"500px",data:Vn(Le({},this.task),{projectId:this.projectId})}).afterClosed().subscribe(t=>{t&&this.projectService.updateTask(this.projectId,this.taskId,t).subscribe(i=>{this.task=i,this.loadActivityLog()},i=>{console.error("Error updating task:",i)})})}getAssignedMemberNames(){return!this.task||!this.task.assignedTo||!Array.isArray(this.task.assignedTo)?"No members assigned":this.task.assignedTo.filter(e=>e!=null).map(e=>{if(typeof e=="object"&&e!==null&&e.username)return e.username;if(typeof e=="string"){let t=this.projectMembers.find(i=>i._id===e);return t?t.username:"Unknown"}return"Unknown"}).join(", ")}checkProjectCreator(){this.projectId&&this.projectService.getProjectDetails(this.projectId).subscribe({next:e=>{let t=this.authService.getCurrentUserId(),i=typeof e.createdBy=="object"?e.createdBy._id:e.createdBy;t?this.isProjectCreator=i.toString()===t.toString():this.isProjectCreator=!1},error:e=>{console.error("Error checking project creator:",e)}})}updateTaskStatus(e){this.projectId&&this.taskId&&this.task&&this.projectService.updateTaskStatus(this.projectId,this.taskId,e).subscribe(t=>{this.task.status=t.status,this.updateRemainingTime(),this.loadActivityLog(1)},t=>{console.error("Error updating task status:",t)})}getStatusClass(e){switch(e){case"Not Started":return"bg-gray-500 text-white";case"In Progress":return"bg-blue-500 text-white";case"Stuck":return"bg-red-500 text-white";case"Done":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}}getPriorityClass(e){switch(e){case"low":return"bg-green-500 text-white";case"medium":return"bg-yellow-500 text-white";case"high":return"bg-orange-500 text-white";case"critical":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}}updateRemainingTime(){if(this.task&&this.task.timeline&&this.task.timeline.end){let e=new Date(this.task.timeline.end),t=new Date,i=e.getTime()-t.getTime();if(i>0){let o=Math.floor(i/864e5),a=Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),r=Math.floor(i%(1e3*60*60)/(1e3*60));this.remainingTime=`${o}d ${a}h ${r}m`}else this.remainingTime="Overdue"}else this.remainingTime="No end date set"}startRemainingTimeCounter(){Sr(6e4).pipe(Uh(()=>this.alive)).subscribe(()=>{this.updateRemainingTime()})}formatActivityAction(e){return e?e.includes("timeline updated:")?this.sanitizer.bypassSecurityTrustHtml(e.replace(/(from\s)([^,\s]+)(\sto\s)([^,\s]+)/g,'$1<span class="text-red-500">$2</span>$3<span class="text-green-500">$4</span>')):e.includes("changed from")?this.sanitizer.bypassSecurityTrustHtml(e.replace(/(changed from\s")(.*?)("\sto\s")(.*?)(")/g,'$1<span class="text-red-500">$2</span>$3<span class="text-green-500">$4</span>$5')):e:""}formatDateIfNeeded(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)&&this.datePipe.transform(e,"dd/MM/yyyy")||e}goBack(){this.projectId?this.router.navigate(["/projects",this.projectId]):this.router.navigate(["/dashboard"])}loadComments(){this.projectId&&this.taskId&&(this.isLoadingComments=!0,this.projectService.getTaskComments(this.projectId,this.taskId).subscribe(e=>{this.comments=e,this.isLoadingComments=!1},e=>{console.error("Error loading comments:",e),this.isLoadingComments=!1}))}addComment(){if(this.projectId&&this.taskId&&this.newComment?.trim()){let e=this.newComment.trim();this.newComment="",this.projectService.addTaskComment(this.projectId,this.taskId,{content:e}).subscribe(t=>{this.comments.unshift(t),this.loadActivityLog()},t=>{console.error("Error adding comment:",t),this.newComment=e})}}isCommentAuthor(e){return e.author?._id===this.authService.getCurrentUserId()}editComment(e){this.editingCommentId=e._id,this.editCommentText=e.content}cancelEdit(){this.editingCommentId=null,this.editCommentText=""}saveEdit(e){this.editCommentText?.trim()&&this.projectService.updateTaskComment(this.projectId,this.taskId,e._id,{content:this.editCommentText.trim()}).subscribe(t=>{let i=this.comments.findIndex(o=>o._id===e._id);i!==-1&&(this.comments[i]=t),this.cancelEdit()},t=>{console.error("Error updating comment:",t)})}deleteComment(e){this.dialog.open(lc,{width:"300px",data:{title:"Delete Comment",message:"Are you sure you want to delete this comment?"}}).afterClosed().subscribe(i=>{i&&this.projectService.deleteTaskComment(this.projectId,this.taskId,e._id).subscribe(()=>{this.comments=this.comments.filter(o=>o._id!==e._id)},o=>{console.error("Error deleting comment:",o)})})}getAssignedMembers(){return!this.task?.assignedTo||!Array.isArray(this.task.assignedTo)?[]:this.task.assignedTo.filter(e=>e!=null).map(e=>typeof e=="object"&&e!==null&&e.username?e:typeof e=="string"?this.projectMembers.find(i=>i._id===e)||{_id:e,username:"Unknown User",email:"",name:"",status:"unknown"}:{username:"Unknown User",email:"",name:"",status:"unknown"})}getMemberDetails(e){if(!e)return null;let t=this.projectMembers.find(i=>i._id===e);return t?{_id:t._id,username:t.username,email:t.email||"No email available",name:t.name||"No name available"}:null}showMemberInfo(e,t){this.hoveredMemberId=t;let i=10,o=e.clientX+i,a=e.clientY+i,r=288,s=200,c=window.innerWidth,h=window.innerHeight;o+r>c&&(o=e.clientX-r-i),a+s>h&&(a=e.clientY-s-i),this.tooltipPosition={x:o,y:a}}hideMemberInfo(){this.hoveredMemberId=null}getReactionIcon(e){return e}hasUserReacted(e,t){let i=this.authService.getCurrentUserId();return e.reactions?.some(o=>o.user._id===i&&o.type===t)||!1}getReactionCount(e,t){return e.reactions?.filter(i=>i.type===t).length||0}toggleReaction(e,t){if(!this.projectId||!this.taskId)return;let i=this.authService.getCurrentUserId();e.reactions?.find(a=>a.user._id===i&&a.type===t)?e.reactions=e.reactions.filter(a=>!(a.user._id===i&&a.type===t)):(e.reactions||(e.reactions=[]),e.reactions.push({type:t,user:{_id:i}})),this.projectService.toggleCommentReaction(this.projectId,this.taskId,e._id,t).subscribe(a=>{let r=this.comments.findIndex(s=>s._id===e._id);r!==-1&&(this.comments[r]=a)},a=>{console.error("Error toggling reaction:",a),this.loadComments()})}hasAnyReactions(e){return e.reactions?.length>0}getExistingReactionTypes(e){return e.reactions?Array.from(new Set(e.reactions.map(t=>t.type))):[]}getTotalReactions(e){return e.reactions?.length||0}static \u0275fac=function(t){return new(t||n)(P(go),P(Wt),P(Be),P(Co),P(Zt),P(jr),P(oi),P(ee))};static \u0275cmp=Z({type:n,selectors:[["app-task-details"]],standalone:!0,features:[Xt([oi]),Q],decls:3,vars:3,consts:[["commentInput",""],["statusMenu","matMenu"],["displayComment",""],["commentMenu","matMenu"],["editInput","ngModel"],["class","flex justify-center items-center min-h-screen",4,"ngIf"],["class","max-w-7xl mx-auto p-6 relative",4,"ngIf"],["class","fixed z-[1000] bg-white rounded-lg shadow-xl p-4 w-72 border border-gray-200",3,"left","top",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen"],["diameter","40"],[1,"max-w-7xl","mx-auto","p-6","relative"],["mat-button","",1,"mb-4","flex","items-center","text-gray-600","hover:text-gray-800",3,"click"],[1,"mr-2"],[1,"flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-2/3","lg:flex-shrink-0","lg:basis-2/3"],["class","mb-8",4,"ngIf"],[1,"bg-white","shadow","rounded-lg","overflow-hidden","mb-8"],[1,"p-6"],[1,"text-xl","font-semibold","text-gray-800","mb-4"],[1,"text-gray-600"],[1,"border-t","border-gray-200","p-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-blue-50","p-4","rounded-lg"],[1,"flex","items-center","mb-2"],[1,"text-blue-500","mr-2"],[1,"font-semibold","text-blue-700"],[1,"text-blue-800"],[1,"bg-green-50","p-4","rounded-lg"],[1,"text-green-500","mr-2"],[1,"font-semibold","text-green-700"],[1,"text-green-800"],[1,"bg-purple-50","p-4","rounded-lg"],[1,"text-purple-500","mr-2"],[1,"font-semibold","text-purple-700"],[3,"ngClass"],[1,"border-t","border-gray-200","p-6","overflow-visible"],[1,"text-xl","font-semibold","text-gray-800","mb-3","flex","items-center"],[1,"mr-2","text-gray-600"],[1,"overflow-visible"],["class","text-center text-gray-500 py-3",4,"ngIf"],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-2","relative","overflow-visible"],["class","flex items-center p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200 relative",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"bg-white","shadow","rounded-lg","overflow-hidden"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],["class","flex flex-col items-center justify-center py-8",4,"ngIf"],["class","flex flex-col items-center justify-center py-8 text-gray-500",4,"ngIf"],["class","flow-root",4,"ngIf"],["aria-label","Select page of activity logs",3,"length","pageSize","pageIndex","page",4,"ngIf"],[1,"lg:w-1/3","lg:flex-shrink-0","lg:basis-1/3"],[1,"bg-white","shadow","rounded-lg","overflow-hidden","lg:sticky","lg:top-6"],[1,"text-xl","font-semibold","text-gray-800","mb-4","flex","items-center"],[1,"comment-form","mb-6"],[1,"comment-full-width"],["matInput","","name","comment","maxlength","1000","rows","3","placeholder","Write your comment here...",1,"resize-none",3,"ngModelChange","ngModel"],["align","start"],["align","end"],["mat-raised-button","","color","primary",1,"w-full","mt-3","flex","items-center","justify-center","gap-2",3,"click","disabled"],[1,"space-y-4","max-h-[calc(100vh-300px)]","overflow-y-auto","custom-scrollbar"],["class","text-center text-gray-500 py-4",4,"ngIf"],["class","border-b border-gray-200 last:border-0 pb-4 hover:bg-gray-50 transition-colors duration-200 p-3 rounded-lg",4,"ngFor","ngForOf"],["class","flex justify-center items-center py-4",4,"ngIf"],[1,"mb-8"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-3xl","font-bold","text-gray-800"],["class","flex space-x-2",4,"ngIf"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","rounded-full","text-sm","font-medium","flex","items-center","transition-colors","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"matMenuTriggerFor","ngClass"],[1,"mr-1"],[1,"text-sm"],[1,"custom-menu"],["mat-menu-item","",1,"flex","items-center",3,"click"],[1,"w-3","h-3","rounded-full","bg-gray-500","mr-2"],[1,"w-3","h-3","rounded-full","bg-blue-500","mr-2"],[1,"w-3","h-3","rounded-full","bg-red-500","mr-2"],[1,"w-3","h-3","rounded-full","bg-green-500","mr-2"],[1,"px-3","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"bg-gray-200","text-gray-800","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"flex","space-x-2"],["mat-icon-button","","color","primary",1,"bg-blue-100","hover:bg-blue-200","text-blue-700","p-2","rounded-full",3,"click"],["mat-icon-button","","color","warn",1,"bg-red-100","hover:bg-red-200","text-red-700","p-2","rounded-full",3,"click"],[1,"text-center","text-gray-500","py-3"],[1,"text-3xl","mb-1"],[1,"flex","items-center","p-2","bg-gray-50","rounded-lg","hover:bg-gray-100","transition-colors","duration-200","relative",3,"mouseenter","mouseleave"],[1,"w-8","h-8","rounded-full","shadow-sm",3,"src","alt"],[1,"ml-2","min-w-0","flex-1"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"inline-block","text-xs","text-gray-500","truncate"],[1,"flex","flex-col","items-center","justify-center","py-8"],[1,"mt-4","text-gray-600"],[1,"flex","flex-col","items-center","justify-center","py-8","text-gray-500"],[1,"text-4xl","mb-2"],[1,"flow-root"],["role","list",1,"-mb-8"],[4,"ngFor","ngForOf"],[1,"relative","pb-8"],[1,"relative","flex","items-start","space-x-3"],[1,"relative"],[1,"h-10","w-10","rounded-full","bg-gray-400","flex","items-center","justify-center","ring-8","ring-white",3,"src","alt"],[1,"min-w-0","flex-1"],["href","#",1,"font-medium","text-gray-900"],[1,"mt-0.5","text-sm","text-gray-500"],[1,"mt-2","text-sm","text-gray-700"],[1,"text-sm","text-gray-600",3,"innerHTML"],["aria-label","Select page of activity logs",3,"page","length","pageSize","pageIndex"],[1,"text-center","text-gray-500","py-4"],[1,"border-b","border-gray-200","last:border-0","pb-4","hover:bg-gray-50","transition-colors","duration-200","p-3","rounded-lg"],[1,"flex","items-start","space-x-3"],[1,"w-10","h-10","rounded-full","shadow-sm",3,"src","alt"],[1,"flex-1","min-w-0"],[1,"flex","justify-between","items-start"],[1,"font-medium","text-sm","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],["class","flex space-x-1",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"comment-container","relative"],[1,"mt-2"],["class","reactions-summary",4,"ngIf"],[1,"reaction-trigger"],["mat-icon-button","",1,"text-gray-500","hover:text-gray-700"],[1,"reaction-bubble"],["class","reaction-bubble-button",3,"active","click",4,"ngFor","ngForOf"],[1,"flex","space-x-1"],["mat-icon-button","",1,"w-8","h-8","text-gray-500","hover:text-gray-700",3,"matMenuTriggerFor"],[1,"text-lg"],["mat-menu-item","",3,"click"],[1,"text-blue-600"],[1,"text-red-600"],[1,"w-full","mt-2"],["matInput","","maxlength","1000","rows","2",1,"resize-none",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-2","mt-2"],["mat-button","",1,"text-gray-600",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"text-sm","text-gray-600","mt-1","break-words","whitespace-pre-wrap","max-w-full","overflow-hidden"],[1,"reactions-summary"],["class","reaction-pill",3,"active","click",4,"ngFor","ngForOf"],[1,"reaction-pill",3,"click"],[1,"reaction-bubble-button",3,"click"],[1,"flex","justify-center","items-center","py-4"],[1,"fixed","z-[1000]","bg-white","rounded-lg","shadow-xl","p-4","w-72","border","border-gray-200"],[1,"w-12","h-12","rounded-full","shadow",3,"src","alt"],[1,"flex-1"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-500","mt-1"],[1,"text-sm","text-gray-500"]],template:function(t,i){t&1&&V(0,yP,2,0,"div",5)(1,BP,87,28,"div",6)(2,VP,10,9,"div",7),t&2&&(D("ngIf",i.isLoading),w(),D("ngIf",!i.isLoading),w(),D("ngIf",i.hoveredMemberId))},dependencies:[ct,ve,Ht,_t,oi,ia,_l,Ut,Yt,Lt,ae,je,ri,Mi,un,yo,fn,cs,Ia,Ce,we,Ne,Um,ze,si,se,Ii,ye,ke,Di,Hm,ai,ko,re,xe],styles:['[_nghost-%COMP%]{display:block;width:100%;overflow:visible}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.mat-mdc-form-field[_ngcontent-%COMP%] + .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:8px}.custom-scrollbar[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5) transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#9ca3afb3}.comment-text[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word;hyphens:auto;max-width:100%}.comment-container[_ngcontent-%COMP%]{max-width:100%;min-width:0;width:100%;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.fixed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out}.fixed[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:#ffffffb3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:inherit;z-index:-1}@keyframes _ngcontent-%COMP%_tooltipFadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.overflow-visible[_ngcontent-%COMP%]{overflow:visible!important}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute;z-index:1000}.reaction-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;min-width:32px;height:32px;padding:4px 8px;border:none;background:transparent;cursor:pointer;font-size:16px;line-height:1;opacity:.6;transition:all .2s ease;border-radius:16px}.reaction-button[_ngcontent-%COMP%]:hover, .reaction-button.active[_ngcontent-%COMP%]{opacity:1;background:#f3f4f6}.reaction-emoji[_ngcontent-%COMP%]{font-size:16px}.reaction-count[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500}.total-reactions[_ngcontent-%COMP%]{margin-bottom:8px;padding:4px 8px;background:#f9fafb;border-radius:16px;display:inline-block}.existing-reactions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.reaction-group[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f3f4f6;padding:2px 8px;border-radius:12px;font-size:14px}.comment-reactions[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s ease-in-out}.comment-container[_ngcontent-%COMP%]:hover   .comment-reactions[_ngcontent-%COMP%]{opacity:1}.reaction-bubble[_ngcontent-%COMP%]{position:absolute;left:100%;top:50%;transform:translateY(-50%) translate(8px);background:#fff;border:1px solid #e5e7eb;border-radius:24px;padding:4px;box-shadow:0 4px 6px -1px #0000001a;display:flex;gap:4px;opacity:0;visibility:hidden;transition:all .2s ease;z-index:10}.reaction-trigger[_ngcontent-%COMP%]{position:relative;display:inline-block}.reaction-trigger[_ngcontent-%COMP%]:hover   .reaction-bubble[_ngcontent-%COMP%]{opacity:1;visibility:visible}.reaction-bubble-button[_ngcontent-%COMP%]{padding:6px;border-radius:50%;border:none;background:transparent;cursor:pointer;transition:transform .2s ease;font-size:16px;line-height:1}.reaction-bubble-button[_ngcontent-%COMP%]:hover{transform:scale(1.2);background:#f3f4f6}.reactions-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px;margin-top:4px}.reaction-pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:2px 8px;background:#f3f4f6;border-radius:12px;font-size:12px;color:#4b5563}.reaction-pill.active[_ngcontent-%COMP%]{background:#e0e7ff;color:#4f46e5}']})};var HP=()=>({"text-primary":!0}),WP=n=>({"rotate-180":n}),YP=(n,e)=>["/projects",n,"tasks",e];function UP(n,e){n&1&&(g(0,"div",4),Y(1,"mat-spinner",5),_())}function GP(n,e){if(n&1&&(g(0,"mat-option",25)(1,"div",17),y(2),_()()),n&2){let t=e.$implicit;D("value",t.value),w(2),U(" ",t.label," ")}}function $P(n,e){if(n&1){let t=K();g(0,"mat-card",31)(1,"div",32)(2,"mat-card-header",33)(3,"mat-card-title",34),y(4),_()(),g(5,"button",35)(6,"mat-icon",36),y(7,"visibility"),_()()(),g(8,"mat-card-content",37)(9,"p",38),y(10),_()(),g(11,"div",39)(12,"div",40)(13,"button",41)(14,"span",42),y(15),_(),g(16,"mat-icon",43),y(17,"arrow_drop_down"),_()(),g(18,"mat-menu",44,0)(20,"button",45),N("click",function(){let o=F(t).$implicit,a=A().$implicit,r=A(2);return j(r.updateTaskStatus(a,o._id,"Not Started"))}),Y(21,"span",46),y(22," Not Started "),_(),g(23,"button",45),N("click",function(){let o=F(t).$implicit,a=A().$implicit,r=A(2);return j(r.updateTaskStatus(a,o._id,"In Progress"))}),Y(24,"span",47),y(25," In Progress "),_(),g(26,"button",45),N("click",function(){let o=F(t).$implicit,a=A().$implicit,r=A(2);return j(r.updateTaskStatus(a,o._id,"Stuck"))}),Y(27,"span",48),y(28," Stuck "),_(),g(29,"button",45),N("click",function(){let o=F(t).$implicit,a=A().$implicit,r=A(2);return j(r.updateTaskStatus(a,o._id,"Done"))}),Y(30,"span",49),y(31," Done "),_()(),g(32,"span",50),y(33),_()()()()}if(n&2){let t=e.$implicit,i=qt(19),o=A(3);w(4),J(t.title),w(),D("routerLink",fo(8,YP,t.projectId,t._id)),w(5),J(t.description),w(3),D("matMenuTriggerFor",i)("ngClass",o.getStatusClass(t.status)),w(2),J(t.status),w(17),D("ngClass",o.getPriorityClass(t.priority)),w(),U(" ",t.priority," ")}}function qP(n,e){if(n&1&&(g(0,"mat-expansion-panel",26)(1,"mat-expansion-panel-header",27)(2,"mat-panel-title",28),y(3),_()(),g(4,"div",29),V(5,$P,34,11,"mat-card",30),_()()),n&2){let t=e.$implicit,i=A(2);D("expanded",!0),w(3),U(" ",i.tasksByProject[t].projectName," "),w(2),D("ngForOf",i.tasksByProject[t].tasks)}}function XP(n,e){if(n&1){let t=K();g(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2",9),y(4," Tasks Assigned to You "),_(),g(5,"div",10)(6,"mat-form-field",11)(7,"mat-label"),y(8,"Sort by"),_(),g(9,"mat-select",12),N("selectionChange",function(o){F(t);let a=A();return j(a.onSortChange(o))}),V(10,GP,3,2,"mat-option",13),_()(),g(11,"button",14),N("click",function(){F(t);let o=A();return j(o.toggleSortDirection())}),g(12,"mat-icon",15),y(13," sort "),_()()()(),g(14,"div",16)(15,"div",17)(16,"mat-icon",18),y(17,"assignment"),_(),g(18,"span"),y(19),_()(),g(20,"div",17)(21,"mat-icon",19),y(22,"check_circle"),_(),g(23,"span"),y(24),_()(),g(25,"div",17)(26,"mat-icon",20),y(27,"cancel"),_(),g(28,"span"),y(29),_()(),g(30,"div",17)(31,"mat-icon",21),y(32,"pending"),_(),g(33,"span"),y(34),_()(),g(35,"div",17)(36,"mat-icon",22),y(37,"not_started"),_(),g(38,"span"),y(39),_()()()(),g(40,"mat-accordion",23),V(41,qP,6,3,"mat-expansion-panel",24),_()()}if(n&2){let t=A();w(9),D("value",t.sortBy),w(),D("ngForOf",t.sortOptions),w(),D("matTooltip","Sort "+(t.sortDirection==="asc"?"Ascending":"Descending"))("ngClass",Rr(11,HP)),w(),D("ngClass",uo(12,WP,t.sortDirection==="desc")),w(7),U("Total Tasks: ",t.getTotalTasks(),""),w(5),U("Completed: ",t.getCompletedTasks(),""),w(5),U("Stuck: ",t.getStuckTasks(),""),w(5),U("In Progress: ",t.getInProgressTasks(),""),w(5),U("Not Started: ",t.getNotStartedTasks(),""),w(2),D("ngForOf",t.objectKeys(t.tasksByProject))}}var kl=class n{constructor(e){this.projectService=e}tasksByProject={};statuses=["Not Started","In Progress","Stuck","Done"];priorities=["Critical","High","Medium","Low"];sortBy="status";sortDirection="asc";sortOptions=[{value:"status",label:"Status",icon:"list_alt"},{value:"priority",label:"Priority",icon:"priority_high"},{value:"title",label:"Title",icon:"sort_by_alpha"}];isLoading=!1;isUpdatingTask=null;ngOnInit(){this.loadAssignedTasks()}loadAssignedTasks(){this.isLoading=!0,this.projectService.getAssignedTasks().subscribe({next:e=>{this.organizeTasksByProject(e),this.sortTasks(),this.isLoading=!1},error:e=>{console.error("Error loading assigned tasks:",e),this.isLoading=!1}})}organizeTasksByProject(e){this.tasksByProject=e.reduce((t,i)=>(t[i.projectId]||(t[i.projectId]={projectName:i.projectName,tasks:[]}),t[i.projectId].tasks.push(i),t),{})}sortTasks(){Object.values(this.tasksByProject).forEach(e=>{e.tasks.sort((t,i)=>{let o=0;switch(this.sortBy){case"status":o=this.compareStatus(t.status,i.status);break;case"priority":o=this.comparePriority(t.priority,i.priority);break;case"title":o=t.title.localeCompare(i.title);break}return this.sortDirection==="asc"?o:-o})})}compareStatus(e,t){let i={"Not Started":0,"In Progress":1,Stuck:2,Done:3};return(i[e]??0)-(i[t]??0)}comparePriority(e,t){let i={critical:0,high:1,medium:2,low:3},o=e.toLowerCase(),a=t.toLowerCase();return(i[o]??999)-(i[a]??999)}onSortChange(e){this.sortBy=e.value,this.sortTasks()}toggleSortDirection(){this.sortDirection=this.sortDirection==="asc"?"desc":"asc",this.sortTasks()}get objectKeys(){return Object.keys}updateTaskStatus(e,t,i){this.isUpdatingTask=t,this.projectService.updateTaskStatus(e,t,i).subscribe({next:o=>{let a=this.tasksByProject[e].tasks.find(r=>r._id===t);a&&(a.status=i),this.isUpdatingTask=null},error:o=>{console.error("Error updating task status:",o),this.isUpdatingTask=null}})}getStatusClass(e){switch(e){case"Not Started":return"bg-gray-500 text-white";case"In Progress":return"bg-blue-500 text-white";case"Stuck":return"bg-red-500 text-white";case"Done":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}}getPriorityClass(e){switch(e.toLowerCase()){case"low":return"bg-green-500 text-white";case"medium":return"bg-yellow-500 text-white";case"high":return"bg-orange-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}}getSortIcon(e){return{status:"list_alt",priority:"priority_high",title:"sort_by_alpha"}[e]||"sort"}getTotalTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.length,0)}getCompletedTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.filter(i=>i.status==="Done").length,0)}getStuckTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.filter(i=>i.status==="Stuck").length,0)}getInProgressTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.filter(i=>i.status==="In Progress").length,0)}getNotStartedTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.filter(i=>i.status==="Not Started").length,0)}static \u0275fac=function(t){return new(t||n)(P(Be))};static \u0275cmp=Z({type:n,selectors:[["app-assigned-tasks"]],standalone:!0,features:[Q],decls:3,vars:2,consts:[["statusMenu","matMenu"],[1,"content","max-w-6xl","mx-auto","p-2","sm:p-4","md:p-6"],["class","flex justify-center items-center min-h-[calc(100vh-64px)]",4,"ngIf"],["class","container mx-auto px-4 py-8",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-[calc(100vh-64px)]"],["diameter","40"],[1,"container","mx-auto","px-4","py-8"],[1,"bg-white","rounded-lg","shadow-sm","p-4","mb-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-xl","sm:text-2xl","md:text-3xl","font-bold","text-gray-800"],[1,"flex","items-center","gap-3","w-full","sm:w-auto"],["appearance","fill",1,"w-full","sm:w-48","sorting-field"],["panelClass","sort-select-panel",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","",1,"sort-direction-btn",3,"click","matTooltip","ngClass"],[1,"transform","transition-transform","duration-200",3,"ngClass"],[1,"mt-4","flex","flex-wrap","gap-4","text-sm","text-gray-600"],[1,"flex","items-center","gap-2"],[1,"text-gray-400"],[1,"text-green-500"],[1,"text-red-500"],[1,"text-blue-500"],[1,"text-gray-500"],["multi",""],["class","mb-3 sm:mb-4",3,"expanded",4,"ngFor","ngForOf"],[3,"value"],[1,"mb-3","sm:mb-4",3,"expanded"],[1,"bg-gray-100"],[1,"project-title","text-sm","sm:text-base","md:text-lg","font-semibold","text-gray-800","truncate"],[1,"task-list","grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-3","sm:gap-4","md:gap-6","mt-3","sm:mt-4","md:mt-6"],["class","task-card flex flex-col h-full",4,"ngFor","ngForOf"],[1,"task-card","flex","flex-col","h-full"],[1,"flex","justify-between","items-start","mb-2"],[1,"p-0"],[1,"text-base","sm:text-lg","md:text-xl","font-semibold"],["mat-icon-button","","aria-label","View task details",1,"text-blue-600","hover:text-blue-800","transition-colors","duration-200","-mt-2","-mr-2",3,"routerLink"],[1,"text-sm","sm:text-base","md:text-lg"],[1,"flex-grow","mb-2","sm:mb-3"],[1,"text-xs","sm:text-sm","md:text-base","text-gray-600"],[1,"task-details","mt-auto"],[1,"flex","items-center","justify-between"],[1,"px-3","py-1","rounded-tl-full","rounded-bl-full","text-xs","sm:text-sm","font-medium","flex","items-center","transition-colors","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"matMenuTriggerFor","ngClass"],[1,"mr-1"],[1,"text-xs","sm:text-sm"],[1,"custom-menu"],["mat-menu-item","",1,"flex","items-center",3,"click"],[1,"w-3","h-3","rounded-full","bg-gray-500","mr-3"],[1,"w-3","h-3","rounded-full","bg-blue-500","mr-3"],[1,"w-3","h-3","rounded-full","bg-red-500","mr-3"],[1,"w-3","h-3","rounded-full","bg-green-500","mr-3"],[1,"px-3","py-2","sm:py-1.5","rounded-tr-full","rounded-br-full","text-xs","sm:text-sm","font-medium",3,"ngClass"]],template:function(t,i){t&1&&(g(0,"div",1),V(1,UP,2,0,"div",2)(2,XP,42,14,"div",3),_()),t&2&&(w(),D("ngIf",i.isLoading),w(),D("ngIf",!i.isLoading))},dependencies:[ct,ve,Ht,_t,gn,Ut,Yt,ia,T0,O0,A0,E0,Lt,je,ns,fp,uc,fc,up,Ei,we,Ne,Ti,Si,Ce,se,Fe,Ci,Mi,un,yo,fn,ss,rs,re,xe],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:250px}.content[_ngcontent-%COMP%]{padding:20px}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.task-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px}.task-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1.5rem}.task-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding:0;margin-bottom:1rem}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;margin-bottom:1.5rem}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-height:4.5em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.task-card[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0000004d}.task-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.status[_ngcontent-%COMP%], .priority[_ngcontent-%COMP%]{padding:5px 10px;border-radius:15px;font-size:12px;font-weight:700}.not-started[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#333}.in-progress[_ngcontent-%COMP%]{background-color:#fff176;color:#333}.stuck[_ngcontent-%COMP%]{background-color:#ef5350;color:#fff}.done[_ngcontent-%COMP%]{background-color:#66bb6a;color:#fff}.low[_ngcontent-%COMP%]{background-color:#81c784;color:#fff}.medium[_ngcontent-%COMP%]{background-color:#ffd54f;color:#333}.high[_ngcontent-%COMP%]{background-color:#ff8a65;color:#fff}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:16px}mat-form-field[_ngcontent-%COMP%]{width:120px}.task-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;margin-right:0}  .mat-expansion-panel-header{padding:0 16px;min-height:48px;height:auto!important}  .mat-expansion-panel-header-title,   .mat-expansion-panel-header-description{margin-right:0;align-items:center}.project-title[_ngcontent-%COMP%]{flex:1;white-space:normal;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}  .mat-expansion-panel-body{padding:0 16px 16px}  .mat-card{padding:12px}  .mat-card-header{margin-bottom:8px}  .mat-card-content{margin-bottom:8px}@media (max-width: 640px){  .mat-expansion-panel-header{padding:0 12px;min-height:40px}.project-title[_ngcontent-%COMP%]{-webkit-line-clamp:1}  .mat-expansion-panel-body{padding:0 12px 12px}  .mat-card{padding:10px}  .mat-card-header{margin-bottom:6px}  .mat-card-content{margin-bottom:6px}}@media (max-width: 320px){  .mat-expansion-panel-header{padding:0 8px}  .mat-expansion-panel-body{padding:0 8px 8px}  .mat-card{padding:8px}  .mat-card-header{margin-bottom:4px}  .mat-card-content{margin-bottom:4px}}.sort-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}mat-form-field.sort-select[_ngcontent-%COMP%]{width:120px}@media (max-width: 640px){.sort-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}mat-form-field.sort-select[_ngcontent-%COMP%]{width:100%}}"]})};var F0={production:!0,apiUrl:"https://planify-app-backend.vercel.app",googleClientId:"1050818393271-h7sovbi2l89odsg348ik697814lrv3hm.apps.googleusercontent.com",serverUrl:"https://planify-app-backend.vercel.app"};var wl=class n{constructor(e){this.http=e}apiUrl=`${F0.apiUrl}/api`;searchProjectsAndTasks(e,t,i,o){let a=`${this.apiUrl}/search?term=${e}`;return t&&(a+=`&status=${t}`),i&&(a+=`&priority=${i}`),o&&(a+=`&type=${o}`),this.http.get(a)}static \u0275fac=function(t){return new(t||n)(le(mm))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})};var ZP=(n,e,t,i)=>({"bg-gray-400":n,"bg-blue-400":e,"bg-red-400":t,"bg-green-400":i}),QP=(n,e,t,i,o)=>({"text-gray-400":n,"text-green-400":e,"text-yellow-400":t,"text-orange-400":i,"text-red-400":o}),JP=(n,e,t,i)=>({"bg-gray-100 text-gray-600":n,"bg-blue-100 text-blue-600":e,"bg-red-100 text-red-600":t,"bg-green-100 text-green-600":i}),t2=(n,e,t,i,o)=>({"bg-gray-100 text-gray-600":n,"bg-green-100 text-green-600":e,"bg-yellow-100 text-yellow-600":t,"bg-orange-100 text-orange-600":i,"bg-red-100 text-red-600":o});function e2(n,e){if(n&1&&(g(0,"mat-option",26)(1,"div",27),Y(2,"span",28),y(3),_()()),n&2){let t=e.$implicit;D("value",t),w(2),D("ngClass",nc(3,ZP,t==="Not Started",t==="In Progress",t==="Stuck",t==="Done")),w(),U(" ",t," ")}}function i2(n,e){if(n&1&&(g(0,"mat-option",26)(1,"div",27)(2,"mat-icon",29),y(3),_(),y(4),de(5,"titlecase"),_()()),n&2){let t=e.$implicit;D("value",t),w(3),J(t==="task"?"task_alt":"bug_report"),w(),U(" ",mn(5,3,t)," ")}}function n2(n,e){if(n&1&&(g(0,"mat-option",26)(1,"div",27)(2,"mat-icon",30),y(3),_(),y(4),de(5,"titlecase"),_()()),n&2){let t=e.$implicit;D("value",t),w(2),D("ngClass",oc(6,QP,t==="none",t==="low",t==="medium",t==="high",t==="critical")),w(),J(t==="none"?"remove":"priority_high"),w(),U(" ",mn(5,4,t)," ")}}function o2(n,e){if(n&1&&(g(0,"div",18)(1,"div",19)(2,"mat-form-field",20)(3,"mat-label"),y(4,"Status"),_(),g(5,"mat-select",21)(6,"mat-option",22),y(7,"All Statuses"),_(),V(8,e2,4,8,"mat-option",23),_(),g(9,"mat-icon",9),y(10,"flag"),_()(),g(11,"mat-form-field",20)(12,"mat-label"),y(13,"Type"),_(),g(14,"mat-select",24)(15,"mat-option",22),y(16,"All Types"),_(),V(17,i2,6,5,"mat-option",23),_(),g(18,"mat-icon",9),y(19,"category"),_()(),g(20,"mat-form-field",20)(21,"mat-label"),y(22,"Priority"),_(),g(23,"mat-select",25)(24,"mat-option",22),y(25,"All Priorities"),_(),V(26,n2,6,12,"mat-option",23),_(),g(27,"mat-icon",9),y(28,"priority_high"),_()()()()),n&2){let t=A();D("@slideInOut",t.isFiltersVisible),w(8),D("ngForOf",t.statusOptions),w(9),D("ngForOf",t.typeOptions),w(9),D("ngForOf",t.priorityOptions)}}function a2(n,e){n&1&&(g(0,"div",31),Y(1,"mat-spinner",32),_())}function r2(n,e){if(n&1&&(g(0,"div",33)(1,"h3",34),y(2),_(),g(3,"div",35),y(4," Showing all matches "),_()()),n&2){let t=A();w(2),U(" Results (",t.searchResults.length,") ")}}function s2(n,e){if(n&1&&(g(0,"span",47),y(1),_()),n&2){let t=A().$implicit;D("ngClass",nc(2,JP,t.status==="Not Started",t.status==="In Progress",t.status==="Stuck",t.status==="Done")),w(),U(" ",t.status," ")}}function l2(n,e){if(n&1&&(g(0,"span",47),y(1),de(2,"titlecase"),_()),n&2){let t=A().$implicit;D("ngClass",oc(4,t2,t.priority==="none",t.priority==="low",t.priority==="medium",t.priority==="high",t.priority==="critical")),w(),U(" ",mn(2,2,t.priority)," ")}}function c2(n,e){if(n&1){let t=K();g(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"mat-icon",40),y(5),_(),g(6,"h3",41),y(7),_()(),g(8,"p",42),y(9),_(),g(10,"div",43),V(11,s2,2,7,"span",44)(12,l2,3,10,"span",44),g(13,"span",45),y(14),de(15,"titlecase"),_()()(),g(16,"button",46),N("click",function(){let o=F(t).$implicit,a=A();return j(o.type==="project"?a.navigateToProject(o._id):a.navigateToTask(o.projectId,o._id))}),g(17,"mat-icon",29),y(18),_(),y(19),de(20,"titlecase"),_()()()}if(n&2){let t=e.$implicit;w(5),U(" ",t.type==="task"?"task_alt":"folder"," "),w(2),U(" ",t.type==="task"||t.type==="bug"?t.title:t.name," "),w(2),J(t.description),w(2),D("ngIf",t.status),w(),D("ngIf",t.priority),w(2),U(" ",mn(15,8,t.type)," "),w(4),J(t.type==="project"?"visibility":"task"),w(),U(" View ",mn(20,10,t.type)," ")}}function d2(n,e){n&1&&(g(0,"div",48)(1,"mat-icon",49),y(2,"search_off"),_(),g(3,"p",50),y(4,"No results found"),_(),g(5,"p",51),y(6,"Try adjusting your search or filters"),_()())}var Cl=class n{constructor(e,t){this.searchService=e;this.router=t}searchForm=new Vm({searchTerm:new Da(""),status:new Da(""),priority:new Da(""),type:new Da("")});searchResults=[];searchSubscription=null;unsubscribe$=new pt;statusOptions=["Not Started","In Progress","Stuck","Done"];priorityOptions=["none","low","medium","high","critical"];typeOptions=["task","bug"];isFiltersVisible=!1;isLoading=!1;ngOnInit(){this.searchSubscription=this.searchForm.valueChanges.pipe(Yh(300),Dr(),Ir(e=>e.searchTerm&&e.searchTerm.trim()!==""?(this.isLoading=!0,this.searchService.searchProjectsAndTasks(e.searchTerm,e.status||void 0,e.priority||void 0,e.type||void 0).pipe(fa(()=>this.isLoading=!1))):Hh([]))).subscribe({next:e=>{this.searchResults=e},error:e=>{console.error("Error searching:",e)}})}ngOnDestroy(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.unsubscribe$.next(),this.unsubscribe$.complete()}navigateToProject(e){this.router.navigate(["/projects",e])}navigateToTask(e,t){this.router.navigate(["/projects",e,"tasks",t])}toggleFilters(){this.isFiltersVisible=!this.isFiltersVisible}static \u0275fac=function(t){return new(t||n)(P(wl),P(Wt))};static \u0275cmp=Z({type:n,selectors:[["app-search"]],standalone:!0,features:[Q],decls:25,vars:11,consts:[[1,"bg-gradient-to-br","from-gray-50","to-gray-100","min-h-screen","p-4","sm:p-6","lg:p-8"],[1,"max-w-7xl","mx-auto"],[1,"bg-white","backdrop-blur-lg","rounded-2xl","p-8","shadow-lg","border","border-gray-100"],[1,"text-3xl","font-bold","text-gray-800","mb-2","text-center"],[1,"text-gray-500","text-center","mb-8"],[1,"space-y-6",3,"formGroup"],[1,"flex","justify-center","items-center","max-w-2xl","mx-auto","relative"],["appearance","fill",1,"w-full"],["matInput","","formControlName","searchTerm","placeholder","Type to search..."],["matSuffix",""],["mat-icon-button","","type","button",1,"ml-2","filter-toggle-btn",3,"click","color"],["class","bg-gray-50 rounded-xl p-6",4,"ngIf"],["class","flex justify-center items-center py-8",4,"ngIf"],[1,"mt-8","space-y-4"],["class","flex items-center justify-between mb-6",4,"ngIf"],[1,"space-y-4"],["class","bg-white border rounded-lg p-4 hover:shadow-md transition-all duration-200",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[1,"bg-gray-50","rounded-xl","p-6"],[1,"flex","space-x-4"],["appearance","fill",1,"w-1/3"],["formControlName","status"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","type"],["formControlName","priority"],[3,"value"],[1,"flex","items-center"],[1,"w-2","h-2","rounded-full","mr-2",3,"ngClass"],[1,"mr-2"],[1,"mr-2","text-sm",3,"ngClass"],[1,"flex","justify-center","items-center","py-8"],["diameter","40"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-medium","text-gray-700"],[1,"text-sm","text-gray-500"],[1,"bg-white","border","rounded-lg","p-4","hover:shadow-md","transition-all","duration-200"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"flex","items-center","mb-2"],[1,"mr-2","text-gray-400"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-gray-600","mb-3"],[1,"flex","gap-2"],["class","px-2 py-1 text-sm rounded-full",3,"ngClass",4,"ngIf"],[1,"px-2","py-1","text-sm","rounded-full","bg-gray-100","text-gray-600"],["mat-flat-button","","color","primary",1,"ml-4",3,"click"],[1,"px-2","py-1","text-sm","rounded-full",3,"ngClass"],[1,"text-center","py-12"],[1,"text-gray-300","text-6xl","mb-4"],[1,"text-gray-500","text-lg"],[1,"text-gray-400","text-sm","mt-2"]],template:function(t,i){if(t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4,"Search"),_(),g(5,"p",4),y(6,"Find projects and tasks across your workspace"),_(),g(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),y(11,"Search projects & tasks"),_(),Y(12,"input",8),g(13,"mat-icon",9),y(14,"search"),_()(),g(15,"button",10),N("click",function(){return i.toggleFilters()}),g(16,"mat-icon"),y(17,"filter_list"),_()()(),V(18,o2,29,4,"div",11),_(),V(19,a2,2,0,"div",12),g(20,"div",13),V(21,r2,5,1,"div",14),g(22,"div",15),V(23,c2,21,12,"div",16),_(),V(24,d2,7,0,"div",17),_()()()()),t&2){let o;w(7),D("formGroup",i.searchForm),w(8),D("color",i.isFiltersVisible?"primary":""),w(3),D("ngIf",i.isFiltersVisible),w(),D("ngIf",i.isLoading),w(),ft("opacity-50",i.isLoading),w(),D("ngIf",i.searchResults.length>0),w(),ft("pointer-events-none",i.isLoading),w(),D("ngForOf",i.searchResults),w(),D("ngIf",!i.isLoading&&i.searchResults.length===0&&((o=i.searchForm.get("searchTerm"))==null?null:o.value))}},dependencies:[ct,ve,Ht,_t,hm,ze,si,we,Ne,So,Ce,Ei,Ti,Si,se,Ii,ye,ke,Di,Xr,$r,qr,Lt,ae,je,Ut,Yt,re,xe],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:250px}.content[_ngcontent-%COMP%]{padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:500px}  .mat-flat-button{line-height:46px!important}.filter-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.filter-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}"],data:{animation:[Ca("slideInOut",[xo(":enter",[Ki({opacity:0,height:0}),vo("200ms ease-out",Ki({opacity:1,height:"*"}))]),xo(":leave",[vo("200ms ease-in",Ki({opacity:0,height:0}))])])]}})};function h2(n,e){n&1&&Y(0,"mat-spinner",15),n&2&&D("diameter",20)}var Sl=class n{constructor(e,t,i){this.authService=e;this.router=t;this.snackBar=i}email="";isLoading=!1;onSubmit(){if(!this.email){this.showMessage("Please enter your email address");return}this.isLoading=!0,this.authService.forgotPassword(this.email).subscribe({next:()=>{this.isLoading=!1,this.showMessage("Password reset link has been sent to your email"),setTimeout(()=>this.router.navigate(["/login"]),3e3)},error:e=>{this.isLoading=!1,this.showMessage(e.error?.message||"Failed to send reset link")}})}showMessage(e){this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top"})}static \u0275fac=function(t){return new(t||n)(P(Zt),P(Wt),P(bn))};static \u0275cmp=Z({type:n,selectors:[["app-forgot-password"]],standalone:!0,features:[Q],decls:22,vars:5,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],["src","https://res.cloudinary.com/db2tvcbza/image/upload/v1730869163/logo_sfhhhd.png","alt","logo","crossorigin","anonymous",1,"mx-auto","h-12","w-auto"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"space-y-4","w-full",3,"ngSubmit"],[1,"flex","flex-col"],["for","email",1,"text-sm","font-medium","text-gray-600","mb-1"],["id","email","name","email","type","email","required","",1,"px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","mt-4",3,"disabled"],[1,"flex","items-center","justify-center"],["class","mr-2",3,"diameter",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-600"],["routerLink","/login",1,"font-medium","text-indigo-600","hover:text-indigo-500"],[1,"mr-2",3,"diameter"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1)(2,"div"),Y(3,"img",2),g(4,"h2",3),y(5," Forgot Password "),_(),g(6,"p",4),y(7," Enter your email address and we'll send you a link to reset your password. "),_()(),g(8,"form",5),N("ngSubmit",function(){return i.onSubmit()}),g(9,"div",6)(10,"label",7),y(11,"Email Address"),_(),g(12,"input",8),Ct("ngModelChange",function(a){return wt(i.email,a)||(i.email=a),a}),_()(),g(13,"button",9)(14,"span",10),V(15,h2,1,1,"mat-spinner",11),y(16),_()()(),g(17,"div",12)(18,"p",13),y(19," Remember your password? "),g(20,"a",14),y(21," Back to Login "),_()()()()()),t&2&&(w(12),kt("ngModel",i.email),D("disabled",i.isLoading),w(),D("disabled",i.isLoading),w(2),D("ngIf",i.isLoading),w(),U(" ",i.isLoading?"Sending...":"Send Reset Link \u2192"," "))},dependencies:[ct,_t,se,Ii,ye,ke,Di,wo,ai,ko,vn,re,xe,Fe,Ci],encapsulation:2})};function m2(n,e){n&1&&Y(0,"mat-spinner",16),n&2&&D("diameter",20)}var Ml=class n{constructor(e,t,i,o){this.authService=e;this.route=t;this.router=i;this.snackBar=o}newPassword="";confirmPassword="";token="";isLoading=!1;ngOnInit(){this.route.queryParams.subscribe(e=>{this.token=e.token,this.token||(this.showMessage("Invalid token"),setTimeout(()=>this.router.navigate(["/login"]),3e3))})}onSubmit(){if(!this.newPassword||!this.confirmPassword){this.showMessage("Please enter both passwords");return}if(this.newPassword!==this.confirmPassword){this.showMessage("Passwords do not match");return}this.isLoading=!0,this.authService.resetPassword(this.token,this.newPassword).subscribe({next:()=>{this.isLoading=!1,this.showMessage("Password has been reset successfully"),setTimeout(()=>this.router.navigate(["/login"]),3e3)},error:e=>{this.isLoading=!1,this.showMessage(e.error?.message||"Failed to reset password")}})}showMessage(e){this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top"})}static \u0275fac=function(t){return new(t||n)(P(Zt),P(go),P(Wt),P(bn))};static \u0275cmp=Z({type:n,selectors:[["app-reset-password"]],standalone:!0,features:[Q],decls:24,vars:7,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],["src","https://res.cloudinary.com/db2tvcbza/image/upload/v1730869163/logo_sfhhhd.png","alt","logo","crossorigin","anonymous",1,"mx-auto","h-12","w-auto"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"space-y-4","w-full",3,"ngSubmit"],[1,"flex","flex-col"],["for","password",1,"text-sm","font-medium","text-gray-600","mb-1"],["id","password","name","password","type","password","required","",1,"px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword",1,"text-sm","font-medium","text-gray-600","mb-1"],["id","confirmPassword","name","confirmPassword","type","password","required","",1,"px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","mt-4",3,"disabled"],[1,"flex","items-center","justify-center"],["class","mr-2",3,"diameter",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-600"],["routerLink","/login",1,"font-medium","text-indigo-600","hover:text-indigo-500"],[1,"mr-2",3,"diameter"]],template:function(t,i){t&1&&(g(0,"div",0)(1,"div",1)(2,"div"),Y(3,"img",2),g(4,"h2",3),y(5," Reset Password "),_()(),g(6,"form",4),N("ngSubmit",function(){return i.onSubmit()}),g(7,"div",5)(8,"label",6),y(9,"New Password"),_(),g(10,"input",7),Ct("ngModelChange",function(a){return wt(i.newPassword,a)||(i.newPassword=a),a}),_()(),g(11,"div",5)(12,"label",8),y(13,"Confirm Password"),_(),g(14,"input",9),Ct("ngModelChange",function(a){return wt(i.confirmPassword,a)||(i.confirmPassword=a),a}),_()(),g(15,"button",10)(16,"span",11),V(17,m2,1,1,"mat-spinner",12),y(18),_()()(),g(19,"div",13)(20,"p",14),y(21," Remember your password? "),g(22,"a",15),y(23," Back to Login "),_()()()()()),t&2&&(w(10),kt("ngModel",i.newPassword),D("disabled",i.isLoading),w(4),kt("ngModel",i.confirmPassword),D("disabled",i.isLoading),w(),D("disabled",i.isLoading),w(2),D("ngIf",i.isLoading),w(),U(" ",i.isLoading?"Resetting...":"Reset Password \u2192"," "))},dependencies:[ct,_t,se,Ii,ye,ke,Di,wo,ai,ko,vn,re,xe,Fe,Ci],encapsulation:2})};var j0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-JH4OIJGC.js").then(n=>n.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-RJN3EBNG.js").then(n=>n.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-WMKXBQ4R.js").then(n=>n.RegisterComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-RF476DJE.js").then(n=>n.DashboardComponent),canActivate:[yn]},{path:"projects/:id",component:vl,canActivate:[yn]},{path:"projects/:projectId/tasks/:taskId",component:yl,canActivate:[yn]},{path:"assigned-tasks",component:kl,canActivate:[yn]},{path:"search",component:Cl,canActivate:[yn]},{path:"forgot-password",component:Sl,title:"Forgot Password"},{path:"reset-password",component:Ml,title:"Reset Password"},{path:"profile",loadComponent:()=>import("./chunk-REFIKUZY.js").then(n=>n.ProfileComponent)}];var p2="@",u2=(()=>{class n{constructor(t,i,o,a,r){this.doc=t,this.delegate=i,this.zone=o,this.animationType=a,this.moduleImpl=r,this._rendererFactoryPromise=null,this.scheduler=fe(Qh,{optional:!0}),this.loadingSchedulerFn=fe(f2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-Y53H45BL.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(o=>{throw new $h(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc);let r=new a(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(t,i){let o=this.delegate.createRenderer(t,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new Ud(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(r=>{let s=r.createRenderer(t,i);a.use(s),this.scheduler?.notify(10)}).catch(r=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){Zh()}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})(),Ud=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,o){this.delegate.insertBefore(e,t,i,o)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(p2)}},f2=new Mt("");function N0(n="animations"){return em("NgAsyncAnimations"),Kh([{provide:Jh,useFactory:(e,t,i)=>new u2(e,t,i,n),deps:[ni,gm,Ie]},{provide:ei,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var z0=(n,e)=>{let t=localStorage.getItem("token");if(t){let i=n.clone({headers:n.headers.set("Authorization",`Bearer ${t}`)});return e(i)}return e(n)};_m(as,{providers:[Ql(Zt),Ql(Fe.forRoot(j0)),pm(um([z0])),N0()]}).catch(n=>console.error(n));
