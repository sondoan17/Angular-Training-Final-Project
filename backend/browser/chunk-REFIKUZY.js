import{b as $,c as ie,d as ne,e as ae,f as re,k as oe}from"./chunk-EDQRG3JR.js";import{a as U,b as T,c as F,d as N,e as Y,g as q,h as J,k as K,l as Q,n as X,o as Z}from"./chunk-XB2NZQ2A.js";import{Ba as H,Ca as z,H as W,Ia as A,Ka as ee,La as te,U as B,W as V,ra as O,wa as R,xa as j,za as G}from"./chunk-FZHPKERB.js";import{m as L,n as D}from"./chunk-7TL4XPSH.js";import"./chunk-EJJBCPAK.js";import{$a as y,$c as I,Hb as t,Ib as e,Jb as x,Nb as b,Qb as v,Sb as p,Xc as E,bc as C,cb as l,cc as a,db as M,dc as S,ec as P,gc as f,hc as u,ic as h,kc as k,oa as w,ub as _,xa as c,ya as g,yb as s}from"./chunk-CJYNM3Q3.js";function me(d,m){d&1&&(t(0,"div",5),x(1,"mat-spinner",6),e())}function de(d,m){d&1&&(t(0,"mat-icon"),a(1,"save"),e())}function se(d,m){d&1&&x(0,"mat-spinner",39)}function pe(d,m){if(d&1){let r=b();t(0,"div",7)(1,"div",8)(2,"button",9)(3,"mat-icon",10),a(4,"arrow_back"),e(),a(5," Back to Dashboard "),e(),t(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14),x(10,"img",15),e(),t(11,"div",16)(12,"h2",17),a(13),e(),t(14,"p",18),a(15),e()()()(),t(16,"form",19,0),v("ngSubmit",function(){c(r);let i=p();return g(i.onSubmit())}),t(18,"div",20)(19,"div",21)(20,"h3",22),a(21,"Basic Information"),e(),t(22,"mat-form-field",23)(23,"mat-label"),a(24,"Username"),e(),x(25,"input",24),t(26,"mat-icon",25),a(27,"person"),e(),t(28,"mat-hint"),a(29,"Username cannot be changed"),e()(),t(30,"mat-form-field",23)(31,"mat-label"),a(32,"Full Name"),e(),t(33,"input",26),h("ngModelChange",function(i){c(r);let o=p();return u(o.name,i)||(o.name=i),g(i)}),e(),t(34,"mat-icon",25),a(35,"badge"),e()(),t(36,"mat-form-field",23)(37,"mat-label"),a(38,"Email Address"),e(),t(39,"input",27),h("ngModelChange",function(i){c(r);let o=p();return u(o.email,i)||(o.email=i),g(i)}),e(),t(40,"mat-icon",25),a(41,"email"),e()(),t(42,"mat-form-field",23)(43,"mat-label"),a(44,"Birth Date"),e(),t(45,"input",28),h("ngModelChange",function(i){c(r);let o=p();return u(o.birthDate,i)||(o.birthDate=i),g(i)}),e(),x(46,"mat-datepicker-toggle",29)(47,"mat-datepicker",null,1),e()()(),t(49,"div",20)(50,"div",21)(51,"h3",22),a(52,"Social Media Links"),e(),t(53,"div",30)(54,"mat-form-field",23)(55,"mat-label"),a(56,"Twitter"),e(),t(57,"input",31),h("ngModelChange",function(i){c(r);let o=p();return u(o.socialMedia.twitter,i)||(o.socialMedia.twitter=i),g(i)}),e(),t(58,"mat-icon",25),a(59,"link"),e()(),t(60,"mat-form-field",23)(61,"mat-label"),a(62,"Instagram"),e(),t(63,"input",32),h("ngModelChange",function(i){c(r);let o=p();return u(o.socialMedia.instagram,i)||(o.socialMedia.instagram=i),g(i)}),e(),t(64,"mat-icon",25),a(65,"link"),e()(),t(66,"mat-form-field",23)(67,"mat-label"),a(68,"LinkedIn"),e(),t(69,"input",33),h("ngModelChange",function(i){c(r);let o=p();return u(o.socialMedia.linkedin,i)||(o.socialMedia.linkedin=i),g(i)}),e(),t(70,"mat-icon",25),a(71,"link"),e()(),t(72,"mat-form-field",23)(73,"mat-label"),a(74,"GitHub"),e(),t(75,"input",34),h("ngModelChange",function(i){c(r);let o=p();return u(o.socialMedia.github,i)||(o.socialMedia.github=i),g(i)}),e(),t(76,"mat-icon",25),a(77,"link"),e()()()()(),t(78,"div",35)(79,"button",36),_(80,de,2,0,"mat-icon",37)(81,se,1,0,"mat-spinner",38),a(82),e()()()()()()}if(d&2){let r=C(48),n=p();l(10),s("src","https://ui-avatars.com/api/?name="+n.username+"&background=random&size=80",y)("alt",n.username),l(3),S(n.name||n.username),l(2),S("@"+n.username),l(10),s("value",n.username),l(8),f("ngModel",n.name),l(6),f("ngModel",n.email),l(6),s("matDatepicker",r),f("ngModel",n.birthDate),l(),s("for",r),l(11),f("ngModel",n.socialMedia.twitter),l(6),f("ngModel",n.socialMedia.instagram),l(6),f("ngModel",n.socialMedia.linkedin),l(6),f("ngModel",n.socialMedia.github),l(4),s("disabled",n.isLoading),l(),s("ngIf",!n.isLoading),l(),s("ngIf",n.isLoading),l(),P(" ",n.isLoading?"Saving...":"Save Changes"," ")}}var le=class d{constructor(m,r){this.userService=m;this.snackBar=r}username="";email="";name="";birthDate=null;isLoading=!1;isLoadingProfile=!0;isSaving=!1;socialMedia={twitter:"",instagram:"",linkedin:"",github:""};ngOnInit(){this.loadUserProfile()}loadUserProfile(){this.isLoadingProfile=!0,this.userService.getCurrentUserProfile().subscribe({next:m=>{this.username=m.username,this.email=m.email,this.name=m.name||"",this.birthDate=m.birthDate?new Date(m.birthDate):null,this.socialMedia=m.socialMedia||{twitter:"",instagram:"",linkedin:"",github:""},this.isLoadingProfile=!1},error:m=>{console.error("Error loading profile:",m),this.snackBar.open("Error loading profile","Close",{duration:3e3}),this.isLoadingProfile=!1}})}onSubmit(){this.isSaving=!0;let m={email:this.email,name:this.name||void 0,birthDate:this.birthDate||void 0,socialMedia:{twitter:this.socialMedia.twitter||void 0,instagram:this.socialMedia.instagram||void 0,linkedin:this.socialMedia.linkedin||void 0,github:this.socialMedia.github||void 0}};this.userService.updateUserProfile(m).subscribe({next:r=>{this.snackBar.open("Profile updated successfully","Close",{duration:3e3}),this.isSaving=!1,this.loadUserProfile()},error:r=>{console.error("Error updating profile:",r),this.snackBar.open(r.error.message||"Error updating profile","Close",{duration:3e3}),this.isSaving=!1}})}static \u0275fac=function(r){return new(r||d)(M(ie),M(ee))};static \u0275cmp=w({type:d,selectors:[["app-profile"]],standalone:!0,features:[k],decls:3,vars:2,consts:[["profileForm","ngForm"],["picker",""],[1,"bg-gray-100","min-h-screen","p-4","sm:p-6","lg:p-8"],["class","flex justify-center items-center min-h-[calc(100vh-64px)]",4,"ngIf"],["class","container mx-auto px-4 py-8",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-[calc(100vh-64px)]"],["diameter","40"],[1,"container","mx-auto","px-4","py-8"],[1,"max-w-7xl","mx-auto"],["mat-button","","routerLink","/dashboard",1,"mb-4","flex","items-center","text-gray-600","hover:text-gray-800"],[1,"mr-2"],[1,"bg-white","shadow","rounded-lg"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200"],[1,"flex","items-center","space-x-5"],[1,"flex-shrink-0"],[1,"h-20","w-20","rounded-full","ring-4","ring-white",3,"src","alt"],[1,"flex-1","min-w-0"],[1,"text-2xl","font-bold","leading-7","text-gray-900","sm:text-3xl","sm:truncate"],[1,"text-sm","text-gray-500"],[1,"divide-y","divide-gray-200",3,"ngSubmit"],[1,"px-4","py-5","sm:p-6"],[1,"space-y-6"],[1,"text-lg","font-medium","leading-6","text-gray-900"],["appearance","fill",1,"w-full"],["matInput","","readonly","",3,"value"],["matSuffix",""],["matInput","","name","name","placeholder","Your full name",3,"ngModelChange","ngModel"],["matInput","","name","email","type","email","placeholder","your.email@example.com",3,"ngModelChange","ngModel"],["matInput","","name","birthDate",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2"],["matInput","","name","twitter","placeholder","Twitter profile URL",3,"ngModelChange","ngModel"],["matInput","","name","instagram","placeholder","Instagram profile URL",3,"ngModelChange","ngModel"],["matInput","","name","linkedin","placeholder","LinkedIn profile URL",3,"ngModelChange","ngModel"],["matInput","","name","github","placeholder","GitHub profile URL",3,"ngModelChange","ngModel"],[1,"px-4","py-3","bg-gray-50","text-right","sm:px-6"],["mat-raised-button","","color","primary","type","submit",1,"inline-flex","items-center",3,"disabled"],[4,"ngIf"],["diameter","20","class","mr-2",4,"ngIf"],["diameter","20",1,"mr-2"]],template:function(r,n){r&1&&(t(0,"div",2),_(1,me,2,0,"div",3)(2,pe,83,18,"div",4),e()),r&2&&(l(),s("ngIf",n.isLoadingProfile),l(),s("ngIf",!n.isLoadingProfile))},dependencies:[I,E,A,z,O,R,j,H,G,D,L,V,B,T,U,Z,X,K,Y,q,J,Q,oe,ne,ae,re,W,N,F,te,$],styles:["[_nghost-%COMP%]{display:block}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{flex-direction:column}}.full-width[_ngcontent-%COMP%], .half-width[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){.half-width[_ngcontent-%COMP%]{width:50%}}"]})};export{le as ProfileComponent};
