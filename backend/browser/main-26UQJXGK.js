import{a as wo,b as fn,c as gn,d as Pi,e as Gm,f as _n,g as Oi,h as bn,i as Po,j as es,k as is,l as ns,m as ri,n as Xm,o as Ve,p as np,q as La}from"./chunk-65FY5U2Z.js";import{a as Jt}from"./chunk-AAG3QVMH.js";import{a as Ti,b as Ei,c as Km,d as Zm,e as Qm,f as os,g as Jm,h as tp,i as ep,j as ip,k as as}from"./chunk-IBFKEOVN.js";import{a as Yt,b as Ut,c as ke,d as he,e as ze,f as $m,g as qm,h as Do,k as Ce,l as we,n as si,o as Be}from"./chunk-XSM6QQML.js";import{$ as Lm,A as $r,Aa as Ra,B as Ia,Ba as Ne,C as Zt,Ca as Ii,Da as Qr,E as Oa,Ea as Jr,F as yo,Fa as So,G as cl,Ga as Ym,H as qr,Ha as Um,I as Dm,Ia as Qt,J as Im,Ja as ts,K as ll,L as Om,La as vn,Ma as xn,P as Si,T as Tm,U as ce,V as Em,W as Fe,X as jt,Y as Am,Z as Rm,a as km,aa as jm,c as Un,ca as Xr,d as Wr,da as Kr,f as Da,fa as Fm,g as Yr,ga as Zr,h as sl,ha as Nm,i as xo,j as Cm,k as un,ma as Aa,p as Ur,pa as zm,qa as Bm,r as wm,ra as le,s as Mm,sa as Vm,ta as Hm,v as Sm,w as Pm,wa as de,xa as Di,y as Gr,ya as Wm,za as Mo}from"./chunk-EUDFLDIN.js";import{b as um,c as fm,d as gm,e as _m,f as bm,g as vm,h as Hr,i as xm,j as vo,k as ym,l as Wt,m as Mi,n as je}from"./chunk-SRORKJFO.js";import{c as Ta,d as ko,f as Zi,g as Ea,i as Co}from"./chunk-EJJBCPAK.js";import{$ as $e,$a as qe,$c as ai,Aa as Fr,Ab as ft,Ba as Nr,Bb as ki,Ca,Cc as ne,Da as wa,Db as Ki,Eb as im,Ec as Mt,F as Er,Fa as mt,Fb as nm,Fc as ni,G as mo,Ga as De,Gb as om,H as Yn,Hb as f,Ia as se,Ib as _,Ja as el,Jb as U,Jc as Vr,Kb as am,L as Ar,Lb as rm,N as Rr,Nb as K,Oa as ii,Ob as ol,Oc as oi,Q as po,Qb as N,R as ka,Sb as O,Tb as Ci,Ub as be,Vb as sm,Vc as ye,Wb as cm,Wc as Lt,Xb as Pa,Xc as yt,Yb as Xe,Z as uo,Zb as ve,Zc as mm,_ as Lr,_a as zr,_b as xe,_c as pm,a as Le,aa as Uh,ad as dt,b as Wn,ba as Gh,bc as qt,c as Nh,ca as $h,cb as C,cc as y,da as Jc,db as I,dc as it,e as zx,ea as re,eb as Zh,ec as W,f as zh,fa as Nt,fb as il,fc as lm,gb as Qh,gc as _t,h as xi,ha as St,hc as bt,ib as Jh,ic as vt,j as Qc,ja as me,jb as tm,jc as Xt,ka as _e,kb as fo,kc as Q,la as qh,lb as em,lc as pn,m as lt,ma as Xh,mc as _o,n as ho,nb as nl,nc as bo,o as Bh,oa as Z,oc as dm,pa as zt,pb as Ma,pc as al,q as Vh,qa as Ht,qc as rl,r as Hh,ra as Kh,rb as pe,rc as Kt,sa as tl,sc as gi,t as Wh,tc as wi,ua as jr,ub as B,uc as hm,wa as fi,wb as Sa,x as Yh,xa as L,xb as Ie,ya as j,yb as S,za as yi,zb as go,zc as Br}from"./chunk-65NVJTBR.js";var Yd=zx((Wd,da)=>{"use strict";(function(n,e){typeof Wd=="object"&&typeof da<"u"?da.exports=e():typeof define=="function"&&define.amd?define(e):n.moment=e()})(Wd,function(){"use strict";var n;function e(){return n.apply(null,arguments)}function t(c){n=c}function i(c){return c instanceof Array||Object.prototype.toString.call(c)==="[object Array]"}function o(c){return c!=null&&Object.prototype.toString.call(c)==="[object Object]"}function a(c,d){return Object.prototype.hasOwnProperty.call(c,d)}function r(c){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(c).length===0;var d;for(d in c)if(a(c,d))return!1;return!0}function s(c){return c===void 0}function l(c){return typeof c=="number"||Object.prototype.toString.call(c)==="[object Number]"}function h(c){return c instanceof Date||Object.prototype.toString.call(c)==="[object Date]"}function p(c,d){var m=[],u,b=c.length;for(u=0;u<b;++u)m.push(d(c[u],u));return m}function g(c,d){for(var m in d)a(d,m)&&(c[m]=d[m]);return a(d,"toString")&&(c.toString=d.toString),a(d,"valueOf")&&(c.valueOf=d.valueOf),c}function v(c,d,m,u){return fh(c,d,m,u,!0).utc()}function k(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function x(c){return c._pf==null&&(c._pf=k()),c._pf}var w;Array.prototype.some?w=Array.prototype.some:w=function(c){var d=Object(this),m=d.length>>>0,u;for(u=0;u<m;u++)if(u in d&&c.call(this,d[u],u,d))return!0;return!1};function P(c){var d=null,m=!1,u=c._d&&!isNaN(c._d.getTime());if(u&&(d=x(c),m=w.call(d.parsedDateParts,function(b){return b!=null}),u=d.overflow<0&&!d.empty&&!d.invalidEra&&!d.invalidMonth&&!d.invalidWeekday&&!d.weekdayMismatch&&!d.nullInput&&!d.invalidFormat&&!d.userInvalidated&&(!d.meridiem||d.meridiem&&m),c._strict&&(u=u&&d.charsLeftOver===0&&d.unusedTokens.length===0&&d.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(c))c._isValid=u;else return u;return c._isValid}function D(c){var d=v(NaN);return c!=null?g(x(d),c):x(d).userInvalidated=!0,d}var E=e.momentProperties=[],F=!1;function R(c,d){var m,u,b,M=E.length;if(s(d._isAMomentObject)||(c._isAMomentObject=d._isAMomentObject),s(d._i)||(c._i=d._i),s(d._f)||(c._f=d._f),s(d._l)||(c._l=d._l),s(d._strict)||(c._strict=d._strict),s(d._tzm)||(c._tzm=d._tzm),s(d._isUTC)||(c._isUTC=d._isUTC),s(d._offset)||(c._offset=d._offset),s(d._pf)||(c._pf=x(d)),s(d._locale)||(c._locale=d._locale),M>0)for(m=0;m<M;m++)u=E[m],b=d[u],s(b)||(c[u]=b);return c}function A(c){R(this,c),this._d=new Date(c._d!=null?c._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),F===!1&&(F=!0,e.updateOffset(this),F=!1)}function z(c){return c instanceof A||c!=null&&c._isAMomentObject!=null}function H(c){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+c)}function Y(c,d){var m=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,c),m){var u=[],b,M,T,G=arguments.length;for(M=0;M<G;M++){if(b="",typeof arguments[M]=="object"){b+=`
[`+M+"] ";for(T in arguments[0])a(arguments[0],T)&&(b+=T+": "+arguments[0][T]+", ");b=b.slice(0,-2)}else b=arguments[M];u.push(b)}H(c+`
Arguments: `+Array.prototype.slice.call(u).join("")+`
`+new Error().stack),m=!1}return d.apply(this,arguments)},d)}var q={};function at(c,d){e.deprecationHandler!=null&&e.deprecationHandler(c,d),q[c]||(H(d),q[c]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function et(c){return typeof Function<"u"&&c instanceof Function||Object.prototype.toString.call(c)==="[object Function]"}function rt(c){var d,m;for(m in c)a(c,m)&&(d=c[m],et(d)?this[m]=d:this["_"+m]=d);this._config=c,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function At(c,d){var m=g({},c),u;for(u in d)a(d,u)&&(o(c[u])&&o(d[u])?(m[u]={},g(m[u],c[u]),g(m[u],d[u])):d[u]!=null?m[u]=d[u]:delete m[u]);for(u in c)a(c,u)&&!a(d,u)&&o(c[u])&&(m[u]=g({},m[u]));return m}function ee(c){c!=null&&this.set(c)}var J;Object.keys?J=Object.keys:J=function(c){var d,m=[];for(d in c)a(c,d)&&m.push(d);return m};var Vt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ft(c,d,m){var u=this._calendar[c]||this._calendar.sameElse;return et(u)?u.call(d,m):u}function ae(c,d,m){var u=""+Math.abs(c),b=d-u.length,M=c>=0;return(M?m?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+u}var zn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,mi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,cn={},Ue={};function X(c,d,m,u){var b=u;typeof u=="string"&&(b=function(){return this[u]()}),c&&(Ue[c]=b),d&&(Ue[d[0]]=function(){return ae(b.apply(this,arguments),d[1],d[2])}),m&&(Ue[m]=function(){return this.localeData().ordinal(b.apply(this,arguments),c)})}function ha(c){return c.match(/\[[\s\S]/)?c.replace(/^\[|\]$/g,""):c.replace(/\\/g,"")}function ma(c){var d=c.match(zn),m,u;for(m=0,u=d.length;m<u;m++)Ue[d[m]]?d[m]=Ue[d[m]]:d[m]=ha(d[m]);return function(b){var M="",T;for(T=0;T<u;T++)M+=et(d[T])?d[T].call(b,c):d[T];return M}}function ln(c,d){return c.isValid()?(d=$d(d,c.localeData()),cn[d]=cn[d]||ma(d),cn[d](c)):c.localeData().invalidDate()}function $d(c,d){var m=5;function u(b){return d.longDateFormat(b)||b}for(mi.lastIndex=0;m>=0&&mi.test(c);)c=c.replace(mi,u),mi.lastIndex=0,m-=1;return c}var G0={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $0(c){var d=this._longDateFormat[c],m=this._longDateFormat[c.toUpperCase()];return d||!m?d:(this._longDateFormat[c]=m.match(zn).map(function(u){return u==="MMMM"||u==="MM"||u==="DD"||u==="dddd"?u.slice(1):u}).join(""),this._longDateFormat[c])}var q0="Invalid date";function X0(){return this._invalidDate}var K0="%d",Z0=/\d{1,2}/;function Q0(c){return this._ordinal.replace("%d",c)}var J0={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function t_(c,d,m,u){var b=this._relativeTime[m];return et(b)?b(c,d,m,u):b.replace(/%d/i,c)}function e_(c,d){var m=this._relativeTime[c>0?"future":"past"];return et(m)?m(d):m.replace(/%s/i,d)}var qd={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ti(c){return typeof c=="string"?qd[c]||qd[c.toLowerCase()]:void 0}function Ic(c){var d={},m,u;for(u in c)a(c,u)&&(m=ti(u),m&&(d[m]=c[u]));return d}var i_={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function n_(c){var d=[],m;for(m in c)a(c,m)&&d.push({unit:m,priority:i_[m]});return d.sort(function(u,b){return u.priority-b.priority}),d}var Xd=/\d/,Ge=/\d\d/,Kd=/\d{3}/,Oc=/\d{4}/,ur=/[+-]?\d{6}/,It=/\d\d?/,Zd=/\d\d\d\d?/,Qd=/\d\d\d\d\d\d?/,fr=/\d{1,3}/,Tc=/\d{1,4}/,gr=/[+-]?\d{1,6}/,io=/\d+/,_r=/[+-]?\d+/,o_=/Z|[+-]\d\d:?\d\d/gi,br=/Z|[+-]\d\d(?::?\d\d)?/gi,a_=/[+-]?\d+(\.\d{1,3})?/,pa=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,no=/^[1-9]\d?/,Ec=/^([1-9]\d|\d)/,vr;vr={};function $(c,d,m){vr[c]=et(d)?d:function(u,b){return u&&m?m:d}}function r_(c,d){return a(vr,c)?vr[c](d._strict,d._locale):new RegExp(s_(c))}function s_(c){return Vi(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(d,m,u,b,M){return m||u||b||M}))}function Vi(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ei(c){return c<0?Math.ceil(c)||0:Math.floor(c)}function ct(c){var d=+c,m=0;return d!==0&&isFinite(d)&&(m=ei(d)),m}var Ac={};function wt(c,d){var m,u=d,b;for(typeof c=="string"&&(c=[c]),l(d)&&(u=function(M,T){T[d]=ct(M)}),b=c.length,m=0;m<b;m++)Ac[c[m]]=u}function ua(c,d){wt(c,function(m,u,b,M){b._w=b._w||{},d(m,b._w,b,M)})}function c_(c,d,m){d!=null&&a(Ac,c)&&Ac[c](d,m._a,m,c)}function xr(c){return c%4===0&&c%100!==0||c%400===0}var ge=0,Hi=1,vi=2,ie=3,pi=4,Wi=5,Bn=6,l_=7,d_=8;X("Y",0,0,function(){var c=this.year();return c<=9999?ae(c,4):"+"+c}),X(0,["YY",2],0,function(){return this.year()%100}),X(0,["YYYY",4],0,"year"),X(0,["YYYYY",5],0,"year"),X(0,["YYYYYY",6,!0],0,"year"),$("Y",_r),$("YY",It,Ge),$("YYYY",Tc,Oc),$("YYYYY",gr,ur),$("YYYYYY",gr,ur),wt(["YYYYY","YYYYYY"],ge),wt("YYYY",function(c,d){d[ge]=c.length===2?e.parseTwoDigitYear(c):ct(c)}),wt("YY",function(c,d){d[ge]=e.parseTwoDigitYear(c)}),wt("Y",function(c,d){d[ge]=parseInt(c,10)});function fa(c){return xr(c)?366:365}e.parseTwoDigitYear=function(c){return ct(c)+(ct(c)>68?1900:2e3)};var Jd=oo("FullYear",!0);function h_(){return xr(this.year())}function oo(c,d){return function(m){return m!=null?(th(this,c,m),e.updateOffset(this,d),this):ga(this,c)}}function ga(c,d){if(!c.isValid())return NaN;var m=c._d,u=c._isUTC;switch(d){case"Milliseconds":return u?m.getUTCMilliseconds():m.getMilliseconds();case"Seconds":return u?m.getUTCSeconds():m.getSeconds();case"Minutes":return u?m.getUTCMinutes():m.getMinutes();case"Hours":return u?m.getUTCHours():m.getHours();case"Date":return u?m.getUTCDate():m.getDate();case"Day":return u?m.getUTCDay():m.getDay();case"Month":return u?m.getUTCMonth():m.getMonth();case"FullYear":return u?m.getUTCFullYear():m.getFullYear();default:return NaN}}function th(c,d,m){var u,b,M,T,G;if(!(!c.isValid()||isNaN(m))){switch(u=c._d,b=c._isUTC,d){case"Milliseconds":return void(b?u.setUTCMilliseconds(m):u.setMilliseconds(m));case"Seconds":return void(b?u.setUTCSeconds(m):u.setSeconds(m));case"Minutes":return void(b?u.setUTCMinutes(m):u.setMinutes(m));case"Hours":return void(b?u.setUTCHours(m):u.setHours(m));case"Date":return void(b?u.setUTCDate(m):u.setDate(m));case"FullYear":break;default:return}M=m,T=c.month(),G=c.date(),G=G===29&&T===1&&!xr(M)?28:G,b?u.setUTCFullYear(M,T,G):u.setFullYear(M,T,G)}}function m_(c){return c=ti(c),et(this[c])?this[c]():this}function p_(c,d){if(typeof c=="object"){c=Ic(c);var m=n_(c),u,b=m.length;for(u=0;u<b;u++)this[m[u].unit](c[m[u].unit])}else if(c=ti(c),et(this[c]))return this[c](d);return this}function u_(c,d){return(c%d+d)%d}var $t;Array.prototype.indexOf?$t=Array.prototype.indexOf:$t=function(c){var d;for(d=0;d<this.length;++d)if(this[d]===c)return d;return-1};function Rc(c,d){if(isNaN(c)||isNaN(d))return NaN;var m=u_(d,12);return c+=(d-m)/12,m===1?xr(c)?29:28:31-m%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1}),X("MMM",0,0,function(c){return this.localeData().monthsShort(this,c)}),X("MMMM",0,0,function(c){return this.localeData().months(this,c)}),$("M",It,no),$("MM",It,Ge),$("MMM",function(c,d){return d.monthsShortRegex(c)}),$("MMMM",function(c,d){return d.monthsRegex(c)}),wt(["M","MM"],function(c,d){d[Hi]=ct(c)-1}),wt(["MMM","MMMM"],function(c,d,m,u){var b=m._locale.monthsParse(c,u,m._strict);b!=null?d[Hi]=b:x(m).invalidMonth=c});var f_="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),eh="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ih=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,g_=pa,__=pa;function b_(c,d){return c?i(this._months)?this._months[c.month()]:this._months[(this._months.isFormat||ih).test(d)?"format":"standalone"][c.month()]:i(this._months)?this._months:this._months.standalone}function v_(c,d){return c?i(this._monthsShort)?this._monthsShort[c.month()]:this._monthsShort[ih.test(d)?"format":"standalone"][c.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function x_(c,d,m){var u,b,M,T=c.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],u=0;u<12;++u)M=v([2e3,u]),this._shortMonthsParse[u]=this.monthsShort(M,"").toLocaleLowerCase(),this._longMonthsParse[u]=this.months(M,"").toLocaleLowerCase();return m?d==="MMM"?(b=$t.call(this._shortMonthsParse,T),b!==-1?b:null):(b=$t.call(this._longMonthsParse,T),b!==-1?b:null):d==="MMM"?(b=$t.call(this._shortMonthsParse,T),b!==-1?b:(b=$t.call(this._longMonthsParse,T),b!==-1?b:null)):(b=$t.call(this._longMonthsParse,T),b!==-1?b:(b=$t.call(this._shortMonthsParse,T),b!==-1?b:null))}function y_(c,d,m){var u,b,M;if(this._monthsParseExact)return x_.call(this,c,d,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),u=0;u<12;u++){if(b=v([2e3,u]),m&&!this._longMonthsParse[u]&&(this._longMonthsParse[u]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[u]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!m&&!this._monthsParse[u]&&(M="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[u]=new RegExp(M.replace(".",""),"i")),m&&d==="MMMM"&&this._longMonthsParse[u].test(c))return u;if(m&&d==="MMM"&&this._shortMonthsParse[u].test(c))return u;if(!m&&this._monthsParse[u].test(c))return u}}function nh(c,d){if(!c.isValid())return c;if(typeof d=="string"){if(/^\d+$/.test(d))d=ct(d);else if(d=c.localeData().monthsParse(d),!l(d))return c}var m=d,u=c.date();return u=u<29?u:Math.min(u,Rc(c.year(),m)),c._isUTC?c._d.setUTCMonth(m,u):c._d.setMonth(m,u),c}function oh(c){return c!=null?(nh(this,c),e.updateOffset(this,!0),this):ga(this,"Month")}function k_(){return Rc(this.year(),this.month())}function C_(c){return this._monthsParseExact?(a(this,"_monthsRegex")||ah.call(this),c?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=g_),this._monthsShortStrictRegex&&c?this._monthsShortStrictRegex:this._monthsShortRegex)}function w_(c){return this._monthsParseExact?(a(this,"_monthsRegex")||ah.call(this),c?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=__),this._monthsStrictRegex&&c?this._monthsStrictRegex:this._monthsRegex)}function ah(){function c(tt,ht){return ht.length-tt.length}var d=[],m=[],u=[],b,M,T,G;for(b=0;b<12;b++)M=v([2e3,b]),T=Vi(this.monthsShort(M,"")),G=Vi(this.months(M,"")),d.push(T),m.push(G),u.push(G),u.push(T);d.sort(c),m.sort(c),u.sort(c),this._monthsRegex=new RegExp("^("+u.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function M_(c,d,m,u,b,M,T){var G;return c<100&&c>=0?(G=new Date(c+400,d,m,u,b,M,T),isFinite(G.getFullYear())&&G.setFullYear(c)):G=new Date(c,d,m,u,b,M,T),G}function _a(c){var d,m;return c<100&&c>=0?(m=Array.prototype.slice.call(arguments),m[0]=c+400,d=new Date(Date.UTC.apply(null,m)),isFinite(d.getUTCFullYear())&&d.setUTCFullYear(c)):d=new Date(Date.UTC.apply(null,arguments)),d}function yr(c,d,m){var u=7+d-m,b=(7+_a(c,0,u).getUTCDay()-d)%7;return-b+u-1}function rh(c,d,m,u,b){var M=(7+m-u)%7,T=yr(c,u,b),G=1+7*(d-1)+M+T,tt,ht;return G<=0?(tt=c-1,ht=fa(tt)+G):G>fa(c)?(tt=c+1,ht=G-fa(c)):(tt=c,ht=G),{year:tt,dayOfYear:ht}}function ba(c,d,m){var u=yr(c.year(),d,m),b=Math.floor((c.dayOfYear()-u-1)/7)+1,M,T;return b<1?(T=c.year()-1,M=b+Yi(T,d,m)):b>Yi(c.year(),d,m)?(M=b-Yi(c.year(),d,m),T=c.year()+1):(T=c.year(),M=b),{week:M,year:T}}function Yi(c,d,m){var u=yr(c,d,m),b=yr(c+1,d,m);return(fa(c)-u+b)/7}X("w",["ww",2],"wo","week"),X("W",["WW",2],"Wo","isoWeek"),$("w",It,no),$("ww",It,Ge),$("W",It,no),$("WW",It,Ge),ua(["w","ww","W","WW"],function(c,d,m,u){d[u.substr(0,1)]=ct(c)});function S_(c){return ba(c,this._week.dow,this._week.doy).week}var P_={dow:0,doy:6};function D_(){return this._week.dow}function I_(){return this._week.doy}function O_(c){var d=this.localeData().week(this);return c==null?d:this.add((c-d)*7,"d")}function T_(c){var d=ba(this,1,4).week;return c==null?d:this.add((c-d)*7,"d")}X("d",0,"do","day"),X("dd",0,0,function(c){return this.localeData().weekdaysMin(this,c)}),X("ddd",0,0,function(c){return this.localeData().weekdaysShort(this,c)}),X("dddd",0,0,function(c){return this.localeData().weekdays(this,c)}),X("e",0,0,"weekday"),X("E",0,0,"isoWeekday"),$("d",It),$("e",It),$("E",It),$("dd",function(c,d){return d.weekdaysMinRegex(c)}),$("ddd",function(c,d){return d.weekdaysShortRegex(c)}),$("dddd",function(c,d){return d.weekdaysRegex(c)}),ua(["dd","ddd","dddd"],function(c,d,m,u){var b=m._locale.weekdaysParse(c,u,m._strict);b!=null?d.d=b:x(m).invalidWeekday=c}),ua(["d","e","E"],function(c,d,m,u){d[u]=ct(c)});function E_(c,d){return typeof c!="string"?c:isNaN(c)?(c=d.weekdaysParse(c),typeof c=="number"?c:null):parseInt(c,10)}function A_(c,d){return typeof c=="string"?d.weekdaysParse(c)%7||7:isNaN(c)?null:c}function Lc(c,d){return c.slice(d,7).concat(c.slice(0,d))}var R_="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sh="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),L_="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),j_=pa,F_=pa,N_=pa;function z_(c,d){var m=i(this._weekdays)?this._weekdays:this._weekdays[c&&c!==!0&&this._weekdays.isFormat.test(d)?"format":"standalone"];return c===!0?Lc(m,this._week.dow):c?m[c.day()]:m}function B_(c){return c===!0?Lc(this._weekdaysShort,this._week.dow):c?this._weekdaysShort[c.day()]:this._weekdaysShort}function V_(c){return c===!0?Lc(this._weekdaysMin,this._week.dow):c?this._weekdaysMin[c.day()]:this._weekdaysMin}function H_(c,d,m){var u,b,M,T=c.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],u=0;u<7;++u)M=v([2e3,1]).day(u),this._minWeekdaysParse[u]=this.weekdaysMin(M,"").toLocaleLowerCase(),this._shortWeekdaysParse[u]=this.weekdaysShort(M,"").toLocaleLowerCase(),this._weekdaysParse[u]=this.weekdays(M,"").toLocaleLowerCase();return m?d==="dddd"?(b=$t.call(this._weekdaysParse,T),b!==-1?b:null):d==="ddd"?(b=$t.call(this._shortWeekdaysParse,T),b!==-1?b:null):(b=$t.call(this._minWeekdaysParse,T),b!==-1?b:null):d==="dddd"?(b=$t.call(this._weekdaysParse,T),b!==-1||(b=$t.call(this._shortWeekdaysParse,T),b!==-1)?b:(b=$t.call(this._minWeekdaysParse,T),b!==-1?b:null)):d==="ddd"?(b=$t.call(this._shortWeekdaysParse,T),b!==-1||(b=$t.call(this._weekdaysParse,T),b!==-1)?b:(b=$t.call(this._minWeekdaysParse,T),b!==-1?b:null)):(b=$t.call(this._minWeekdaysParse,T),b!==-1||(b=$t.call(this._weekdaysParse,T),b!==-1)?b:(b=$t.call(this._shortWeekdaysParse,T),b!==-1?b:null))}function W_(c,d,m){var u,b,M;if(this._weekdaysParseExact)return H_.call(this,c,d,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),u=0;u<7;u++){if(b=v([2e3,1]).day(u),m&&!this._fullWeekdaysParse[u]&&(this._fullWeekdaysParse[u]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[u]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[u]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[u]||(M="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[u]=new RegExp(M.replace(".",""),"i")),m&&d==="dddd"&&this._fullWeekdaysParse[u].test(c))return u;if(m&&d==="ddd"&&this._shortWeekdaysParse[u].test(c))return u;if(m&&d==="dd"&&this._minWeekdaysParse[u].test(c))return u;if(!m&&this._weekdaysParse[u].test(c))return u}}function Y_(c){if(!this.isValid())return c!=null?this:NaN;var d=ga(this,"Day");return c!=null?(c=E_(c,this.localeData()),this.add(c-d,"d")):d}function U_(c){if(!this.isValid())return c!=null?this:NaN;var d=(this.day()+7-this.localeData()._week.dow)%7;return c==null?d:this.add(c-d,"d")}function G_(c){if(!this.isValid())return c!=null?this:NaN;if(c!=null){var d=A_(c,this.localeData());return this.day(this.day()%7?d:d-7)}else return this.day()||7}function $_(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||jc.call(this),c?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=j_),this._weekdaysStrictRegex&&c?this._weekdaysStrictRegex:this._weekdaysRegex)}function q_(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||jc.call(this),c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=F_),this._weekdaysShortStrictRegex&&c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function X_(c){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||jc.call(this),c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=N_),this._weekdaysMinStrictRegex&&c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jc(){function c(Pe,Xi){return Xi.length-Pe.length}var d=[],m=[],u=[],b=[],M,T,G,tt,ht;for(M=0;M<7;M++)T=v([2e3,1]).day(M),G=Vi(this.weekdaysMin(T,"")),tt=Vi(this.weekdaysShort(T,"")),ht=Vi(this.weekdays(T,"")),d.push(G),m.push(tt),u.push(ht),b.push(G),b.push(tt),b.push(ht);d.sort(c),m.sort(c),u.sort(c),b.sort(c),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+d.join("|")+")","i")}function Fc(){return this.hours()%12||12}function K_(){return this.hours()||24}X("H",["HH",2],0,"hour"),X("h",["hh",2],0,Fc),X("k",["kk",2],0,K_),X("hmm",0,0,function(){return""+Fc.apply(this)+ae(this.minutes(),2)}),X("hmmss",0,0,function(){return""+Fc.apply(this)+ae(this.minutes(),2)+ae(this.seconds(),2)}),X("Hmm",0,0,function(){return""+this.hours()+ae(this.minutes(),2)}),X("Hmmss",0,0,function(){return""+this.hours()+ae(this.minutes(),2)+ae(this.seconds(),2)});function ch(c,d){X(c,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),d)})}ch("a",!0),ch("A",!1);function lh(c,d){return d._meridiemParse}$("a",lh),$("A",lh),$("H",It,Ec),$("h",It,no),$("k",It,no),$("HH",It,Ge),$("hh",It,Ge),$("kk",It,Ge),$("hmm",Zd),$("hmmss",Qd),$("Hmm",Zd),$("Hmmss",Qd),wt(["H","HH"],ie),wt(["k","kk"],function(c,d,m){var u=ct(c);d[ie]=u===24?0:u}),wt(["a","A"],function(c,d,m){m._isPm=m._locale.isPM(c),m._meridiem=c}),wt(["h","hh"],function(c,d,m){d[ie]=ct(c),x(m).bigHour=!0}),wt("hmm",function(c,d,m){var u=c.length-2;d[ie]=ct(c.substr(0,u)),d[pi]=ct(c.substr(u)),x(m).bigHour=!0}),wt("hmmss",function(c,d,m){var u=c.length-4,b=c.length-2;d[ie]=ct(c.substr(0,u)),d[pi]=ct(c.substr(u,2)),d[Wi]=ct(c.substr(b)),x(m).bigHour=!0}),wt("Hmm",function(c,d,m){var u=c.length-2;d[ie]=ct(c.substr(0,u)),d[pi]=ct(c.substr(u))}),wt("Hmmss",function(c,d,m){var u=c.length-4,b=c.length-2;d[ie]=ct(c.substr(0,u)),d[pi]=ct(c.substr(u,2)),d[Wi]=ct(c.substr(b))});function Z_(c){return(c+"").toLowerCase().charAt(0)==="p"}var Q_=/[ap]\.?m?\.?/i,J_=oo("Hours",!0);function tb(c,d,m){return c>11?m?"pm":"PM":m?"am":"AM"}var dh={calendar:Vt,longDateFormat:G0,invalidDate:q0,ordinal:K0,dayOfMonthOrdinalParse:Z0,relativeTime:J0,months:f_,monthsShort:eh,week:P_,weekdays:R_,weekdaysMin:L_,weekdaysShort:sh,meridiemParse:Q_},Rt={},va={},xa;function eb(c,d){var m,u=Math.min(c.length,d.length);for(m=0;m<u;m+=1)if(c[m]!==d[m])return m;return u}function hh(c){return c&&c.toLowerCase().replace("_","-")}function ib(c){for(var d=0,m,u,b,M;d<c.length;){for(M=hh(c[d]).split("-"),m=M.length,u=hh(c[d+1]),u=u?u.split("-"):null;m>0;){if(b=kr(M.slice(0,m).join("-")),b)return b;if(u&&u.length>=m&&eb(M,u)>=m-1)break;m--}d++}return xa}function nb(c){return!!(c&&c.match("^[^/\\\\]*$"))}function kr(c){var d=null,m;if(Rt[c]===void 0&&typeof da<"u"&&da&&da.exports&&nb(c))try{d=xa._abbr,m=Nh,m("./locale/"+c),dn(d)}catch{Rt[c]=null}return Rt[c]}function dn(c,d){var m;return c&&(s(d)?m=Ui(c):m=Nc(c,d),m?xa=m:typeof console<"u"&&console.warn&&console.warn("Locale "+c+" not found. Did you forget to load it?")),xa._abbr}function Nc(c,d){if(d!==null){var m,u=dh;if(d.abbr=c,Rt[c]!=null)at("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),u=Rt[c]._config;else if(d.parentLocale!=null)if(Rt[d.parentLocale]!=null)u=Rt[d.parentLocale]._config;else if(m=kr(d.parentLocale),m!=null)u=m._config;else return va[d.parentLocale]||(va[d.parentLocale]=[]),va[d.parentLocale].push({name:c,config:d}),null;return Rt[c]=new ee(At(u,d)),va[c]&&va[c].forEach(function(b){Nc(b.name,b.config)}),dn(c),Rt[c]}else return delete Rt[c],null}function ob(c,d){if(d!=null){var m,u,b=dh;Rt[c]!=null&&Rt[c].parentLocale!=null?Rt[c].set(At(Rt[c]._config,d)):(u=kr(c),u!=null&&(b=u._config),d=At(b,d),u==null&&(d.abbr=c),m=new ee(d),m.parentLocale=Rt[c],Rt[c]=m),dn(c)}else Rt[c]!=null&&(Rt[c].parentLocale!=null?(Rt[c]=Rt[c].parentLocale,c===dn()&&dn(c)):Rt[c]!=null&&delete Rt[c]);return Rt[c]}function Ui(c){var d;if(c&&c._locale&&c._locale._abbr&&(c=c._locale._abbr),!c)return xa;if(!i(c)){if(d=kr(c),d)return d;c=[c]}return ib(c)}function ab(){return J(Rt)}function zc(c){var d,m=c._a;return m&&x(c).overflow===-2&&(d=m[Hi]<0||m[Hi]>11?Hi:m[vi]<1||m[vi]>Rc(m[ge],m[Hi])?vi:m[ie]<0||m[ie]>24||m[ie]===24&&(m[pi]!==0||m[Wi]!==0||m[Bn]!==0)?ie:m[pi]<0||m[pi]>59?pi:m[Wi]<0||m[Wi]>59?Wi:m[Bn]<0||m[Bn]>999?Bn:-1,x(c)._overflowDayOfYear&&(d<ge||d>vi)&&(d=vi),x(c)._overflowWeeks&&d===-1&&(d=l_),x(c)._overflowWeekday&&d===-1&&(d=d_),x(c).overflow=d),c}var rb=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sb=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cb=/Z|[+-]\d\d(?::?\d\d)?/,Cr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Bc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],lb=/^\/?Date\((-?\d+)/i,db=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,hb={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function mh(c){var d,m,u=c._i,b=rb.exec(u)||sb.exec(u),M,T,G,tt,ht=Cr.length,Pe=Bc.length;if(b){for(x(c).iso=!0,d=0,m=ht;d<m;d++)if(Cr[d][1].exec(b[1])){T=Cr[d][0],M=Cr[d][2]!==!1;break}if(T==null){c._isValid=!1;return}if(b[3]){for(d=0,m=Pe;d<m;d++)if(Bc[d][1].exec(b[3])){G=(b[2]||" ")+Bc[d][0];break}if(G==null){c._isValid=!1;return}}if(!M&&G!=null){c._isValid=!1;return}if(b[4])if(cb.exec(b[4]))tt="Z";else{c._isValid=!1;return}c._f=T+(G||"")+(tt||""),Hc(c)}else c._isValid=!1}function mb(c,d,m,u,b,M){var T=[pb(c),eh.indexOf(d),parseInt(m,10),parseInt(u,10),parseInt(b,10)];return M&&T.push(parseInt(M,10)),T}function pb(c){var d=parseInt(c,10);return d<=49?2e3+d:d<=999?1900+d:d}function ub(c){return c.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function fb(c,d,m){if(c){var u=sh.indexOf(c),b=new Date(d[0],d[1],d[2]).getDay();if(u!==b)return x(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function gb(c,d,m){if(c)return hb[c];if(d)return 0;var u=parseInt(m,10),b=u%100,M=(u-b)/100;return M*60+b}function ph(c){var d=db.exec(ub(c._i)),m;if(d){if(m=mb(d[4],d[3],d[2],d[5],d[6],d[7]),!fb(d[1],m,c))return;c._a=m,c._tzm=gb(d[8],d[9],d[10]),c._d=_a.apply(null,c._a),c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),x(c).rfc2822=!0}else c._isValid=!1}function _b(c){var d=lb.exec(c._i);if(d!==null){c._d=new Date(+d[1]);return}if(mh(c),c._isValid===!1)delete c._isValid;else return;if(ph(c),c._isValid===!1)delete c._isValid;else return;c._strict?c._isValid=!1:e.createFromInputFallback(c)}e.createFromInputFallback=Y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(c){c._d=new Date(c._i+(c._useUTC?" UTC":""))});function ao(c,d,m){return c??d??m}function bb(c){var d=new Date(e.now());return c._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()]}function Vc(c){var d,m,u=[],b,M,T;if(!c._d){for(b=bb(c),c._w&&c._a[vi]==null&&c._a[Hi]==null&&vb(c),c._dayOfYear!=null&&(T=ao(c._a[ge],b[ge]),(c._dayOfYear>fa(T)||c._dayOfYear===0)&&(x(c)._overflowDayOfYear=!0),m=_a(T,0,c._dayOfYear),c._a[Hi]=m.getUTCMonth(),c._a[vi]=m.getUTCDate()),d=0;d<3&&c._a[d]==null;++d)c._a[d]=u[d]=b[d];for(;d<7;d++)c._a[d]=u[d]=c._a[d]==null?d===2?1:0:c._a[d];c._a[ie]===24&&c._a[pi]===0&&c._a[Wi]===0&&c._a[Bn]===0&&(c._nextDay=!0,c._a[ie]=0),c._d=(c._useUTC?_a:M_).apply(null,u),M=c._useUTC?c._d.getUTCDay():c._d.getDay(),c._tzm!=null&&c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),c._nextDay&&(c._a[ie]=24),c._w&&typeof c._w.d<"u"&&c._w.d!==M&&(x(c).weekdayMismatch=!0)}}function vb(c){var d,m,u,b,M,T,G,tt,ht;d=c._w,d.GG!=null||d.W!=null||d.E!=null?(M=1,T=4,m=ao(d.GG,c._a[ge],ba(Ot(),1,4).year),u=ao(d.W,1),b=ao(d.E,1),(b<1||b>7)&&(tt=!0)):(M=c._locale._week.dow,T=c._locale._week.doy,ht=ba(Ot(),M,T),m=ao(d.gg,c._a[ge],ht.year),u=ao(d.w,ht.week),d.d!=null?(b=d.d,(b<0||b>6)&&(tt=!0)):d.e!=null?(b=d.e+M,(d.e<0||d.e>6)&&(tt=!0)):b=M),u<1||u>Yi(m,M,T)?x(c)._overflowWeeks=!0:tt!=null?x(c)._overflowWeekday=!0:(G=rh(m,u,b,M,T),c._a[ge]=G.year,c._dayOfYear=G.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Hc(c){if(c._f===e.ISO_8601){mh(c);return}if(c._f===e.RFC_2822){ph(c);return}c._a=[],x(c).empty=!0;var d=""+c._i,m,u,b,M,T,G=d.length,tt=0,ht,Pe;for(b=$d(c._f,c._locale).match(zn)||[],Pe=b.length,m=0;m<Pe;m++)M=b[m],u=(d.match(r_(M,c))||[])[0],u&&(T=d.substr(0,d.indexOf(u)),T.length>0&&x(c).unusedInput.push(T),d=d.slice(d.indexOf(u)+u.length),tt+=u.length),Ue[M]?(u?x(c).empty=!1:x(c).unusedTokens.push(M),c_(M,u,c)):c._strict&&!u&&x(c).unusedTokens.push(M);x(c).charsLeftOver=G-tt,d.length>0&&x(c).unusedInput.push(d),c._a[ie]<=12&&x(c).bigHour===!0&&c._a[ie]>0&&(x(c).bigHour=void 0),x(c).parsedDateParts=c._a.slice(0),x(c).meridiem=c._meridiem,c._a[ie]=xb(c._locale,c._a[ie],c._meridiem),ht=x(c).era,ht!==null&&(c._a[ge]=c._locale.erasConvertYear(ht,c._a[ge])),Vc(c),zc(c)}function xb(c,d,m){var u;return m==null?d:c.meridiemHour!=null?c.meridiemHour(d,m):(c.isPM!=null&&(u=c.isPM(m),u&&d<12&&(d+=12),!u&&d===12&&(d=0)),d)}function yb(c){var d,m,u,b,M,T,G=!1,tt=c._f.length;if(tt===0){x(c).invalidFormat=!0,c._d=new Date(NaN);return}for(b=0;b<tt;b++)M=0,T=!1,d=R({},c),c._useUTC!=null&&(d._useUTC=c._useUTC),d._f=c._f[b],Hc(d),P(d)&&(T=!0),M+=x(d).charsLeftOver,M+=x(d).unusedTokens.length*10,x(d).score=M,G?M<u&&(u=M,m=d):(u==null||M<u||T)&&(u=M,m=d,T&&(G=!0));g(c,m||d)}function kb(c){if(!c._d){var d=Ic(c._i),m=d.day===void 0?d.date:d.day;c._a=p([d.year,d.month,m,d.hour,d.minute,d.second,d.millisecond],function(u){return u&&parseInt(u,10)}),Vc(c)}}function Cb(c){var d=new A(zc(uh(c)));return d._nextDay&&(d.add(1,"d"),d._nextDay=void 0),d}function uh(c){var d=c._i,m=c._f;return c._locale=c._locale||Ui(c._l),d===null||m===void 0&&d===""?D({nullInput:!0}):(typeof d=="string"&&(c._i=d=c._locale.preparse(d)),z(d)?new A(zc(d)):(h(d)?c._d=d:i(m)?yb(c):m?Hc(c):wb(c),P(c)||(c._d=null),c))}function wb(c){var d=c._i;s(d)?c._d=new Date(e.now()):h(d)?c._d=new Date(d.valueOf()):typeof d=="string"?_b(c):i(d)?(c._a=p(d.slice(0),function(m){return parseInt(m,10)}),Vc(c)):o(d)?kb(c):l(d)?c._d=new Date(d):e.createFromInputFallback(c)}function fh(c,d,m,u,b){var M={};return(d===!0||d===!1)&&(u=d,d=void 0),(m===!0||m===!1)&&(u=m,m=void 0),(o(c)&&r(c)||i(c)&&c.length===0)&&(c=void 0),M._isAMomentObject=!0,M._useUTC=M._isUTC=b,M._l=m,M._i=c,M._f=d,M._strict=u,Cb(M)}function Ot(c,d,m,u){return fh(c,d,m,u,!1)}var Mb=Y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Ot.apply(null,arguments);return this.isValid()&&c.isValid()?c<this?this:c:D()}),Sb=Y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Ot.apply(null,arguments);return this.isValid()&&c.isValid()?c>this?this:c:D()});function gh(c,d){var m,u;if(d.length===1&&i(d[0])&&(d=d[0]),!d.length)return Ot();for(m=d[0],u=1;u<d.length;++u)(!d[u].isValid()||d[u][c](m))&&(m=d[u]);return m}function Pb(){var c=[].slice.call(arguments,0);return gh("isBefore",c)}function Db(){var c=[].slice.call(arguments,0);return gh("isAfter",c)}var Ib=function(){return Date.now?Date.now():+new Date},ya=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ob(c){var d,m=!1,u,b=ya.length;for(d in c)if(a(c,d)&&!($t.call(ya,d)!==-1&&(c[d]==null||!isNaN(c[d]))))return!1;for(u=0;u<b;++u)if(c[ya[u]]){if(m)return!1;parseFloat(c[ya[u]])!==ct(c[ya[u]])&&(m=!0)}return!0}function Tb(){return this._isValid}function Eb(){return ui(NaN)}function wr(c){var d=Ic(c),m=d.year||0,u=d.quarter||0,b=d.month||0,M=d.week||d.isoWeek||0,T=d.day||0,G=d.hour||0,tt=d.minute||0,ht=d.second||0,Pe=d.millisecond||0;this._isValid=Ob(d),this._milliseconds=+Pe+ht*1e3+tt*6e4+G*1e3*60*60,this._days=+T+M*7,this._months=+b+u*3+m*12,this._data={},this._locale=Ui(),this._bubble()}function Mr(c){return c instanceof wr}function Wc(c){return c<0?Math.round(-1*c)*-1:Math.round(c)}function Ab(c,d,m){var u=Math.min(c.length,d.length),b=Math.abs(c.length-d.length),M=0,T;for(T=0;T<u;T++)(m&&c[T]!==d[T]||!m&&ct(c[T])!==ct(d[T]))&&M++;return M+b}function _h(c,d){X(c,0,0,function(){var m=this.utcOffset(),u="+";return m<0&&(m=-m,u="-"),u+ae(~~(m/60),2)+d+ae(~~m%60,2)})}_h("Z",":"),_h("ZZ",""),$("Z",br),$("ZZ",br),wt(["Z","ZZ"],function(c,d,m){m._useUTC=!0,m._tzm=Yc(br,c)});var Rb=/([\+\-]|\d\d)/gi;function Yc(c,d){var m=(d||"").match(c),u,b,M;return m===null?null:(u=m[m.length-1]||[],b=(u+"").match(Rb)||["-",0,0],M=+(b[1]*60)+ct(b[2]),M===0?0:b[0]==="+"?M:-M)}function Uc(c,d){var m,u;return d._isUTC?(m=d.clone(),u=(z(c)||h(c)?c.valueOf():Ot(c).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+u),e.updateOffset(m,!1),m):Ot(c).local()}function Gc(c){return-Math.round(c._d.getTimezoneOffset())}e.updateOffset=function(){};function Lb(c,d,m){var u=this._offset||0,b;if(!this.isValid())return c!=null?this:NaN;if(c!=null){if(typeof c=="string"){if(c=Yc(br,c),c===null)return this}else Math.abs(c)<16&&!m&&(c=c*60);return!this._isUTC&&d&&(b=Gc(this)),this._offset=c,this._isUTC=!0,b!=null&&this.add(b,"m"),u!==c&&(!d||this._changeInProgress?yh(this,ui(c-u,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?u:Gc(this)}function jb(c,d){return c!=null?(typeof c!="string"&&(c=-c),this.utcOffset(c,d),this):-this.utcOffset()}function Fb(c){return this.utcOffset(0,c)}function Nb(c){return this._isUTC&&(this.utcOffset(0,c),this._isUTC=!1,c&&this.subtract(Gc(this),"m")),this}function zb(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var c=Yc(o_,this._i);c!=null?this.utcOffset(c):this.utcOffset(0,!0)}return this}function Bb(c){return this.isValid()?(c=c?Ot(c).utcOffset():0,(this.utcOffset()-c)%60===0):!1}function Vb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Hb(){if(!s(this._isDSTShifted))return this._isDSTShifted;var c={},d;return R(c,this),c=uh(c),c._a?(d=c._isUTC?v(c._a):Ot(c._a),this._isDSTShifted=this.isValid()&&Ab(c._a,d.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Wb(){return this.isValid()?!this._isUTC:!1}function Yb(){return this.isValid()?this._isUTC:!1}function bh(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Ub=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Gb=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ui(c,d){var m=c,u=null,b,M,T;return Mr(c)?m={ms:c._milliseconds,d:c._days,M:c._months}:l(c)||!isNaN(+c)?(m={},d?m[d]=+c:m.milliseconds=+c):(u=Ub.exec(c))?(b=u[1]==="-"?-1:1,m={y:0,d:ct(u[vi])*b,h:ct(u[ie])*b,m:ct(u[pi])*b,s:ct(u[Wi])*b,ms:ct(Wc(u[Bn]*1e3))*b}):(u=Gb.exec(c))?(b=u[1]==="-"?-1:1,m={y:Vn(u[2],b),M:Vn(u[3],b),w:Vn(u[4],b),d:Vn(u[5],b),h:Vn(u[6],b),m:Vn(u[7],b),s:Vn(u[8],b)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(T=$b(Ot(m.from),Ot(m.to)),m={},m.ms=T.milliseconds,m.M=T.months),M=new wr(m),Mr(c)&&a(c,"_locale")&&(M._locale=c._locale),Mr(c)&&a(c,"_isValid")&&(M._isValid=c._isValid),M}ui.fn=wr.prototype,ui.invalid=Eb;function Vn(c,d){var m=c&&parseFloat(c.replace(",","."));return(isNaN(m)?0:m)*d}function vh(c,d){var m={};return m.months=d.month()-c.month()+(d.year()-c.year())*12,c.clone().add(m.months,"M").isAfter(d)&&--m.months,m.milliseconds=+d-+c.clone().add(m.months,"M"),m}function $b(c,d){var m;return c.isValid()&&d.isValid()?(d=Uc(d,c),c.isBefore(d)?m=vh(c,d):(m=vh(d,c),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function xh(c,d){return function(m,u){var b,M;return u!==null&&!isNaN(+u)&&(at(d,"moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),M=m,m=u,u=M),b=ui(m,u),yh(this,b,c),this}}function yh(c,d,m,u){var b=d._milliseconds,M=Wc(d._days),T=Wc(d._months);c.isValid()&&(u=u??!0,T&&nh(c,ga(c,"Month")+T*m),M&&th(c,"Date",ga(c,"Date")+M*m),b&&c._d.setTime(c._d.valueOf()+b*m),u&&e.updateOffset(c,M||T))}var qb=xh(1,"add"),Xb=xh(-1,"subtract");function kh(c){return typeof c=="string"||c instanceof String}function Kb(c){return z(c)||h(c)||kh(c)||l(c)||Qb(c)||Zb(c)||c===null||c===void 0}function Zb(c){var d=o(c)&&!r(c),m=!1,u=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,M,T=u.length;for(b=0;b<T;b+=1)M=u[b],m=m||a(c,M);return d&&m}function Qb(c){var d=i(c),m=!1;return d&&(m=c.filter(function(u){return!l(u)&&kh(c)}).length===0),d&&m}function Jb(c){var d=o(c)&&!r(c),m=!1,u=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,M;for(b=0;b<u.length;b+=1)M=u[b],m=m||a(c,M);return d&&m}function tv(c,d){var m=c.diff(d,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function ev(c,d){arguments.length===1&&(arguments[0]?Kb(arguments[0])?(c=arguments[0],d=void 0):Jb(arguments[0])&&(d=arguments[0],c=void 0):(c=void 0,d=void 0));var m=c||Ot(),u=Uc(m,this).startOf("day"),b=e.calendarFormat(this,u)||"sameElse",M=d&&(et(d[b])?d[b].call(this,m):d[b]);return this.format(M||this.localeData().calendar(b,this,Ot(m)))}function iv(){return new A(this)}function nv(c,d){var m=z(c)?c:Ot(c);return this.isValid()&&m.isValid()?(d=ti(d)||"millisecond",d==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(d).valueOf()):!1}function ov(c,d){var m=z(c)?c:Ot(c);return this.isValid()&&m.isValid()?(d=ti(d)||"millisecond",d==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(d).valueOf()<m.valueOf()):!1}function av(c,d,m,u){var b=z(c)?c:Ot(c),M=z(d)?d:Ot(d);return this.isValid()&&b.isValid()&&M.isValid()?(u=u||"()",(u[0]==="("?this.isAfter(b,m):!this.isBefore(b,m))&&(u[1]===")"?this.isBefore(M,m):!this.isAfter(M,m))):!1}function rv(c,d){var m=z(c)?c:Ot(c),u;return this.isValid()&&m.isValid()?(d=ti(d)||"millisecond",d==="millisecond"?this.valueOf()===m.valueOf():(u=m.valueOf(),this.clone().startOf(d).valueOf()<=u&&u<=this.clone().endOf(d).valueOf())):!1}function sv(c,d){return this.isSame(c,d)||this.isAfter(c,d)}function cv(c,d){return this.isSame(c,d)||this.isBefore(c,d)}function lv(c,d,m){var u,b,M;if(!this.isValid())return NaN;if(u=Uc(c,this),!u.isValid())return NaN;switch(b=(u.utcOffset()-this.utcOffset())*6e4,d=ti(d),d){case"year":M=Sr(this,u)/12;break;case"month":M=Sr(this,u);break;case"quarter":M=Sr(this,u)/3;break;case"second":M=(this-u)/1e3;break;case"minute":M=(this-u)/6e4;break;case"hour":M=(this-u)/36e5;break;case"day":M=(this-u-b)/864e5;break;case"week":M=(this-u-b)/6048e5;break;default:M=this-u}return m?M:ei(M)}function Sr(c,d){if(c.date()<d.date())return-Sr(d,c);var m=(d.year()-c.year())*12+(d.month()-c.month()),u=c.clone().add(m,"months"),b,M;return d-u<0?(b=c.clone().add(m-1,"months"),M=(d-u)/(u-b)):(b=c.clone().add(m+1,"months"),M=(d-u)/(b-u)),-(m+M)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function dv(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function hv(c){if(!this.isValid())return null;var d=c!==!0,m=d?this.clone().utc():this;return m.year()<0||m.year()>9999?ln(m,d?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):et(Date.prototype.toISOString)?d?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ln(m,"Z")):ln(m,d?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mv(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var c="moment",d="",m,u,b,M;return this.isLocal()||(c=this.utcOffset()===0?"moment.utc":"moment.parseZone",d="Z"),m="["+c+'("]',u=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",M=d+'[")]',this.format(m+u+b+M)}function pv(c){c||(c=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var d=ln(this,c);return this.localeData().postformat(d)}function uv(c,d){return this.isValid()&&(z(c)&&c.isValid()||Ot(c).isValid())?ui({to:this,from:c}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function fv(c){return this.from(Ot(),c)}function gv(c,d){return this.isValid()&&(z(c)&&c.isValid()||Ot(c).isValid())?ui({from:this,to:c}).locale(this.locale()).humanize(!d):this.localeData().invalidDate()}function _v(c){return this.to(Ot(),c)}function Ch(c){var d;return c===void 0?this._locale._abbr:(d=Ui(c),d!=null&&(this._locale=d),this)}var wh=Y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(c){return c===void 0?this.localeData():this.locale(c)});function Mh(){return this._locale}var Pr=1e3,ro=60*Pr,Dr=60*ro,Sh=(365*400+97)*24*Dr;function so(c,d){return(c%d+d)%d}function Ph(c,d,m){return c<100&&c>=0?new Date(c+400,d,m)-Sh:new Date(c,d,m).valueOf()}function Dh(c,d,m){return c<100&&c>=0?Date.UTC(c+400,d,m)-Sh:Date.UTC(c,d,m)}function bv(c){var d,m;if(c=ti(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Dh:Ph,c){case"year":d=m(this.year(),0,1);break;case"quarter":d=m(this.year(),this.month()-this.month()%3,1);break;case"month":d=m(this.year(),this.month(),1);break;case"week":d=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":d=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":d=m(this.year(),this.month(),this.date());break;case"hour":d=this._d.valueOf(),d-=so(d+(this._isUTC?0:this.utcOffset()*ro),Dr);break;case"minute":d=this._d.valueOf(),d-=so(d,ro);break;case"second":d=this._d.valueOf(),d-=so(d,Pr);break}return this._d.setTime(d),e.updateOffset(this,!0),this}function vv(c){var d,m;if(c=ti(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?Dh:Ph,c){case"year":d=m(this.year()+1,0,1)-1;break;case"quarter":d=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":d=m(this.year(),this.month()+1,1)-1;break;case"week":d=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":d=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":d=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":d=this._d.valueOf(),d+=Dr-so(d+(this._isUTC?0:this.utcOffset()*ro),Dr)-1;break;case"minute":d=this._d.valueOf(),d+=ro-so(d,ro)-1;break;case"second":d=this._d.valueOf(),d+=Pr-so(d,Pr)-1;break}return this._d.setTime(d),e.updateOffset(this,!0),this}function xv(){return this._d.valueOf()-(this._offset||0)*6e4}function yv(){return Math.floor(this.valueOf()/1e3)}function kv(){return new Date(this.valueOf())}function Cv(){var c=this;return[c.year(),c.month(),c.date(),c.hour(),c.minute(),c.second(),c.millisecond()]}function wv(){var c=this;return{years:c.year(),months:c.month(),date:c.date(),hours:c.hours(),minutes:c.minutes(),seconds:c.seconds(),milliseconds:c.milliseconds()}}function Mv(){return this.isValid()?this.toISOString():null}function Sv(){return P(this)}function Pv(){return g({},x(this))}function Dv(){return x(this).overflow}function Iv(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr"),X("NN",0,0,"eraAbbr"),X("NNN",0,0,"eraAbbr"),X("NNNN",0,0,"eraName"),X("NNNNN",0,0,"eraNarrow"),X("y",["y",1],"yo","eraYear"),X("y",["yy",2],0,"eraYear"),X("y",["yyy",3],0,"eraYear"),X("y",["yyyy",4],0,"eraYear"),$("N",$c),$("NN",$c),$("NNN",$c),$("NNNN",Bv),$("NNNNN",Vv),wt(["N","NN","NNN","NNNN","NNNNN"],function(c,d,m,u){var b=m._locale.erasParse(c,u,m._strict);b?x(m).era=b:x(m).invalidEra=c}),$("y",io),$("yy",io),$("yyy",io),$("yyyy",io),$("yo",Hv),wt(["y","yy","yyy","yyyy"],ge),wt(["yo"],function(c,d,m,u){var b;m._locale._eraYearOrdinalRegex&&(b=c.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?d[ge]=m._locale.eraYearOrdinalParse(c,b):d[ge]=parseInt(c,10)});function Ov(c,d){var m,u,b,M=this._eras||Ui("en")._eras;for(m=0,u=M.length;m<u;++m){switch(typeof M[m].since){case"string":b=e(M[m].since).startOf("day"),M[m].since=b.valueOf();break}switch(typeof M[m].until){case"undefined":M[m].until=1/0;break;case"string":b=e(M[m].until).startOf("day").valueOf(),M[m].until=b.valueOf();break}}return M}function Tv(c,d,m){var u,b,M=this.eras(),T,G,tt;for(c=c.toUpperCase(),u=0,b=M.length;u<b;++u)if(T=M[u].name.toUpperCase(),G=M[u].abbr.toUpperCase(),tt=M[u].narrow.toUpperCase(),m)switch(d){case"N":case"NN":case"NNN":if(G===c)return M[u];break;case"NNNN":if(T===c)return M[u];break;case"NNNNN":if(tt===c)return M[u];break}else if([T,G,tt].indexOf(c)>=0)return M[u]}function Ev(c,d){var m=c.since<=c.until?1:-1;return d===void 0?e(c.since).year():e(c.since).year()+(d-c.offset)*m}function Av(){var c,d,m,u=this.localeData().eras();for(c=0,d=u.length;c<d;++c)if(m=this.clone().startOf("day").valueOf(),u[c].since<=m&&m<=u[c].until||u[c].until<=m&&m<=u[c].since)return u[c].name;return""}function Rv(){var c,d,m,u=this.localeData().eras();for(c=0,d=u.length;c<d;++c)if(m=this.clone().startOf("day").valueOf(),u[c].since<=m&&m<=u[c].until||u[c].until<=m&&m<=u[c].since)return u[c].narrow;return""}function Lv(){var c,d,m,u=this.localeData().eras();for(c=0,d=u.length;c<d;++c)if(m=this.clone().startOf("day").valueOf(),u[c].since<=m&&m<=u[c].until||u[c].until<=m&&m<=u[c].since)return u[c].abbr;return""}function jv(){var c,d,m,u,b=this.localeData().eras();for(c=0,d=b.length;c<d;++c)if(m=b[c].since<=b[c].until?1:-1,u=this.clone().startOf("day").valueOf(),b[c].since<=u&&u<=b[c].until||b[c].until<=u&&u<=b[c].since)return(this.year()-e(b[c].since).year())*m+b[c].offset;return this.year()}function Fv(c){return a(this,"_erasNameRegex")||qc.call(this),c?this._erasNameRegex:this._erasRegex}function Nv(c){return a(this,"_erasAbbrRegex")||qc.call(this),c?this._erasAbbrRegex:this._erasRegex}function zv(c){return a(this,"_erasNarrowRegex")||qc.call(this),c?this._erasNarrowRegex:this._erasRegex}function $c(c,d){return d.erasAbbrRegex(c)}function Bv(c,d){return d.erasNameRegex(c)}function Vv(c,d){return d.erasNarrowRegex(c)}function Hv(c,d){return d._eraYearOrdinalRegex||io}function qc(){var c=[],d=[],m=[],u=[],b,M,T,G,tt,ht=this.eras();for(b=0,M=ht.length;b<M;++b)T=Vi(ht[b].name),G=Vi(ht[b].abbr),tt=Vi(ht[b].narrow),d.push(T),c.push(G),m.push(tt),u.push(T),u.push(G),u.push(tt);this._erasRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+d.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100}),X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ir(c,d){X(0,[c,c.length],0,d)}Ir("gggg","weekYear"),Ir("ggggg","weekYear"),Ir("GGGG","isoWeekYear"),Ir("GGGGG","isoWeekYear"),$("G",_r),$("g",_r),$("GG",It,Ge),$("gg",It,Ge),$("GGGG",Tc,Oc),$("gggg",Tc,Oc),$("GGGGG",gr,ur),$("ggggg",gr,ur),ua(["gggg","ggggg","GGGG","GGGGG"],function(c,d,m,u){d[u.substr(0,2)]=ct(c)}),ua(["gg","GG"],function(c,d,m,u){d[u]=e.parseTwoDigitYear(c)});function Wv(c){return Ih.call(this,c,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Yv(c){return Ih.call(this,c,this.isoWeek(),this.isoWeekday(),1,4)}function Uv(){return Yi(this.year(),1,4)}function Gv(){return Yi(this.isoWeekYear(),1,4)}function $v(){var c=this.localeData()._week;return Yi(this.year(),c.dow,c.doy)}function qv(){var c=this.localeData()._week;return Yi(this.weekYear(),c.dow,c.doy)}function Ih(c,d,m,u,b){var M;return c==null?ba(this,u,b).year:(M=Yi(c,u,b),d>M&&(d=M),Xv.call(this,c,d,m,u,b))}function Xv(c,d,m,u,b){var M=rh(c,d,m,u,b),T=_a(M.year,0,M.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}X("Q",0,"Qo","quarter"),$("Q",Xd),wt("Q",function(c,d){d[Hi]=(ct(c)-1)*3});function Kv(c){return c==null?Math.ceil((this.month()+1)/3):this.month((c-1)*3+this.month()%3)}X("D",["DD",2],"Do","date"),$("D",It,no),$("DD",It,Ge),$("Do",function(c,d){return c?d._dayOfMonthOrdinalParse||d._ordinalParse:d._dayOfMonthOrdinalParseLenient}),wt(["D","DD"],vi),wt("Do",function(c,d){d[vi]=ct(c.match(It)[0])});var Oh=oo("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear"),$("DDD",fr),$("DDDD",Kd),wt(["DDD","DDDD"],function(c,d,m){m._dayOfYear=ct(c)});function Zv(c){var d=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return c==null?d:this.add(c-d,"d")}X("m",["mm",2],0,"minute"),$("m",It,Ec),$("mm",It,Ge),wt(["m","mm"],pi);var Qv=oo("Minutes",!1);X("s",["ss",2],0,"second"),$("s",It,Ec),$("ss",It,Ge),wt(["s","ss"],Wi);var Jv=oo("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)}),X(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),X(0,["SSS",3],0,"millisecond"),X(0,["SSSS",4],0,function(){return this.millisecond()*10}),X(0,["SSSSS",5],0,function(){return this.millisecond()*100}),X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),$("S",fr,Xd),$("SS",fr,Ge),$("SSS",fr,Kd);var hn,Th;for(hn="SSSS";hn.length<=9;hn+="S")$(hn,io);function tx(c,d){d[Bn]=ct(("0."+c)*1e3)}for(hn="S";hn.length<=9;hn+="S")wt(hn,tx);Th=oo("Milliseconds",!1),X("z",0,0,"zoneAbbr"),X("zz",0,0,"zoneName");function ex(){return this._isUTC?"UTC":""}function ix(){return this._isUTC?"Coordinated Universal Time":""}var V=A.prototype;V.add=qb,V.calendar=ev,V.clone=iv,V.diff=lv,V.endOf=vv,V.format=pv,V.from=uv,V.fromNow=fv,V.to=gv,V.toNow=_v,V.get=m_,V.invalidAt=Dv,V.isAfter=nv,V.isBefore=ov,V.isBetween=av,V.isSame=rv,V.isSameOrAfter=sv,V.isSameOrBefore=cv,V.isValid=Sv,V.lang=wh,V.locale=Ch,V.localeData=Mh,V.max=Sb,V.min=Mb,V.parsingFlags=Pv,V.set=p_,V.startOf=bv,V.subtract=Xb,V.toArray=Cv,V.toObject=wv,V.toDate=kv,V.toISOString=hv,V.inspect=mv,typeof Symbol<"u"&&Symbol.for!=null&&(V[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),V.toJSON=Mv,V.toString=dv,V.unix=yv,V.valueOf=xv,V.creationData=Iv,V.eraName=Av,V.eraNarrow=Rv,V.eraAbbr=Lv,V.eraYear=jv,V.year=Jd,V.isLeapYear=h_,V.weekYear=Wv,V.isoWeekYear=Yv,V.quarter=V.quarters=Kv,V.month=oh,V.daysInMonth=k_,V.week=V.weeks=O_,V.isoWeek=V.isoWeeks=T_,V.weeksInYear=$v,V.weeksInWeekYear=qv,V.isoWeeksInYear=Uv,V.isoWeeksInISOWeekYear=Gv,V.date=Oh,V.day=V.days=Y_,V.weekday=U_,V.isoWeekday=G_,V.dayOfYear=Zv,V.hour=V.hours=J_,V.minute=V.minutes=Qv,V.second=V.seconds=Jv,V.millisecond=V.milliseconds=Th,V.utcOffset=Lb,V.utc=Fb,V.local=Nb,V.parseZone=zb,V.hasAlignedHourOffset=Bb,V.isDST=Vb,V.isLocal=Wb,V.isUtcOffset=Yb,V.isUtc=bh,V.isUTC=bh,V.zoneAbbr=ex,V.zoneName=ix,V.dates=Y("dates accessor is deprecated. Use date instead.",Oh),V.months=Y("months accessor is deprecated. Use month instead",oh),V.years=Y("years accessor is deprecated. Use year instead",Jd),V.zone=Y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",jb),V.isDSTShifted=Y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Hb);function nx(c){return Ot(c*1e3)}function ox(){return Ot.apply(null,arguments).parseZone()}function Eh(c){return c}var gt=ee.prototype;gt.calendar=Ft,gt.longDateFormat=$0,gt.invalidDate=X0,gt.ordinal=Q0,gt.preparse=Eh,gt.postformat=Eh,gt.relativeTime=t_,gt.pastFuture=e_,gt.set=rt,gt.eras=Ov,gt.erasParse=Tv,gt.erasConvertYear=Ev,gt.erasAbbrRegex=Nv,gt.erasNameRegex=Fv,gt.erasNarrowRegex=zv,gt.months=b_,gt.monthsShort=v_,gt.monthsParse=y_,gt.monthsRegex=w_,gt.monthsShortRegex=C_,gt.week=S_,gt.firstDayOfYear=I_,gt.firstDayOfWeek=D_,gt.weekdays=z_,gt.weekdaysMin=V_,gt.weekdaysShort=B_,gt.weekdaysParse=W_,gt.weekdaysRegex=$_,gt.weekdaysShortRegex=q_,gt.weekdaysMinRegex=X_,gt.isPM=Z_,gt.meridiem=tb;function Or(c,d,m,u){var b=Ui(),M=v().set(u,d);return b[m](M,c)}function Ah(c,d,m){if(l(c)&&(d=c,c=void 0),c=c||"",d!=null)return Or(c,d,m,"month");var u,b=[];for(u=0;u<12;u++)b[u]=Or(c,u,m,"month");return b}function Xc(c,d,m,u){typeof c=="boolean"?(l(d)&&(m=d,d=void 0),d=d||""):(d=c,m=d,c=!1,l(d)&&(m=d,d=void 0),d=d||"");var b=Ui(),M=c?b._week.dow:0,T,G=[];if(m!=null)return Or(d,(m+M)%7,u,"day");for(T=0;T<7;T++)G[T]=Or(d,(T+M)%7,u,"day");return G}function ax(c,d){return Ah(c,d,"months")}function rx(c,d){return Ah(c,d,"monthsShort")}function sx(c,d,m){return Xc(c,d,m,"weekdays")}function cx(c,d,m){return Xc(c,d,m,"weekdaysShort")}function lx(c,d,m){return Xc(c,d,m,"weekdaysMin")}dn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(c){var d=c%10,m=ct(c%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th";return c+m}}),e.lang=Y("moment.lang is deprecated. Use moment.locale instead.",dn),e.langData=Y("moment.langData is deprecated. Use moment.localeData instead.",Ui);var Gi=Math.abs;function dx(){var c=this._data;return this._milliseconds=Gi(this._milliseconds),this._days=Gi(this._days),this._months=Gi(this._months),c.milliseconds=Gi(c.milliseconds),c.seconds=Gi(c.seconds),c.minutes=Gi(c.minutes),c.hours=Gi(c.hours),c.months=Gi(c.months),c.years=Gi(c.years),this}function Rh(c,d,m,u){var b=ui(d,m);return c._milliseconds+=u*b._milliseconds,c._days+=u*b._days,c._months+=u*b._months,c._bubble()}function hx(c,d){return Rh(this,c,d,1)}function mx(c,d){return Rh(this,c,d,-1)}function Lh(c){return c<0?Math.floor(c):Math.ceil(c)}function px(){var c=this._milliseconds,d=this._days,m=this._months,u=this._data,b,M,T,G,tt;return c>=0&&d>=0&&m>=0||c<=0&&d<=0&&m<=0||(c+=Lh(Kc(m)+d)*864e5,d=0,m=0),u.milliseconds=c%1e3,b=ei(c/1e3),u.seconds=b%60,M=ei(b/60),u.minutes=M%60,T=ei(M/60),u.hours=T%24,d+=ei(T/24),tt=ei(jh(d)),m+=tt,d-=Lh(Kc(tt)),G=ei(m/12),m%=12,u.days=d,u.months=m,u.years=G,this}function jh(c){return c*4800/146097}function Kc(c){return c*146097/4800}function ux(c){if(!this.isValid())return NaN;var d,m,u=this._milliseconds;if(c=ti(c),c==="month"||c==="quarter"||c==="year")switch(d=this._days+u/864e5,m=this._months+jh(d),c){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(d=this._days+Math.round(Kc(this._months)),c){case"week":return d/7+u/6048e5;case"day":return d+u/864e5;case"hour":return d*24+u/36e5;case"minute":return d*1440+u/6e4;case"second":return d*86400+u/1e3;case"millisecond":return Math.floor(d*864e5)+u;default:throw new Error("Unknown unit "+c)}}function $i(c){return function(){return this.as(c)}}var Fh=$i("ms"),fx=$i("s"),gx=$i("m"),_x=$i("h"),bx=$i("d"),vx=$i("w"),xx=$i("M"),yx=$i("Q"),kx=$i("y"),Cx=Fh;function wx(){return ui(this)}function Mx(c){return c=ti(c),this.isValid()?this[c+"s"]():NaN}function Hn(c){return function(){return this.isValid()?this._data[c]:NaN}}var Sx=Hn("milliseconds"),Px=Hn("seconds"),Dx=Hn("minutes"),Ix=Hn("hours"),Ox=Hn("days"),Tx=Hn("months"),Ex=Hn("years");function Ax(){return ei(this.days()/7)}var qi=Math.round,co={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Rx(c,d,m,u,b){return b.relativeTime(d||1,!!m,c,u)}function Lx(c,d,m,u){var b=ui(c).abs(),M=qi(b.as("s")),T=qi(b.as("m")),G=qi(b.as("h")),tt=qi(b.as("d")),ht=qi(b.as("M")),Pe=qi(b.as("w")),Xi=qi(b.as("y")),mn=M<=m.ss&&["s",M]||M<m.s&&["ss",M]||T<=1&&["m"]||T<m.m&&["mm",T]||G<=1&&["h"]||G<m.h&&["hh",G]||tt<=1&&["d"]||tt<m.d&&["dd",tt];return m.w!=null&&(mn=mn||Pe<=1&&["w"]||Pe<m.w&&["ww",Pe]),mn=mn||ht<=1&&["M"]||ht<m.M&&["MM",ht]||Xi<=1&&["y"]||["yy",Xi],mn[2]=d,mn[3]=+c>0,mn[4]=u,Rx.apply(null,mn)}function jx(c){return c===void 0?qi:typeof c=="function"?(qi=c,!0):!1}function Fx(c,d){return co[c]===void 0?!1:d===void 0?co[c]:(co[c]=d,c==="s"&&(co.ss=d-1),!0)}function Nx(c,d){if(!this.isValid())return this.localeData().invalidDate();var m=!1,u=co,b,M;return typeof c=="object"&&(d=c,c=!1),typeof c=="boolean"&&(m=c),typeof d=="object"&&(u=Object.assign({},co,d),d.s!=null&&d.ss==null&&(u.ss=d.s-1)),b=this.localeData(),M=Lx(this,!m,u,b),m&&(M=b.pastFuture(+this,M)),b.postformat(M)}var Zc=Math.abs;function lo(c){return(c>0)-(c<0)||+c}function Tr(){if(!this.isValid())return this.localeData().invalidDate();var c=Zc(this._milliseconds)/1e3,d=Zc(this._days),m=Zc(this._months),u,b,M,T,G=this.asSeconds(),tt,ht,Pe,Xi;return G?(u=ei(c/60),b=ei(u/60),c%=60,u%=60,M=ei(m/12),m%=12,T=c?c.toFixed(3).replace(/\.?0+$/,""):"",tt=G<0?"-":"",ht=lo(this._months)!==lo(G)?"-":"",Pe=lo(this._days)!==lo(G)?"-":"",Xi=lo(this._milliseconds)!==lo(G)?"-":"",tt+"P"+(M?ht+M+"Y":"")+(m?ht+m+"M":"")+(d?Pe+d+"D":"")+(b||u||c?"T":"")+(b?Xi+b+"H":"")+(u?Xi+u+"M":"")+(c?Xi+T+"S":"")):"P0D"}var pt=wr.prototype;pt.isValid=Tb,pt.abs=dx,pt.add=hx,pt.subtract=mx,pt.as=ux,pt.asMilliseconds=Fh,pt.asSeconds=fx,pt.asMinutes=gx,pt.asHours=_x,pt.asDays=bx,pt.asWeeks=vx,pt.asMonths=xx,pt.asQuarters=yx,pt.asYears=kx,pt.valueOf=Cx,pt._bubble=px,pt.clone=wx,pt.get=Mx,pt.milliseconds=Sx,pt.seconds=Px,pt.minutes=Dx,pt.hours=Ix,pt.days=Ox,pt.weeks=Ax,pt.months=Tx,pt.years=Ex,pt.humanize=Nx,pt.toISOString=Tr,pt.toString=Tr,pt.toJSON=Tr,pt.locale=Ch,pt.localeData=Mh,pt.toIsoString=Y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Tr),pt.lang=wh,X("X",0,0,"unix"),X("x",0,0,"valueOf"),$("x",_r),$("X",a_),wt("X",function(c,d,m){m._d=new Date(parseFloat(c)*1e3)}),wt("x",function(c,d,m){m._d=new Date(ct(c))});return e.version="2.30.1",t(Ot),e.fn=V,e.min=Pb,e.max=Db,e.now=Ib,e.utc=v,e.unix=nx,e.months=ax,e.isDate=h,e.locale=dn,e.invalid=D,e.duration=ui,e.isMoment=z,e.weekdays=sx,e.parseZone=ox,e.localeData=Ui,e.isDuration=Mr,e.monthsShort=rx,e.weekdaysMin=lx,e.defineLocale=Nc,e.updateLocale=ob,e.locales=ab,e.weekdaysShort=cx,e.normalizeUnits=ti,e.relativeTimeRounding=jx,e.relativeTimeThreshold=Fx,e.calendarFormat=tv,e.prototype=V,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var op=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({imports:[Zt,Zt]})}}return n})();var Bx=0,ap="mat-badge-content",dl=new Set,Vx=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],standalone:!0,features:[Q],decls:0,vars:0,template:function(i,o){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-app-error));color:var(--mat-badge-text-color, var(--mat-app-on-error));font-family:var(--mat-badge-text-font, var(--mat-app-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-app-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-app-corner-full))}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color, var(--mat-app-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size);height:var(--mat-badge-legacy-small-size-container-size);min-width:var(--mat-badge-small-size-container-size);min-height:var(--mat-badge-small-size-container-size);line-height:var(--mat-badge-small-size-line-height);padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size);height:var(--mat-badge-legacy-container-size);min-width:var(--mat-badge-container-size);min-height:var(--mat-badge-container-size);line-height:var(--mat-badge-line-height);padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size);height:var(--mat-badge-legacy-large-size-container-size);min-width:var(--mat-badge-large-size-container-size);min-height:var(--mat-badge-large-size-container-size);line-height:var(--mat-badge-large-size-line-height);padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size, var(--mat-app-label-small-size));margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}}return n})(),sp=(()=>{class n{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}constructor(t,i,o,a,r){this._ngZone=t,this._elementRef=i,this._ariaDescriber=o,this._renderer=a,this._animationMode=r,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=Bx++,this._isInitialized=!1,this._interactivityChecker=_e(Mm),this._document=_e(oi);let s=_e(Br);if(!dl.has(s)){dl.add(s);let l=Vr(Vx,{environmentInjector:_e(jr)});s.onDestroy(()=>{dl.delete(s),l.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(ap),this._animationMode==="NoopAnimations"&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){let i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${ap}`);for(let i of Array.from(t))i!==this._badgeElement&&i.remove()}static{this.\u0275fac=function(i){return new(i||n)(I(De),I(se),I(Ur),I(tm),I(ii,8))}}static{this.\u0275dir=Ht({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,o){i&2&&ft("mat-badge-overlap",o.overlap)("mat-badge-above",o.isAbove())("mat-badge-below",!o.isAbove())("mat-badge-before",!o.isAfter())("mat-badge-after",o.isAfter())("mat-badge-small",o.size==="small")("mat-badge-medium",o.size==="medium")("mat-badge-large",o.size==="large")("mat-badge-hidden",o.hidden||!o.content)("mat-badge-disabled",o.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",Mt],disabled:[2,"matBadgeDisabled","disabled",Mt],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",Mt]},standalone:!0,features:[pe]})}}return n})(),cp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({imports:[$r,Zt,Zt]})}}return n})();function Wx(n,e){if(n&1){let t=K();f(0,"button",11),N("click",function(o){return L(t),O().markAllAsRead(),j(o.stopPropagation())}),y(1," Mark all as read "),_()}}function Yx(n,e){n&1&&(f(0,"div",12),y(1," No notifications "),_())}function Ux(n,e){n&1&&(f(0,"span",24)(1,"mat-icon",25),y(2,"folder"),_(),y(3," Project "),_())}function Gx(n,e){n&1&&(f(0,"span",26)(1,"mat-icon",25),y(2,"task"),_(),y(3," Task "),_())}function $x(n,e){n&1&&U(0,"div",27)}function qx(n,e){if(n&1){let t=K();f(0,"div",13),N("click",function(){let o=L(t).$implicit,a=O();return j(a.onNotificationClick(o))}),f(1,"div",14)(2,"div")(3,"mat-icon"),y(4),_()(),f(5,"div",15)(6,"div",16)(7,"span",17),y(8),_(),f(9,"span",18),y(10),_()(),f(11,"p",19)(12,"span"),y(13),_()(),f(14,"div",20),B(15,Ux,4,0,"span",21)(16,Gx,4,0,"span",22),_()(),B(17,$x,1,0,"div",23),_()()}if(n&2){let t=e.$implicit,i=O();ft("unread",!t.read),C(2),ki(i.getNotificationIconClass(t.type)),C(2),it(i.getNotificationIcon(t.type)),C(4),it(t.title),C(2),W(" ",i.getTimeAgo(t.createdAt)," "),C(2),ki(i.getStatusClass(t.message)),ft("px-2",t.type==="task_modified"),C(),W(" ",t.message," "),C(2),S("ngIf",t.projectId),C(),S("ngIf",t.taskId),C(),S("ngIf",!t.read)}}function Xx(n,e){n&1&&(f(0,"div",28),U(1,"mat-spinner",29),_())}var rs=class n{constructor(e){this.notificationService=e;this.subscription=this.notificationService.notifications$.subscribe(t=>{this.notifications.unshift(t),t.read||this.unreadCount++})}notifications=[];unreadCount=0;subscription;currentPage=1;loading=!1;hasMore=!0;isFirstLoad=!0;ngOnInit(){}ngOnDestroy(){this.subscription.unsubscribe()}loadNotifications(e=!1){if(this.loading||!e&&!this.isFirstLoad)return;this.loading=!0;let t=e?this.currentPage+1:1;this.notificationService.getNotifications(t).subscribe({next:i=>{e?(this.notifications=[...this.notifications,...i.notifications],this.currentPage++):(this.notifications=i.notifications,this.currentPage=1,this.isFirstLoad=!1),this.hasMore=i.hasMore,this.unreadCount=this.notifications.filter(o=>!o.read).length,this.loading=!1},error:i=>{console.error("Error loading notifications:",i),this.loading=!1}})}onScroll(e){let t=e.target;this.hasMore&&!this.loading&&t.scrollHeight-t.scrollTop<=t.clientHeight+50&&this.loadNotifications(!0)}markAllAsRead(){this.notificationService.markAllAsRead().subscribe(()=>{this.notifications.forEach(e=>e.read=!0),this.unreadCount=0})}onNotificationClick(e){!e.read&&e._id&&this.notificationService.markAsRead(e._id).subscribe(()=>{e.read=!0,this.unreadCount=Math.max(0,this.unreadCount-1)}),e.projectId&&(e.taskId?window.location.href=`/projects/${e.projectId}/tasks/${e.taskId}`:window.location.href=`/projects/${e.projectId}`)}getNotificationIconClass(e){let t="icon-container ";switch(e){case"task_assignment":return t+"icon-task";case"project_update":return t+"icon-update";case"mention":return t+"icon-mention";case"due_date":return t+"icon-due";case"task_modified":return t+"icon-edit";case"new_comment":return t+"icon-comment";default:return t+"icon-update"}}getTimeAgo(e){let t=new Date,i=new Date(e),o=Math.floor((t.getTime()-i.getTime())/1e3);if(o<60)return"Just now";let a=Math.floor(o/60);if(a<60)return`${a}m ago`;let r=Math.floor(a/60);if(r<24)return`${r}h ago`;let s=Math.floor(r/24);return s<7?`${s}d ago`:i.toLocaleDateString()}getNotificationIcon(e){switch(e){case"task_assignment":return"assignment";case"due_date":return"event";case"mention":return"comment";case"project_update":return"update";case"task_modified":return"edit";case"new_comment":return"chat";default:return"notifications"}}getStatusClass(e){return e.includes("completed")?"status-done":e.includes("started working on")?"status-in-progress":e.includes("marked as stuck")?"status-stuck":e.includes("reset")?"status-not-started":""}static \u0275fac=function(t){return new(t||n)(I(Gm))};static \u0275cmp=Z({type:n,selectors:[["app-notification-menu"]],standalone:!0,features:[Q],decls:14,vars:7,consts:[["menu","matMenu"],["mat-icon-button","","matBadgeColor","warn",1,"notification-button","dark:text-gray-300",3,"click","matMenuTriggerFor","matBadge","matBadgeHidden"],[1,"notification-menu"],[1,"notification-header","dark:bg-gray-800","dark:border-gray-700"],[1,"px-4","py-2","text-lg","font-semibold","dark:text-white"],[1,"flex","gap-2"],["mat-button","","class","text-blue-600 dark:text-blue-400",3,"click",4,"ngIf"],[1,"notification-list","max-h-[400px]","overflow-y-auto","dark:bg-gray-800",3,"scroll"],["class","p-4 text-gray-500 dark:text-gray-400 text-center",4,"ngIf"],["class","notification-item p-4 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer border-b dark:border-gray-700",3,"unread","click",4,"ngFor","ngForOf"],["class","p-4 text-center dark:text-gray-300",4,"ngIf"],["mat-button","",1,"text-blue-600","dark:text-blue-400",3,"click"],[1,"p-4","text-gray-500","dark:text-gray-400","text-center"],[1,"notification-item","p-4","hover:bg-gray-50","dark:hover:bg-gray-700","cursor-pointer","border-b","dark:border-gray-700",3,"click"],[1,"flex","items-start","gap-3"],[1,"flex-grow"],[1,"flex","justify-between","items-start","mb-1"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-xs","text-gray-500","dark:text-gray-400"],[1,"text-sm","text-gray-600","dark:text-gray-300","mb-1"],[1,"flex","flex-wrap","gap-2","mt-2"],["class","inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-50 text-blue-700 dark:bg-blue-900 dark:text-blue-300",4,"ngIf"],["class","inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-purple-50 text-purple-700 dark:bg-purple-900 dark:text-purple-300",4,"ngIf"],["class","w-2 h-2 rounded-full bg-blue-500 mt-2",4,"ngIf"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","font-medium","bg-blue-50","text-blue-700","dark:bg-blue-900","dark:text-blue-300"],[1,"text-sm","mr-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","font-medium","bg-purple-50","text-purple-700","dark:bg-purple-900","dark:text-purple-300"],[1,"w-2","h-2","rounded-full","bg-blue-500","mt-2"],[1,"p-4","text-center","dark:text-gray-300"],["diameter","20"]],template:function(t,i){if(t&1){let o=K();f(0,"button",1),N("click",function(){return L(o),j(i.loadNotifications())}),f(1,"mat-icon"),y(2,"notifications"),_()(),f(3,"mat-menu",2,0)(5,"div",3)(6,"h3",4),y(7,"Notifications"),_(),f(8,"div",5),B(9,Wx,2,0,"button",6),_()(),f(10,"div",7),N("scroll",function(r){return L(o),j(i.onScroll(r))}),B(11,Yx,2,0,"div",8)(12,qx,18,15,"div",9)(13,Xx,2,0,"div",10),_()()}if(t&2){let o=qt(4);S("matMenuTriggerFor",o)("matBadge",i.unreadCount)("matBadgeHidden",i.unreadCount===0),C(9),S("ngIf",i.unreadCount>0),C(2),S("ngIf",i.notifications.length===0),C(),S("ngForOf",i.notifications),C(),S("ngIf",i.loading)}},dependencies:[dt,Lt,yt,Pi,fn,gn,Ut,Yt,cp,sp,jt,ce,Fe,je,he,ke],styles:[".notification-menu[_ngcontent-%COMP%]{max-width:400px;min-width:350px}.notification-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e5e7eb;padding:8px 16px;background-color:#f9fafb}.notification-item[_ngcontent-%COMP%]{transition:background-color .2s}.notification-item.unread[_ngcontent-%COMP%]{background-color:#f0f9ff}.dark[_nghost-%COMP%]   .notification-item.unread[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .notification-item.unread[_ngcontent-%COMP%]{background-color:#3b82f61a}.icon-container[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%}.icon-task[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#0369a1}.dark[_nghost-%COMP%]   .icon-task[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .icon-task[_ngcontent-%COMP%]{background-color:#0ea5e933;color:#38bdf8}.icon-update[_ngcontent-%COMP%]{background-color:#f0fdf4;color:#15803d}.dark[_nghost-%COMP%]   .icon-update[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .icon-update[_ngcontent-%COMP%]{background-color:#22c55e33;color:#4ade80}.icon-mention[_ngcontent-%COMP%]{background-color:#fef3c7;color:#b45309}.dark[_nghost-%COMP%]   .icon-mention[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .icon-mention[_ngcontent-%COMP%]{background-color:#eab30833;color:#facc15}.icon-due[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}.dark[_nghost-%COMP%]   .icon-due[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .icon-due[_ngcontent-%COMP%]{background-color:#ef444433;color:#f87171}.icon-edit[_ngcontent-%COMP%]{background-color:#f3e8ff;color:#7e22ce}.dark[_nghost-%COMP%]   .icon-edit[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .icon-edit[_ngcontent-%COMP%]{background-color:#a855f733;color:#c084fc}.icon-comment[_ngcontent-%COMP%]{background-color:#fae8ff;color:#c026d3}.dark[_nghost-%COMP%]   .icon-comment[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .icon-comment[_ngcontent-%COMP%]{background-color:#d850f033;color:#e879f9}.status-not-started[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#4b5563}.dark[_nghost-%COMP%]   .status-not-started[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .status-not-started[_ngcontent-%COMP%]{background-color:#4b556333;color:#9ca3af}.status-in-progress[_ngcontent-%COMP%]{background-color:#dbeafe;color:#2563eb}.dark[_nghost-%COMP%]   .status-in-progress[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .status-in-progress[_ngcontent-%COMP%]{background-color:#2563eb33;color:#60a5fa}.status-done[_ngcontent-%COMP%]{background-color:#dcfce7;color:#16a34a}.dark[_nghost-%COMP%]   .status-done[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .status-done[_ngcontent-%COMP%]{background-color:#16a34a33;color:#4ade80}.status-stuck[_ngcontent-%COMP%]{background-color:#fee2e2;color:#dc2626}.dark[_nghost-%COMP%]   .status-stuck[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .status-stuck[_ngcontent-%COMP%]{background-color:#dc262633;color:#f87171}"]})};var lp={production:!0,apiUrl:"https://planify-app-backend.vercel.app",googleClientId:"1050818393271-h7sovbi2l89odsg348ik697814lrv3hm.apps.googleusercontent.com",serverUrl:"https://planify-app-backend.vercel.app"};var Io=class n{constructor(e){this.http=e}apiUrl=`${lp.apiUrl}/api`;searchProjectsAndTasks(e,t,i,o){let a=`${this.apiUrl}/search?term=${e}`;return t&&(a+=`&status=${t}`),i&&(a+=`&priority=${i}`),o&&(a+=`&type=${o}`),this.http.get(a)}static \u0275fac=function(t){return new(t||n)(me(um))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})};var Oo=class n{darkMode=new ho(!1);darkMode$=this.darkMode.asObservable();constructor(){let e=localStorage.getItem("theme");if(e)this.darkMode.next(e==="dark"),this.applyTheme(e==="dark");else{let t=window.matchMedia("(prefers-color-scheme: dark)").matches;this.darkMode.next(t),this.applyTheme(t)}}toggleTheme(){let e=!this.darkMode.value;this.darkMode.next(e),this.applyTheme(e),localStorage.setItem("theme",e?"dark":"light")}applyTheme(e){e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})};function Kx(n,e){if(n&1&&(f(0,"div",35),y(1),_()),n&2){let t=O().$implicit;C(),W(" in ",t.projectName," ")}}function Zx(n,e){if(n&1){let t=K();f(0,"div",31),N("click",function(){let o=L(t).$implicit,a=O(3);return j(a.navigateToResult(o))}),f(1,"div",4)(2,"mat-icon",32),y(3),_(),f(4,"div")(5,"div",33),y(6),_(),B(7,Kx,2,1,"div",34),_()()()}if(n&2){let t=e.$implicit;C(3),W(" ",t.type==="project"?"folder":"task"," "),C(3),W(" ",t.type==="project"?t.name:t.title," "),C(),S("ngIf",t.type==="task")}}function Qx(n,e){if(n&1&&(f(0,"div",28)(1,"div",29),B(2,Zx,8,3,"div",30),_()()),n&2){let t=O(2);C(2),S("ngForOf",t.searchResults)}}function Jx(n,e){if(n&1){let t=K();f(0,"div",24)(1,"input",25),vt("ngModelChange",function(o){L(t);let a=O();return bt(a.searchTerm,o)||(a.searchTerm=o),j(o)}),N("input",function(){L(t);let o=O();return j(o.onSearchInput())})("blur",function(){L(t);let o=O();return j(o.handleBlur())}),_(),f(2,"button",26)(3,"mat-icon"),y(4,"search"),_()(),B(5,Qx,3,1,"div",27),_()}if(n&2){let t=O();C(),_t("ngModel",t.searchTerm),C(4),S("ngIf",t.showDropdown&&t.searchResults.length>0)}}function ty(n,e){if(n&1){let t=K();f(0,"button",36),N("click",function(){L(t);let o=O();return j(o.toggleMobileSearch())}),f(1,"mat-icon",37),y(2,"search"),_()()}}function ey(n,e){n&1&&U(0,"app-notification-menu")}function iy(n,e){n&1&&(f(0,"mat-icon",37),y(1,"light_mode"),_())}function ny(n,e){n&1&&(f(0,"mat-icon",37),y(1,"dark_mode"),_())}function oy(n,e){if(n&1&&(f(0,"div",35),y(1),_()),n&2){let t=O().$implicit;C(),W(" in ",t.projectName," ")}}function ay(n,e){if(n&1){let t=K();f(0,"div",31),N("click",function(){let o=L(t).$implicit,a=O(3);return j(a.navigateToResult(o))}),f(1,"div",4)(2,"mat-icon",32),y(3),_(),f(4,"div")(5,"div",33),y(6),_(),B(7,oy,2,1,"div",34),_()()()}if(n&2){let t=e.$implicit;C(3),W(" ",t.type==="project"?"folder":"task"," "),C(3),W(" ",t.type==="project"?t.name:t.title," "),C(),S("ngIf",t.type==="task")}}function ry(n,e){if(n&1&&(f(0,"div",42)(1,"div",29),B(2,ay,8,3,"div",30),_()()),n&2){let t=O(2);C(2),S("ngForOf",t.searchResults)}}function sy(n,e){if(n&1){let t=K();f(0,"div",38)(1,"div",39)(2,"input",40),vt("ngModelChange",function(o){L(t);let a=O();return bt(a.searchTerm,o)||(a.searchTerm=o),j(o)}),N("input",function(){L(t);let o=O();return j(o.onSearchInput())})("blur",function(){L(t);let o=O();return j(o.handleBlur())}),_(),f(3,"button",26)(4,"mat-icon"),y(5,"search"),_()(),B(6,ry,3,1,"div",41),_()()}if(n&2){let t=O();C(2),_t("ngModel",t.searchTerm),C(4),S("ngIf",t.showDropdown&&t.searchResults.length>0)}}var ss=class n{constructor(e,t,i,o){this.authService=e;this.router=t;this.searchService=i;this.themeService=o;this.isDarkMode$=this.themeService.darkMode$,this.setupSearch()}username=null;searchTerm="";searchResults=[];showDropdown=!1;searchSubject=new lt;isDarkMode$;showMobileSearch=!1;toggleSidebar=new mt;setupSearch(){this.searchSubject.pipe(Ar(300),po()).subscribe(e=>{e.trim().length>=2?this.searchService.searchProjectsAndTasks(e).subscribe({next:t=>{this.searchResults=t.slice(0,5),this.showDropdown=!0},error:t=>console.error("Search error:",t)}):(this.searchResults=[],this.showDropdown=!1)})}onSearchInput(){this.searchSubject.next(this.searchTerm)}navigateToResult(e){e.type==="project"?this.router.navigate(["/projects",e._id]):this.router.navigate(["/projects",e.projectId],{queryParams:{taskId:e._id}}),this.closeDropdown()}closeDropdown(){this.showDropdown=!1,this.searchResults=[],this.searchTerm=""}ngOnInit(){this.updateUsername()}updateUsername(){this.username=localStorage.getItem("username")}get userInitial(){return this.username?this.username[0].toUpperCase():"?"}logout(){this.authService.logout(),this.username=null,this.router.navigate(["/login"])}onToggleSidebar(){this.toggleSidebar.emit()}isLoggedIn(){return this.authService.isLoggedIn()}performSearch(){this.searchTerm.trim()&&this.router.navigate(["/search"],{queryParams:{term:this.searchTerm}})}handleBlur(){setTimeout(()=>{this.closeDropdown()},200)}toggleTheme(){this.themeService.toggleTheme()}toggleMobileSearch(){this.showMobileSearch=!this.showMobileSearch}static \u0275fac=function(t){return new(t||n)(I(Jt),I(Wt),I(Io),I(Oo))};static \u0275cmp=Z({type:n,selectors:[["app-navbar"]],outputs:{toggleSidebar:"toggleSidebar"},standalone:!0,features:[Q],decls:37,vars:13,consts:[["userMenu","matMenu"],[1,"bg-white","dark:bg-gray-800","shadow"],[1,"mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","h-16"],[1,"flex","items-center"],[1,"p-2","rounded-md","text-gray-400","hover:text-gray-500","dark:hover:text-gray-300","hover:bg-gray-100","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-indigo-500",3,"click"],[1,"flex-shrink-0","flex","items-center","ml-4"],["src","https://res.cloudinary.com/db2tvcbza/image/upload/v1730869163/logo_sfhhhd.png","alt","Logo","crossorigin","anonymous",1,"h-8","w-auto"],[1,"flex","items-center","space-x-2"],["class","relative hidden md:block",4,"ngIf"],["class","md:hidden h-8 w-8 flex items-center justify-center rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",3,"click",4,"ngIf"],[1,"h-8","w-8","flex","items-center","justify-center","rounded-md","text-gray-400","hover:text-gray-500","hover:bg-gray-100","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-indigo-500"],[4,"ngIf"],[1,"h-8","w-8","flex","items-center","justify-center","rounded-md","text-gray-400","hover:text-gray-500","hover:bg-gray-100","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-indigo-500",3,"click"],["class","text-[20px]",4,"ngIf"],[1,"h-8","w-8","flex","items-center","justify-center","rounded-full","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","overflow-hidden",3,"matMenuTriggerFor"],[1,"sr-only"],[1,"h-full","w-full","object-cover",3,"src","alt"],["class","md:hidden pb-2 px-2",4,"ngIf"],[1,"mt-2"],[1,"bg-white","dark:bg-gray-800","py-1"],["mat-menu-item","","routerLink","/profile",1,"flex","items-center","w-full","px-4","py-2","text-sm","text-gray-700","dark:text-gray-200","hover:bg-gray-100","dark:hover:bg-gray-700"],[1,"mr-3","text-gray-400","dark:text-gray-500"],["mat-menu-item","",1,"flex","items-center","w-full","px-4","py-2","text-sm","text-gray-700","dark:text-gray-200","hover:bg-gray-100","dark:hover:bg-gray-700",3,"click"],[1,"relative","hidden","md:block"],["type","text","placeholder","Search projects and tasks...",1,"w-64","px-4","py-2","rounded-md","border","border-gray-300","dark:border-gray-600","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","input","blur","ngModel"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","text-gray-400","hover:text-gray-600"],["class","absolute right-0 z-50 mt-1 w-full bg-white rounded-md shadow-lg max-h-96 overflow-auto",4,"ngIf"],[1,"absolute","right-0","z-50","mt-1","w-full","bg-white","rounded-md","shadow-lg","max-h-96","overflow-auto"],[1,"py-1"],["class","px-4 py-2 hover:bg-gray-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-4","py-2","hover:bg-gray-100","cursor-pointer",3,"click"],[1,"mr-2","text-gray-400"],[1,"text-sm","font-medium","text-gray-900"],["class","text-xs text-gray-500",4,"ngIf"],[1,"text-xs","text-gray-500"],[1,"md:hidden","h-8","w-8","flex","items-center","justify-center","rounded-md","text-gray-400","hover:text-gray-500","hover:bg-gray-100","dark:hover:bg-gray-700","focus:outline-none","focus:ring-2","focus:ring-inset","focus:ring-indigo-500",3,"click"],[1,"text-[20px]"],[1,"md:hidden","pb-2","px-2"],[1,"relative"],["type","text","placeholder","Search projects and tasks...",1,"w-full","px-4","py-2","rounded-md","border","border-gray-300","dark:border-gray-600","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:border-indigo-500","dark:bg-gray-700","dark:text-white",3,"ngModelChange","input","blur","ngModel"],["class","absolute left-0 right-0 z-50 mt-1 bg-white rounded-md shadow-lg max-h-96 overflow-auto",4,"ngIf"],[1,"absolute","left-0","right-0","z-50","mt-1","bg-white","rounded-md","shadow-lg","max-h-96","overflow-auto"]],template:function(t,i){if(t&1){let o=K();f(0,"nav",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),N("click",function(){return L(o),j(i.onToggleSidebar())}),f(5,"mat-icon"),y(6,"menu"),_()(),f(7,"div",6),U(8,"img",7),_()(),f(9,"div",8),B(10,Jx,6,2,"div",9)(11,ty,3,0,"button",10),f(12,"div",11),B(13,ey,1,0,"app-notification-menu",12),_(),f(14,"button",13),N("click",function(){return L(o),j(i.toggleTheme())}),B(15,iy,2,0,"mat-icon",14),Kt(16,"async"),B(17,ny,2,0,"mat-icon",14),Kt(18,"async"),_(),f(19,"button",15)(20,"span",16),y(21,"Open user menu"),_(),U(22,"img",17),_()()(),B(23,sy,7,2,"div",18),_(),f(24,"mat-menu",19,0)(26,"div",20)(27,"button",21)(28,"mat-icon",22),y(29,"person"),_(),f(30,"span"),y(31,"Profile"),_()(),f(32,"button",23),N("click",function(){return L(o),j(i.logout())}),f(33,"mat-icon",22),y(34,"exit_to_app"),_(),f(35,"span"),y(36,"Logout"),_()()()()()}if(t&2){let o=qt(25);C(10),S("ngIf",i.isLoggedIn()),C(),S("ngIf",i.isLoggedIn()),C(2),S("ngIf",i.isLoggedIn()),C(2),S("ngIf",gi(16,9,i.isDarkMode$)),C(2),S("ngIf",!gi(18,11,i.isDarkMode$)),C(2),S("matMenuTriggerFor",o),C(3),S("src","https://ui-avatars.com/api/?name="+(i.username||"User")+"&background=random",qe)("alt",i.username||"User"),C(),S("ngIf",i.showMobileSearch&&i.isLoggedIn())}},dependencies:[dt,Lt,yt,mm,op,jt,Ut,Yt,Pi,fn,wo,gn,je,Mi,Qt,le,de,Ne,rs],encapsulation:2})};var ly=0,ml=new St("CdkAccordion"),mp=(()=>{class n{constructor(){this._stateChanges=new lt,this._openCloseAllActions=new lt,this.id=`cdk-accordion-${ly++}`,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ht({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",Mt]},exportAs:["cdkAccordion"],standalone:!0,features:[Xt([{provide:ml,useExisting:n}]),pe,fi]})}}return n})(),dy=0,pp=(()=>{class n{get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let i=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,i)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}constructor(t,i,o){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=o,this._openCloseAllSubscription=xi.EMPTY,this.closed=new mt,this.opened=new mt,this.destroyed=new mt,this.expandedChange=new mt,this.id=`cdk-accordion-child-${dy++}`,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=o.listen((a,r)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===r&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static{this.\u0275fac=function(i){return new(i||n)(I(ml,12),I(ne),I(Xr))}}static{this.\u0275dir=Ht({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Mt],disabled:[2,"disabled","disabled",Mt]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Xt([{provide:ml,useValue:void 0}]),pe]})}}return n})(),up=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({})}}return n})();var my=["body"],py=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],uy=["mat-expansion-panel-header","*","mat-action-row"];function fy(n,e){}var gy=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],_y=["mat-panel-title","mat-panel-description","*"];function by(n,e){if(n&1&&(f(0,"span",1),yi(),f(1,"svg",2),U(2,"path",3),_()()),n&2){let t=O();S("@indicatorRotate",t._getExpandedState())}}var pl=new St("MAT_ACCORDION"),fp="225ms cubic-bezier(0.4,0.0,0.2,1)",_p={indicatorRotate:Ta("indicatorRotate",[Ea("collapsed, void",Zi({transform:"rotate(0deg)"})),Ea("expanded",Zi({transform:"rotate(180deg)"})),Co("expanded <=> collapsed, void => collapsed",ko(fp))]),bodyExpansion:Ta("bodyExpansion",[Ea("collapsed, void",Zi({height:"0px",visibility:"hidden"})),Ea("expanded",Zi({height:"*",visibility:""})),Co("expanded <=> collapsed, void => collapsed",ko(fp))])},bp=new St("MAT_EXPANSION_PANEL"),vy=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}static{this.\u0275fac=function(i){return new(i||n)(I(il),I(bp,8))}}static{this.\u0275dir=Ht({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}}return n})(),xy=0,vp=new St("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),fl=(()=>{class n extends pp{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,o,a,r,s,l){super(t,i,o),this._viewContainerRef=a,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new mt,this.afterCollapse=new mt,this._inputChanges=new lt,this._headerId=`mat-expansion-panel-header-${xy++}`,this.accordion=t,this._document=r,this._animationsDisabled=s==="NoopAnimations",l&&(this.hideToggle=l.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(uo(null),Yn(()=>this.expanded&&!this._portal),Rr(1)).subscribe(()=>{this._portal=new Rm(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}_animationStarted(t){!gp(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){gp(t)||(t.toState==="expanded"?this.afterExpand.emit():t.toState==="collapsed"&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static{this.\u0275fac=function(i){return new(i||n)(I(pl,12),I(ne),I(Xr),I(fo),I(oi),I(ii,8),I(vp,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,o,a){if(i&1&&Pa(a,vy,5),i&2){let r;ve(r=xe())&&(o._lazyContent=r.first)}},viewQuery:function(i,o){if(i&1&&Xe(my,5),i&2){let a;ve(a=xe())&&(o._body=a.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,o){i&2&&ft("mat-expanded",o.expanded)("_mat-animation-noopable",o._animationsDisabled)("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",Mt],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Xt([{provide:pl,useValue:void 0},{provide:bp,useExisting:n}]),pe,Ma,fi,Q],ngContentSelectors:uy,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,o){if(i&1){let a=K();Ci(py),be(0),f(1,"div",1,0),N("@bodyExpansion.start",function(s){return L(a),j(o._animationStarted(s))})("@bodyExpansion.done",function(s){return L(a),j(o._animationDone(s))}),f(3,"div",2),be(4,1),B(5,fy,0,0,"ng-template",3),_(),be(6,2),_()}i&2&&(C(),S("@bodyExpansion",o._getExpandedState())("id",o.id),Ie("aria-labelledby",o._headerId),C(4),S("cdkPortalOutlet",o._portal))},dependencies:[Lm],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color, var(--mat-app-surface));color:var(--mat-expansion-container-text-color, var(--mat-app-on-surface));border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-app-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-app-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-app-body-large-tracking))}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-app-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[_p.bodyExpansion]},changeDetection:0})}}return n})();function gp(n){return n.fromState==="void"}var gl=(()=>{class n{constructor(t,i,o,a,r,s,l){this.panel=t,this._element=i,this._focusMonitor=o,this._changeDetectorRef=a,this._animationMode=s,this._parentChangeSubscription=xi.EMPTY,this.tabIndex=0;let h=t.accordion?t.accordion._stateChanges.pipe(Yn(p=>!!(p.hideToggle||p.togglePosition))):Hh;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=mo(t.opened,t.closed,h,t._inputChanges.pipe(Yn(p=>!!(p.hideToggle||p.disabled||p.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Yn(()=>t._containsFocus())).subscribe(()=>o.focusVia(i,"program")),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Yr(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(i){return new(i||n)(I(fl,1),I(se),I(Gr),I(ne),I(vp,8),I(ii,8),Ca("tabindex"))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,o){i&1&&N("click",function(){return o._toggle()})("keydown",function(r){return o._keydown(r)}),i&2&&(Ie("id",o.panel._headerId)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),go("height",o._getHeaderHeight()),ft("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after",o._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",o._getTogglePosition()==="before")("_mat-animation-noopable",o._animationMode==="NoopAnimations"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:ni(t)]},standalone:!0,features:[pe,Q],ngContentSelectors:_y,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,o){i&1&&(Ci(gy),f(0,"span",0),be(1),be(2,1),be(3,2),_(),B(4,by,3,1,"span",1)),i&2&&(ft("mat-content-hide-toggle",!o._showToggle()),C(4),Ki(o._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font, var(--mat-app-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-app-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-app-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-app-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-app-title-medium-tracking))}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-app-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-app-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-app-on-surface-variant))}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-app-on-surface-variant));display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[_p.indicatorRotate]},changeDetection:0})}}return n})();var xp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ht({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}}return n})(),yp=(()=>{class n extends mp{constructor(){super(...arguments),this._ownHeaders=new el,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe(uo(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new wm(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Nr(n)))(o||n)}})()}static{this.\u0275dir=Ht({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,o,a){if(i&1&&Pa(a,gl,5),i&2){let r;ve(r=xe())&&(o._headers=r)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,o){i&2&&ft("mat-accordion-multi",o.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",Mt],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[Xt([{provide:pl,useExisting:n}]),pe,Ma]})}}return n})(),cs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({imports:[Zt,up,jm]})}}return n})();var ky=(n,e)=>({"translate-x-0":n,"-translate-x-full":e}),Cy=n=>["/projects",n];function wy(n,e){if(n&1&&(f(0,"li")(1,"a",15)(2,"mat-icon",6),y(3,"description"),_(),f(4,"span",16),y(5),_()()()),n&2){let t=e.$implicit;C(),S("routerLink",_o(2,Cy,t._id)),C(4),it(t.name)}}function My(n,e){if(n&1){let t=K();f(0,"div",17),N("click",function(){L(t);let o=O();return j(o.closeSidebar())}),_()}}var ls=class n{constructor(e,t,i,o){this.projectService=e;this.dialog=t;this.router=i;this.authService=o}isOpen=!1;sidebarClosed=new mt;projects=[];favorites=[{name:"Adrian Bert - CRM Da..."},{name:"Trust - SaaS Dashbo..."},{name:"Pertamina Project"},{name:"Garuda Project"}];ngOnInit(){this.authService.isLoggedIn()&&this.loadProjects()}loadProjects(){this.projectService.getUserProjects().subscribe({next:e=>{this.projects=e},error:e=>{console.error("Error loading projects:",e)}})}addNewProject(){this.dialog.open(Xm,{width:"400px"}).afterClosed().subscribe(t=>{t&&this.projectService.createProject(t).subscribe({next:()=>{this.loadProjects()},error:i=>{console.error("Error creating project:",i)}})})}closeSidebar(){this.isOpen=!1,this.sidebarClosed.emit()}static \u0275fac=function(t){return new(t||n)(I(Ve),I(Po),I(Wt),I(Jt))};static \u0275cmp=Z({type:n,selectors:[["app-sidebar"]],inputs:{isOpen:"isOpen"},outputs:{sidebarClosed:"sidebarClosed"},standalone:!0,features:[Q],decls:32,vars:6,consts:[[1,"fixed","inset-y-0","left-0","z-30","w-64","bg-white","dark:bg-gray-800","text-gray-900","dark:text-white","transform","transition-transform","duration-300","ease-in-out",3,"ngClass"],[1,"h-full","overflow-y-auto","py-6","px-4"],[1,"space-y-2"],["routerLink","/dashboard",1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"mr-3","text-gray-400","dark:text-gray-500"],["routerLink","/assigned-tasks",1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-700","transition-colors"],[1,"mr-3","text-gray-400"],["routerLink","/search",1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-700","transition-colors"],[1,"mt-6"],[1,"px-2","text-xs","font-semibold","text-gray-400","uppercase","tracking-wider"],[1,"mt-2","space-y-1"],[4,"ngFor","ngForOf"],[1,"mt-6","w-full","flex","items-center","justify-center","p-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"mr-2"],["class","fixed inset-0 z-20 bg-black opacity-50 transition-opacity lg:hidden",3,"click",4,"ngIf"],[1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-700","transition-colors",3,"routerLink"],[1,"truncate"],[1,"fixed","inset-0","z-20","bg-black","opacity-50","transition-opacity","lg:hidden",3,"click"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"nav",1)(2,"ul",2)(3,"li")(4,"a",3)(5,"mat-icon",4),y(6,"dashboard"),_(),f(7,"span"),y(8,"Dashboard"),_()()(),f(9,"li")(10,"a",5)(11,"mat-icon",6),y(12,"assignment_ind"),_(),f(13,"span"),y(14,"Assigned to me"),_()()(),f(15,"li")(16,"a",7)(17,"mat-icon",6),y(18,"search"),_(),f(19,"span"),y(20,"Search"),_()()()(),f(21,"div",8)(22,"h3",9),y(23,"My Projects"),_(),f(24,"ul",10),B(25,wy,6,4,"li",11),_()(),f(26,"button",12),N("click",function(){return i.addNewProject()}),f(27,"mat-icon",13),y(28,"add"),_(),f(29,"span"),y(30,"New Project"),_()()()(),B(31,My,1,0,"div",14)),t&2&&(S("ngClass",bo(3,ky,i.isOpen,!i.isOpen)),C(25),S("ngForOf",i.projects),C(6),S("ngIf",i.isOpen))},dependencies:[dt,ye,Lt,yt,_n,Ut,Yt,cs,je,Mi],encapsulation:2})};var Sy=n=>({"md:ml-64":n});function Py(n,e){if(n&1){let t=K();f(0,"app-sidebar",7),N("sidebarClosed",function(){L(t);let o=O();return j(o.closeSidebar())}),_()}if(n&2){let t=O();S("isOpen",t.isSidebarOpen)}}function Dy(n,e){if(n&1){let t=K();f(0,"app-navbar",8),N("toggleSidebar",function(){L(t);let o=O();return j(o.toggleSidebar())}),_()}}function Iy(n,e){if(n&1){let t=K();f(0,"div",9),N("click",function(){L(t);let o=O();return j(o.closeSidebar())}),_()}}var ds=class n{constructor(e,t){this.router=e;this.authService=t}title="Angular-Training-Final-Project";isSidebarOpen=!1;showNavAndSidebar=!0;ngOnInit(){this.router.events.pipe(Yn(e=>e instanceof xm)).subscribe(e=>{(e.url==="/login"||e.url==="/register")&&this.authService.logout(),this.updateNavAndSidebarVisibility(e.urlAfterRedirects)})}updateNavAndSidebarVisibility(e){let t=["/home","/login","/register","/forgot-password","/reset-password"];this.showNavAndSidebar=!t.some(i=>e.startsWith(i))}toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen}closeSidebar(){this.isSidebarOpen=!1}static \u0275fac=function(t){return new(t||n)(I(Wt),I(Jt))};static \u0275cmp=Z({type:n,selectors:[["app-root"]],standalone:!0,features:[Q],decls:8,vars:6,consts:[[1,"flex","h-screen","overflow-hidden","bg-white","dark:bg-gray-900"],["class","z-20",3,"isOpen","sidebarClosed",4,"ngIf"],[1,"flex","flex-col","flex-1","overflow-hidden","transition-all","duration-300","ease-in-out",3,"ngClass"],[3,"toggleSidebar",4,"ngIf"],[1,"flex-1","overflow-x-hidden","overflow-y-auto","bg-gray-100"],[1,"w-full","max-w-full","mx-auto"],["class","fixed inset-0 bg-black bg-opacity-50 z-10 md:hidden",3,"click",4,"ngIf"],[1,"z-20",3,"sidebarClosed","isOpen"],[3,"toggleSidebar"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-10","md:hidden",3,"click"]],template:function(t,i){t&1&&(f(0,"div",0),B(1,Py,1,1,"app-sidebar",1),f(2,"div",2),B(3,Dy,1,0,"app-navbar",3),f(4,"main",4)(5,"div",5),U(6,"router-outlet"),_()()(),B(7,Iy,1,0,"div",6),_()),t&2&&(C(),S("ngIf",i.showNavAndSidebar),C(),S("ngClass",_o(4,Sy,i.isSidebarOpen&&i.showNavAndSidebar)),C(),S("ngIf",i.showNavAndSidebar),C(4),S("ngIf",i.isSidebarOpen&&i.showNavAndSidebar))},dependencies:[ym,ss,ls,dt,ye,yt],encapsulation:2})};var Cn=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1)}static \u0275fac=function(t){return new(t||n)(me(Jt),me(Wt))};static \u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ey=["tooltip"],wp=20;var Mp=new St("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=_e(Aa);return()=>n.scrollStrategies.reposition({scrollThrottle:wp})}});function Ay(n){return()=>n.scrollStrategies.reposition({scrollThrottle:wp})}var Ry={provide:Mp,deps:[Aa],useFactory:Ay};function Ly(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var jy=new St("mat-tooltip-default-options",{providedIn:"root",factory:Ly});var kp="tooltip-panel",Cp=Un({passive:!0}),Fy=8,Ny=8,zy=24,By=200,Eo=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=sl(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let i=sl(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=xo(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=xo(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){let i=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,o,a,r,s,l,h,p,g,v,k){this._overlay=t,this._elementRef=i,this._scrollDispatcher=o,this._viewContainerRef=a,this._ngZone=r,this._platform=s,this._ariaDescriber=l,this._focusMonitor=h,this._dir=g,this._defaultOptions=v,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Vy,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new lt,this._injector=_e(wa),this._scrollStrategy=p,this._document=k,v&&(this._showDelay=v.showDelay,this._hideDelay=v.hideDelay,v.position&&(this.position=v.position),v.positionAtOrigin&&(this.positionAtOrigin=v.positionAtOrigin),v.touchGestures&&(this.touchGestures=v.touchGestures),v.tooltipClass&&(this.tooltipClass=v.tooltipClass)),g.change.pipe($e(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Fy}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe($e(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,o])=>{t.removeEventListener(i,o,Cp)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(i);this._detach(),this._portal=this._portal||new Am(this._tooltipComponent,this._viewContainerRef);let a=this._tooltipInstance=o.attach(this._portal).instance;a._triggerElement=this._elementRef.nativeElement,a._mouseLeaveHideDelay=this._hideDelay,a.afterHidden().pipe($e(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),a.show(t)}hide(t=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&a._origin instanceof se)return this._overlayRef;this._detach()}let i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe($e(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${kp}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe($e(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe($e(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe($e(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!Yr(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let i=t.getConfig().positionStrategy,o=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset(Le(Le({},o.main),a.main)),this._addOffset(Le(Le({},o.fallback),a.fallback))])}_addOffset(t){let i=Ny,o=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-i:t.originY==="bottom"?t.offsetY=i:t.originX==="start"?t.offsetX=o?-i:i:t.originX==="end"&&(t.offsetX=o?i:-i),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",i=this.position,o;i=="above"||i=="below"?o={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&t||i=="right"&&!t?o={originX:"start",originY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(o={originX:"end",originY:"center"});let{x:a,y:r}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:a,originY:r}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",i=this.position,o;i=="above"?o={overlayX:"center",overlayY:"bottom"}:i=="below"?o={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&t||i=="right"&&!t?o={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&t||i=="left"&&!t)&&(o={overlayX:"start",overlayY:"center"});let{x:a,y:r}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:a,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Sa(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){let{overlayY:i,originX:o,originY:a}=t,r;if(i==="center"?this._dir&&this._dir.value==="rtl"?r=o==="end"?"left":"right":r=o==="start"?"left":"right":r=i==="bottom"&&a==="top"?"above":"below",r!==this._currentPosition){let s=this._overlayRef;if(s){let l=`${this._cssClassPrefix}-${kp}-`;s.removePanelClass(l+this._currentPosition),s.addPanelClass(l+r)}this._currentPosition=r}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let i;t.x!==void 0&&t.y!==void 0&&(i=t),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let i=t.targetTouches?.[0],o=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let a=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??a)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{let o=i.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,o])=>{this._elementRef.nativeElement.addEventListener(i,o,Cp)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let i=this._document.elementFromPoint(t.clientX,t.clientY),o=this._elementRef.nativeElement;i!==o&&!o.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let i=this._elementRef.nativeElement,o=i.style;(t==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(t==="on"||!i.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(i){return new(i||n)(I(Aa),I(se),I(Kr),I(fo),I(De),I(km),I(Ur),I(Gr),I(Mp),I(Ia),I(jy,8),I(oi))}}static{this.\u0275dir=Ht({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,o){i&2&&ft("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return n})(),Vy=(()=>{class n{constructor(t,i,o){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new lt,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>zy&&t.width>=By}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let i=this._tooltip.nativeElement,o=this._showAnimation,a=this._hideAnimation;if(i.classList.remove(t?a:o),i.classList.add(t?o:a),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let r=getComputedStyle(i);(r.getPropertyValue("animation-duration")==="0s"||r.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static{this.\u0275fac=function(i){return new(i||n)(I(ne),I(se),I(ii,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,o){if(i&1&&Xe(Ey,7),i&2){let a;ve(a=xe())&&(o._tooltip=a.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,o){i&1&&N("mouseleave",function(r){return o._handleMouseLeave(r)})},standalone:!0,features:[Q],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,o){if(i&1){let a=K();f(0,"div",1,0),N("animationend",function(s){return L(a),j(o._handleAnimationEnd(s))}),f(2,"div",2),y(3),_()()}i&2&&(ft("mdc-tooltip--multiline",o._isMultiline),S("ngClass",o.tooltipClass),C(3),it(o.message))},dependencies:[ye],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return n})();var Ao=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({providers:[Ry],imports:[$r,dt,zm,Zt,Zt,Zr]})}}return n})();function Hy(n,e){if(n&1&&(f(0,"mat-option",17),y(1),_()),n&2){let t=e.$implicit;S("value",t),C(),W(" ",t," ")}}function Wy(n,e){if(n&1){let t=K();f(0,"mat-form-field",14)(1,"mat-select",16,0),N("selectionChange",function(o){L(t);let a=O(2);return j(a._changePageSize(o.value))}),nm(3,Hy,2,2,"mat-option",17,im),_(),f(5,"div",18),N("click",function(){L(t);let o=qt(2);return j(o.open())}),_()()}if(n&2){let t=O(2);S("appearance",t._formFieldAppearance)("color",t.color),C(),S("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),C(2),om(t._displayedPageSizeOptions)}}function Yy(n,e){if(n&1&&(f(0,"div",15),y(1),_()),n&2){let t=O(2);C(),it(t.pageSize)}}function Uy(n,e){if(n&1&&(f(0,"div",3)(1,"div",13),y(2),_(),B(3,Wy,6,7,"mat-form-field",14)(4,Yy,2,1,"div",15),_()),n&2){let t=O();C(),Ie("id",t._pageSizeLabelId),C(),W(" ",t._intl.itemsPerPageLabel," "),C(),Ki(t._displayedPageSizeOptions.length>1?3:-1),C(),Ki(t._displayedPageSizeOptions.length<=1?4:-1)}}function Gy(n,e){if(n&1){let t=K();f(0,"button",19),N("click",function(){L(t);let o=O();return j(o.firstPage())}),yi(),f(1,"svg",8),U(2,"path",20),_()()}if(n&2){let t=O();S("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Ie("aria-label",t._intl.firstPageLabel)}}function $y(n,e){if(n&1){let t=K();f(0,"button",21),N("click",function(){L(t);let o=O();return j(o.lastPage())}),yi(),f(1,"svg",8),U(2,"path",22),_()()}if(n&2){let t=O();S("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Ie("aria-label",t._intl.lastPageLabel)}}var hs=(()=>{class n{constructor(){this.changes=new lt,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,o)=>{if(o==0||i==0)return`0 of ${o}`;o=Math.max(o,0);let a=t*i,r=a<o?Math.min(a+i,o):a+i;return`${a+1} \u2013 ${r} of ${o}`}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qy(n){return n||new hs}var Xy={provide:hs,deps:[[new qh,new Xh,hs]],useFactory:qy},Ky=50;var Zy=new St("MAT_PAGINATOR_DEFAULT_OPTIONS"),Qy=0,ja=(()=>{class n{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>ni(i,0)),this._updateDisplayedPageSizeOptions()}constructor(t,i,o){if(this._intl=t,this._changeDetectorRef=i,this._pageSizeLabelId=`mat-paginator-page-size-label-${Qy++}`,this._isInitialized=!1,this._initializedStream=new Bh(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new mt,this.initialized=this._initializedStream,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){let{pageSize:a,pageSizeOptions:r,hidePageSize:s,showFirstLastButtons:l}=o;a!=null&&(this._pageSize=a),r!=null&&(this._pageSizeOptions=r),s!=null&&(this.hidePageSize=s),l!=null&&(this.showFirstLastButtons=l)}this._formFieldAppearance=o?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){let i=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(i/t)||0,this.pageSize=t,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Ky),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(i){return new(i||n)(I(hs),I(ne),I(Zy,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",ni],length:[2,"length","length",ni],pageSize:[2,"pageSize","pageSize",ni],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Mt],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Mt],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Mt]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[pe,Q],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,o){i&1&&(f(0,"div",1)(1,"div",2),B(2,Uy,5,4,"div",3),f(3,"div",4)(4,"div",5),y(5),_(),B(6,Gy,3,5,"button",6),f(7,"button",7),N("click",function(){return o.previousPage()}),yi(),f(8,"svg",8),U(9,"path",9),_()(),Fr(),f(10,"button",10),N("click",function(){return o.nextPage()}),yi(),f(11,"svg",8),U(12,"path",11),_()(),B(13,$y,3,5,"button",12),_()()()),i&2&&(C(2),Ki(o.hidePageSize?-1:2),C(3),W(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),C(),Ki(o.showFirstLastButtons?6:-1),C(),S("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("matTooltipPosition","above")("disabled",o._previousButtonsDisabled()),Ie("aria-label",o._intl.previousPageLabel),C(3),S("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("matTooltipPosition","above")("disabled",o._nextButtonsDisabled()),Ie("aria-label",o._intl.nextPageLabel),C(3),Ki(o.showFirstLastButtons?13:-1))},dependencies:[Ce,Ti,Si,Fe,Eo],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return n})(),ms=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({providers:[Xy],imports:[jt,Ei,Ao,ja]})}}return n})();function Li(){}var Hp=function(){let n=0;return function(){return n++}}();function ut(n){return n===null||typeof n>"u"}function Pt(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function st(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}var Gt=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function Ze(n,e){return Gt(n)?n:e}function nt(n,e){return typeof n>"u"?e:n}var Wp=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/e,wl=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Dt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function kt(n,e,t,i){let o,a,r;if(Pt(n))if(a=n.length,i)for(o=a-1;o>=0;o--)e.call(t,n[o],o);else for(o=0;o<a;o++)e.call(t,n[o],o);else if(st(n))for(r=Object.keys(n),a=r.length,o=0;o<a;o++)e.call(t,n[r[o]],r[o])}function Va(n,e){let t,i,o,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(o=n[t],a=e[t],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function bs(n){if(Pt(n))return n.map(bs);if(st(n)){let e=Object.create(null),t=Object.keys(n),i=t.length,o=0;for(;o<i;++o)e[t[o]]=bs(n[t[o]]);return e}return n}function Yp(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Jy(n,e,t,i){if(!Yp(n))return;let o=e[n],a=t[n];st(o)&&st(a)?jo(o,a,i):e[n]=bs(a)}function jo(n,e,t){let i=Pt(e)?e:[e],o=i.length;if(!st(n))return n;t=t||{};let a=t.merger||Jy;for(let r=0;r<o;++r){if(e=i[r],!st(e))continue;let s=Object.keys(e);for(let l=0,h=s.length;l<h;++l)a(s[l],n,e,t)}return n}function zo(n,e){return jo(n,e,{merger:t1})}function t1(n,e,t){if(!Yp(n))return;let i=e[n],o=t[n];st(i)&&st(o)?zo(i,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=bs(o))}var Dp={"":n=>n,x:n=>n.x,y:n=>n.y};function en(n,e){return(Dp[e]||(Dp[e]=e1(e)))(n)}function e1(n){let e=i1(n);return t=>{for(let i of e){if(i==="")break;t=t&&t[i]}return t}}function i1(n){let e=n.split("."),t=[],i="";for(let o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function ks(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Ke=n=>typeof n<"u",tn=n=>typeof n=="function",Ml=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function Up(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Tt=Math.PI,Ct=2*Tt,n1=Ct+Tt,vs=Number.POSITIVE_INFINITY,o1=Tt/180,Bt=Tt/2,Fa=Tt/4,Ip=Tt*2/3,Qe=Math.log10,bi=Math.sign;function Sl(n){let e=Math.round(n);n=Bo(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(Qe(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function Gp(n){let e=[],t=Math.sqrt(n),i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((o,a)=>o-a).pop(),e}function Kn(n){return!isNaN(parseFloat(n))&&isFinite(n)}function Bo(n,e,t){return Math.abs(n-e)<t}function $p(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function Pl(n,e,t){let i,o,a;for(i=0,o=n.length;i<o;i++)a=n[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function li(n){return n*(Tt/180)}function Cs(n){return n*(180/Tt)}function Dl(n){if(!Gt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Il(n,e){let t=e.x-n.x,i=e.y-n.y,o=Math.sqrt(t*t+i*i),a=Math.atan2(i,t);return a<-.5*Tt&&(a+=Ct),{angle:a,distance:o}}function xs(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function a1(n,e){return(n-e+n1)%Ct-Tt}function He(n){return(n%Ct+Ct)%Ct}function Vo(n,e,t,i){let o=He(n),a=He(e),r=He(t),s=He(a-o),l=He(r-o),h=He(o-a),p=He(o-r);return o===a||o===r||i&&a===r||s>l&&h<p}function oe(n,e,t){return Math.max(e,Math.min(t,n))}function qp(n){return oe(n,-32768,32767)}function ji(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function ws(n,e,t){t=t||(r=>n[r]<e);let i=n.length-1,o=0,a;for(;i-o>1;)a=o+i>>1,t(a)?o=a:i=a;return{lo:o,hi:i}}var Ri=(n,e,t,i)=>ws(n,t,i?o=>n[o][e]<=t:o=>n[o][e]<t),Xp=(n,e,t)=>ws(n,t,i=>n[i][e]>=t);function Kp(n,e,t){let i=0,o=n.length;for(;i<o&&n[i]<e;)i++;for(;o>i&&n[o-1]>t;)o--;return i>0||o<n.length?n.slice(i,o):n}var Zp=["push","pop","shift","splice","unshift"];function Qp(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Zp.forEach(t=>{let i="_onData"+ks(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){let r=o.apply(this,a);return n._chartjs.listeners.forEach(s=>{typeof s[i]=="function"&&s[i](...a)}),r}})})}function Ol(n,e){let t=n._chartjs;if(!t)return;let i=t.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Zp.forEach(a=>{delete n[a]}),delete n._chartjs)}function Tl(n){let e=new Set,t,i;for(t=0,i=n.length;t<i;++t)e.add(n[t]);return e.size===i?n:Array.from(e)}var El=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Al(n,e,t){let i=t||(r=>Array.prototype.slice.call(r)),o=!1,a=[];return function(...r){a=i(r),o||(o=!0,El.call(window,()=>{o=!1,n.apply(e,a)}))}}function Jp(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}var Ms=n=>n==="start"?"left":n==="end"?"right":"center",ue=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,tu=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function Rl(n,e,t){let i=e.length,o=0,a=i;if(n._sorted){let{iScale:r,_parsed:s}=n,l=r.axis,{min:h,max:p,minDefined:g,maxDefined:v}=r.getUserBounds();g&&(o=oe(Math.min(Ri(s,r.axis,h).lo,t?i:Ri(e,l,r.getPixelForValue(h)).lo),0,i-1)),v?a=oe(Math.max(Ri(s,r.axis,p,!0).hi+1,t?0:Ri(e,l,r.getPixelForValue(p),!0).hi+1),o,i)-o:a=i-o}return{start:o,count:a}}function Ll(n){let{xScale:e,yScale:t,_scaleRanges:i}=n,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=o,!0;let a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,o),a}var ps=n=>n===0||n===1,Op=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Ct/t)),Tp=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Ct/t)+1,Lo={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Bt)+1,easeOutSine:n=>Math.sin(n*Bt),easeInOutSine:n=>-.5*(Math.cos(Tt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ps(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ps(n)?n:Op(n,.075,.3),easeOutElastic:n=>ps(n)?n:Tp(n,.075,.3),easeInOutElastic(n){return ps(n)?n:n<.5?.5*Op(n*2,.1125,.45):.5+.5*Tp(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Lo.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Lo.easeInBounce(n*2)*.5:Lo.easeOutBounce(n*2-1)*.5+.5};function Ha(n){return n+.5|0}var Mn=(n,e,t)=>Math.max(Math.min(n,t),e);function Na(n){return Mn(Ha(n*2.55),0,255)}function Sn(n){return Mn(Ha(n*255),0,255)}function Ji(n){return Mn(Ha(n/2.55)/100,0,1)}function Ep(n){return Mn(Ha(n*100),0,100)}var ci={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yl=[..."0123456789ABCDEF"],r1=n=>yl[n&15],s1=n=>yl[(n&240)>>4]+yl[n&15],us=n=>(n&240)>>4===(n&15),c1=n=>us(n.r)&&us(n.g)&&us(n.b)&&us(n.a);function l1(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ci[n[1]]*17,g:255&ci[n[2]]*17,b:255&ci[n[3]]*17,a:e===5?ci[n[4]]*17:255}:(e===7||e===9)&&(t={r:ci[n[1]]<<4|ci[n[2]],g:ci[n[3]]<<4|ci[n[4]],b:ci[n[5]]<<4|ci[n[6]],a:e===9?ci[n[7]]<<4|ci[n[8]]:255})),t}var d1=(n,e)=>n<255?e(n):"";function h1(n){var e=c1(n)?r1:s1;return n?"#"+e(n.r)+e(n.g)+e(n.b)+d1(n.a,e):void 0}var m1=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function eu(n,e,t){let i=e*Math.min(t,1-t),o=(a,r=(a+n/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[o(0),o(8),o(4)]}function p1(n,e,t){let i=(o,a=(o+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function u1(n,e,t){let i=eu(n,1,.5),o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)i[o]*=1-e-t,i[o]+=e;return i}function f1(n,e,t,i,o){return n===o?(e-t)/i+(e<t?6:0):e===o?(t-n)/i+2:(n-e)/i+4}function jl(n){let t=n.r/255,i=n.g/255,o=n.b/255,a=Math.max(t,i,o),r=Math.min(t,i,o),s=(a+r)/2,l,h,p;return a!==r&&(p=a-r,h=s>.5?p/(2-a-r):p/(a+r),l=f1(t,i,o,p,a),l=l*60+.5),[l|0,h||0,s]}function Fl(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Sn)}function Nl(n,e,t){return Fl(eu,n,e,t)}function g1(n,e,t){return Fl(u1,n,e,t)}function _1(n,e,t){return Fl(p1,n,e,t)}function iu(n){return(n%360+360)%360}function b1(n){let e=m1.exec(n),t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?Na(+e[5]):Sn(+e[5]));let o=iu(+e[2]),a=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?i=g1(o,a,r):e[1]==="hsv"?i=_1(o,a,r):i=Nl(o,a,r),{r:i[0],g:i[1],b:i[2],a:t}}function v1(n,e){var t=jl(n);t[0]=iu(t[0]+e),t=Nl(t),n.r=t[0],n.g=t[1],n.b=t[2]}function x1(n){if(!n)return;let e=jl(n),t=e[0],i=Ep(e[1]),o=Ep(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${o}%, ${Ji(n.a)})`:`hsl(${t}, ${i}%, ${o}%)`}var Ap={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Rp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function y1(){let n={},e=Object.keys(Rp),t=Object.keys(Ap),i,o,a,r,s;for(i=0;i<e.length;i++){for(r=s=e[i],o=0;o<t.length;o++)a=t[o],s=s.replace(a,Ap[a]);a=parseInt(Rp[r],16),n[s]=[a>>16&255,a>>8&255,a&255]}return n}var fs;function k1(n){fs||(fs=y1(),fs.transparent=[0,0,0,0]);let e=fs[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var C1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function w1(n){let e=C1.exec(n),t=255,i,o,a;if(e){if(e[7]!==i){let r=+e[7];t=e[8]?Na(r):Mn(r*255,0,255)}return i=+e[1],o=+e[3],a=+e[5],i=255&(e[2]?Na(i):Mn(i,0,255)),o=255&(e[4]?Na(o):Mn(o,0,255)),a=255&(e[6]?Na(a):Mn(a,0,255)),{r:i,g:o,b:a,a:t}}}function M1(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ji(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var _l=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ro=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function S1(n,e,t){let i=Ro(Ji(n.r)),o=Ro(Ji(n.g)),a=Ro(Ji(n.b));return{r:Sn(_l(i+t*(Ro(Ji(e.r))-i))),g:Sn(_l(o+t*(Ro(Ji(e.g))-o))),b:Sn(_l(a+t*(Ro(Ji(e.b))-a))),a:n.a+t*(e.a-n.a)}}function gs(n,e,t){if(n){let i=jl(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Nl(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function nu(n,e){return n&&Object.assign(e||{},n)}function Lp(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Sn(n[3]))):(e=nu(n,{r:0,g:0,b:0,a:1}),e.a=Sn(e.a)),e}function P1(n){return n.charAt(0)==="r"?w1(n):b1(n)}var kl=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,i;t==="object"?i=Lp(e):t==="string"&&(i=l1(e)||k1(e)||P1(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=nu(this._rgb);return e&&(e.a=Ji(e.a)),e}set rgb(e){this._rgb=Lp(e)}rgbString(){return this._valid?M1(this._rgb):void 0}hexString(){return this._valid?h1(this._rgb):void 0}hslString(){return this._valid?x1(this._rgb):void 0}mix(e,t){if(e){let i=this.rgb,o=e.rgb,a,r=t===a?.5:t,s=2*r-1,l=i.a-o.a,h=((s*l===-1?s:(s+l)/(1+s*l))+1)/2;a=1-h,i.r=255&h*i.r+a*o.r+.5,i.g=255&h*i.g+a*o.g+.5,i.b=255&h*i.b+a*o.b+.5,i.a=r*i.a+(1-r)*o.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=S1(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=Sn(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=Ha(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return gs(this._rgb,2,e),this}darken(e){return gs(this._rgb,2,-e),this}saturate(e){return gs(this._rgb,1,e),this}desaturate(e){return gs(this._rgb,1,-e),this}rotate(e){return v1(this._rgb,e),this}};function ou(n){return new kl(n)}function au(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function zl(n){return au(n)?n:ou(n)}function bl(n){return au(n)?n:ou(n).saturate(.5).darken(.1).hexString()}var Pn=Object.create(null),Ss=Object.create(null);function za(n,e){if(!e)return n;let t=e.split(".");for(let i=0,o=t.length;i<o;++i){let a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function vl(n,e,t){return typeof e=="string"?jo(za(n,e),t):jo(za(n,""),e)}var Cl=class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,i)=>bl(i.backgroundColor),this.hoverBorderColor=(t,i)=>bl(i.borderColor),this.hoverColor=(t,i)=>bl(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return vl(this,e,t)}get(e){return za(this,e)}describe(e,t){return vl(Ss,e,t)}override(e,t){return vl(Pn,e,t)}route(e,t,i,o){let a=za(this,e),r=za(this,i),s="_"+t;Object.defineProperties(a,{[s]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[s],h=r[o];return st(l)?Object.assign({},h,l):nt(l,h)},set(l){this[s]=l}}})}},ot=new Cl({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function D1(n){return!n||ut(n.size)||ut(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Ba(n,e,t,i,o){let a=e[o];return a||(a=e[o]=n.measureText(o).width,t.push(o)),a>i&&(i=a),i}function ru(n,e,t,i){i=i||{};let o=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},a=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let r=0,s=t.length,l,h,p,g,v;for(l=0;l<s;l++)if(g=t[l],g!=null&&Pt(g)!==!0)r=Ba(n,o,a,r,g);else if(Pt(g))for(h=0,p=g.length;h<p;h++)v=g[h],v!=null&&!Pt(v)&&(r=Ba(n,o,a,r,v));n.restore();let k=a.length/2;if(k>t.length){for(l=0;l<k;l++)delete o[a[l]];a.splice(0,k)}return r}function Dn(n,e,t){let i=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*i)/i+o}function Bl(n,e){e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function Ps(n,e,t,i){Vl(n,e,t,i,null)}function Vl(n,e,t,i,o){let a,r,s,l,h,p,g=e.pointStyle,v=e.rotation,k=e.radius,x=(v||0)*o1;if(g&&typeof g=="object"&&(a=g.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(x),n.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),n.restore();return}if(!(isNaN(k)||k<=0)){switch(n.beginPath(),g){default:o?n.ellipse(t,i,o/2,k,0,0,Ct):n.arc(t,i,k,0,Ct),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(x)*k,i-Math.cos(x)*k),x+=Ip,n.lineTo(t+Math.sin(x)*k,i-Math.cos(x)*k),x+=Ip,n.lineTo(t+Math.sin(x)*k,i-Math.cos(x)*k),n.closePath();break;case"rectRounded":h=k*.516,l=k-h,r=Math.cos(x+Fa)*l,s=Math.sin(x+Fa)*l,n.arc(t-r,i-s,h,x-Tt,x-Bt),n.arc(t+s,i-r,h,x-Bt,x),n.arc(t+r,i+s,h,x,x+Bt),n.arc(t-s,i+r,h,x+Bt,x+Tt),n.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*k,p=o?o/2:l,n.rect(t-p,i-l,2*p,2*l);break}x+=Fa;case"rectRot":r=Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+s,i-r),n.lineTo(t+r,i+s),n.lineTo(t-s,i+r),n.closePath();break;case"crossRot":x+=Fa;case"cross":r=Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+r,i+s),n.moveTo(t+s,i-r),n.lineTo(t-s,i+r);break;case"star":r=Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+r,i+s),n.moveTo(t+s,i-r),n.lineTo(t-s,i+r),x+=Fa,r=Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+r,i+s),n.moveTo(t+s,i-r),n.lineTo(t-s,i+r);break;case"line":r=o?o/2:Math.cos(x)*k,s=Math.sin(x)*k,n.moveTo(t-r,i-s),n.lineTo(t+r,i+s);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(x)*k,i+Math.sin(x)*k);break}n.fill(),e.borderWidth>0&&n.stroke()}}function Fo(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Wa(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Ya(n){n.restore()}function su(n,e,t,i,o){if(!e)return n.lineTo(t.x,t.y);if(o==="middle"){let a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else o==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function cu(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function In(n,e,t,i,o,a={}){let r=Pt(e)?e:[e],s=a.strokeWidth>0&&a.strokeColor!=="",l,h;for(n.save(),n.font=o.string,I1(n,a),l=0;l<r.length;++l)h=r[l],s&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),ut(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(h,t,i,a.maxWidth)),n.fillText(h,t,i,a.maxWidth),O1(n,t,i,h,a),i+=o.lineHeight;n.restore()}function I1(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ut(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function O1(n,e,t,i,o){if(o.strikethrough||o.underline){let a=n.measureText(i),r=e-a.actualBoundingBoxLeft,s=e+a.actualBoundingBoxRight,l=t-a.actualBoundingBoxAscent,h=t+a.actualBoundingBoxDescent,p=o.strikethrough?(l+h)/2:h;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(r,p),n.lineTo(s,p),n.stroke()}}function Ho(n,e){let{x:t,y:i,w:o,h:a,radius:r}=e;n.arc(t+r.topLeft,i+r.topLeft,r.topLeft,-Bt,Tt,!0),n.lineTo(t,i+a-r.bottomLeft),n.arc(t+r.bottomLeft,i+a-r.bottomLeft,r.bottomLeft,Tt,Bt,!0),n.lineTo(t+o-r.bottomRight,i+a),n.arc(t+o-r.bottomRight,i+a-r.bottomRight,r.bottomRight,Bt,0,!0),n.lineTo(t+o,i+r.topRight),n.arc(t+o-r.topRight,i+r.topRight,r.topRight,0,-Bt,!0),n.lineTo(t+r.topLeft,i)}var T1=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),E1=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function A1(n,e){let t=(""+n).match(T1);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var R1=n=>+n||0;function Ds(n,e){let t={},i=st(e),o=i?Object.keys(e):e,a=st(n)?i?r=>nt(n[r],n[e[r]]):r=>n[r]:()=>n;for(let r of o)t[r]=R1(a(r));return t}function Hl(n){return Ds(n,{top:"y",right:"x",bottom:"y",left:"x"})}function On(n){return Ds(n,["topLeft","topRight","bottomLeft","bottomRight"])}function fe(n){let e=Hl(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function te(n,e){n=n||{},e=e||ot.font;let t=nt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=nt(n.style,e.style);i&&!(""+i).match(E1)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");let o={family:nt(n.family,e.family),lineHeight:A1(nt(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:nt(n.weight,e.weight),string:""};return o.string=D1(o),o}function Wo(n,e,t,i){let o=!0,a,r,s;for(a=0,r=n.length;a<r;++a)if(s=n[a],s!==void 0&&(e!==void 0&&typeof s=="function"&&(s=s(e),o=!1),t!==void 0&&Pt(s)&&(s=s[t%s.length],o=!1),s!==void 0))return i&&!o&&(i.cacheable=!1),s}function lu(n,e,t){let{min:i,max:o}=n,a=wl(e,(o-i)/2),r=(s,l)=>t&&s===0?0:s+l;return{min:r(i,-Math.abs(a)),max:r(o,a)}}function nn(n,e){return Object.assign(Object.create(n),e)}function Is(n,e=[""],t=n,i,o=()=>n[0]){Ke(i)||(i=mu("_fallback",n));let a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:i,_getTarget:o,override:r=>Is([r,...n],e,t,i)};return new Proxy(a,{deleteProperty(r,s){return delete r[s],delete r._keys,delete n[0][s],!0},get(r,s){return du(r,s,()=>H1(s,e,n,r))},getOwnPropertyDescriptor(r,s){return Reflect.getOwnPropertyDescriptor(r._scopes[0],s)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(r,s){return Fp(r).includes(s)},ownKeys(r){return Fp(r)},set(r,s,l){let h=r._storage||(r._storage=o());return r[s]=h[s]=l,delete r._keys,!0}})}function Xn(n,e,t,i){let o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Wl(n,i),setContext:a=>Xn(n,a,t,i),override:a=>Xn(n.override(a),e,t,i)};return new Proxy(o,{deleteProperty(a,r){return delete a[r],delete n[r],!0},get(a,r,s){return du(a,r,()=>j1(a,r,s))},getOwnPropertyDescriptor(a,r){return a._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,r){return Reflect.has(n,r)},ownKeys(){return Reflect.ownKeys(n)},set(a,r,s){return n[r]=s,delete a[r],!0}})}function Wl(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:i,isScriptable:tn(t)?t:()=>t,isIndexable:tn(i)?i:()=>i}}var L1=(n,e)=>n?n+ks(e):e,Yl=(n,e)=>st(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function du(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];let i=t();return n[e]=i,i}function j1(n,e,t){let{_proxy:i,_context:o,_subProxy:a,_descriptors:r}=n,s=i[e];return tn(s)&&r.isScriptable(e)&&(s=F1(e,s,n,t)),Pt(s)&&s.length&&(s=N1(e,s,n,r.isIndexable)),Yl(e,s)&&(s=Xn(s,o,a&&a[e],r)),s}function F1(n,e,t,i){let{_proxy:o,_context:a,_subProxy:r,_stack:s}=t;if(s.has(n))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+n);return s.add(n),e=e(a,r||i),s.delete(n),Yl(n,e)&&(e=Ul(o._scopes,o,n,e)),e}function N1(n,e,t,i){let{_proxy:o,_context:a,_subProxy:r,_descriptors:s}=t;if(Ke(a.index)&&i(n))e=e[a.index%e.length];else if(st(e[0])){let l=e,h=o._scopes.filter(p=>p!==l);e=[];for(let p of l){let g=Ul(h,o,n,p);e.push(Xn(g,a,r&&r[n],s))}}return e}function hu(n,e,t){return tn(n)?n(e,t):n}var z1=(n,e)=>n===!0?e:typeof n=="string"?en(e,n):void 0;function B1(n,e,t,i,o){for(let a of e){let r=z1(t,a);if(r){n.add(r);let s=hu(r._fallback,t,o);if(Ke(s)&&s!==t&&s!==i)return s}else if(r===!1&&Ke(i)&&t!==i)return null}return!1}function Ul(n,e,t,i){let o=e._rootScopes,a=hu(e._fallback,t,i),r=[...n,...o],s=new Set;s.add(i);let l=jp(s,r,t,a||t,i);return l===null||Ke(a)&&a!==t&&(l=jp(s,r,a,l,i),l===null)?!1:Is(Array.from(s),[""],o,a,()=>V1(e,t,i))}function jp(n,e,t,i,o){for(;t;)t=B1(n,e,t,i,o);return t}function V1(n,e,t){let i=n._getTarget();e in i||(i[e]={});let o=i[e];return Pt(o)&&st(t)?t:o}function H1(n,e,t,i){let o;for(let a of e)if(o=mu(L1(a,n),t),Ke(o))return Yl(n,o)?Ul(t,i,n,o):o}function mu(n,e){for(let t of e){if(!t)continue;let i=t[n];if(Ke(i))return i}}function Fp(n){let e=n._keys;return e||(e=n._keys=W1(n._scopes)),e}function W1(n){let e=new Set;for(let t of n)for(let i of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}function Gl(n,e,t,i){let{iScale:o}=n,{key:a="r"}=this._parsing,r=new Array(i),s,l,h,p;for(s=0,l=i;s<l;++s)h=s+t,p=e[h],r[s]={r:o.parse(en(p,a),h)};return r}var Y1=Number.EPSILON||1e-14,No=(n,e)=>e<n.length&&!n[e].skip&&n[e],pu=n=>n==="x"?"y":"x";function U1(n,e,t,i){let o=n.skip?e:n,a=e,r=t.skip?e:t,s=xs(a,o),l=xs(r,a),h=s/(s+l),p=l/(s+l);h=isNaN(h)?0:h,p=isNaN(p)?0:p;let g=i*h,v=i*p;return{previous:{x:a.x-g*(r.x-o.x),y:a.y-g*(r.y-o.y)},next:{x:a.x+v*(r.x-o.x),y:a.y+v*(r.y-o.y)}}}function G1(n,e,t){let i=n.length,o,a,r,s,l,h=No(n,0);for(let p=0;p<i-1;++p)if(l=h,h=No(n,p+1),!(!l||!h)){if(Bo(e[p],0,Y1)){t[p]=t[p+1]=0;continue}o=t[p]/e[p],a=t[p+1]/e[p],s=Math.pow(o,2)+Math.pow(a,2),!(s<=9)&&(r=3/Math.sqrt(s),t[p]=o*r*e[p],t[p+1]=a*r*e[p])}}function $1(n,e,t="x"){let i=pu(t),o=n.length,a,r,s,l=No(n,0);for(let h=0;h<o;++h){if(r=s,s=l,l=No(n,h+1),!s)continue;let p=s[t],g=s[i];r&&(a=(p-r[t])/3,s[`cp1${t}`]=p-a,s[`cp1${i}`]=g-a*e[h]),l&&(a=(l[t]-p)/3,s[`cp2${t}`]=p+a,s[`cp2${i}`]=g+a*e[h])}}function q1(n,e="x"){let t=pu(e),i=n.length,o=Array(i).fill(0),a=Array(i),r,s,l,h=No(n,0);for(r=0;r<i;++r)if(s=l,l=h,h=No(n,r+1),!!l){if(h){let p=h[e]-l[e];o[r]=p!==0?(h[t]-l[t])/p:0}a[r]=s?h?bi(o[r-1])!==bi(o[r])?0:(o[r-1]+o[r])/2:o[r-1]:o[r]}G1(n,o,a),$1(n,a,e)}function _s(n,e,t){return Math.max(Math.min(n,t),e)}function X1(n,e){let t,i,o,a,r,s=Fo(n[0],e);for(t=0,i=n.length;t<i;++t)r=a,a=s,s=t<i-1&&Fo(n[t+1],e),a&&(o=n[t],r&&(o.cp1x=_s(o.cp1x,e.left,e.right),o.cp1y=_s(o.cp1y,e.top,e.bottom)),s&&(o.cp2x=_s(o.cp2x,e.left,e.right),o.cp2y=_s(o.cp2y,e.top,e.bottom)))}function uu(n,e,t,i,o){let a,r,s,l;if(e.spanGaps&&(n=n.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")q1(n,o);else{let h=i?n[n.length-1]:n[0];for(a=0,r=n.length;a<r;++a)s=n[a],l=U1(h,s,n[Math.min(a+1,r-(i?0:1))%r],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,h=s}e.capBezierPoints&&X1(n,t)}function $l(){return typeof window<"u"&&typeof document<"u"}function Os(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ys(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}var Ts=n=>window.getComputedStyle(n,null);function K1(n,e){return Ts(n).getPropertyValue(e)}var Z1=["top","right","bottom","left"];function qn(n,e,t){let i={};t=t?"-"+t:"";for(let o=0;o<4;o++){let a=Z1[o];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var Q1=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function J1(n,e){let t=n.touches,i=t&&t.length?t[0]:n,{offsetX:o,offsetY:a}=i,r=!1,s,l;if(Q1(o,a,n.target))s=o,l=a;else{let h=e.getBoundingClientRect();s=i.clientX-h.left,l=i.clientY-h.top,r=!0}return{x:s,y:l,box:r}}function Tn(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:i}=e,o=Ts(t),a=o.boxSizing==="border-box",r=qn(o,"padding"),s=qn(o,"border","width"),{x:l,y:h,box:p}=J1(n,t),g=r.left+(p&&s.left),v=r.top+(p&&s.top),{width:k,height:x}=e;return a&&(k-=r.width+s.width,x-=r.height+s.height),{x:Math.round((l-g)/k*t.width/i),y:Math.round((h-v)/x*t.height/i)}}function tk(n,e,t){let i,o;if(e===void 0||t===void 0){let a=Os(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{let r=a.getBoundingClientRect(),s=Ts(a),l=qn(s,"border","width"),h=qn(s,"padding");e=r.width-h.width-l.width,t=r.height-h.height-l.height,i=ys(s.maxWidth,a,"clientWidth"),o=ys(s.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||vs,maxHeight:o||vs}}var xl=n=>Math.round(n*10)/10;function fu(n,e,t,i){let o=Ts(n),a=qn(o,"margin"),r=ys(o.maxWidth,n,"clientWidth")||vs,s=ys(o.maxHeight,n,"clientHeight")||vs,l=tk(n,e,t),{width:h,height:p}=l;if(o.boxSizing==="content-box"){let g=qn(o,"border","width"),v=qn(o,"padding");h-=v.width+g.width,p-=v.height+g.height}return h=Math.max(0,h-a.width),p=Math.max(0,i?Math.floor(h/i):p-a.height),h=xl(Math.min(h,r,l.maxWidth)),p=xl(Math.min(p,s,l.maxHeight)),h&&!p&&(p=xl(h/2)),{width:h,height:p}}function ql(n,e,t){let i=e||1,o=Math.floor(n.height*i),a=Math.floor(n.width*i);n.height=o/i,n.width=a/i;let r=n.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||r.height!==o||r.width!==a?(n.currentDevicePixelRatio=i,r.height=o,r.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var gu=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function Xl(n,e){let t=K1(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wn(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function _u(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function bu(n,e,t,i){let o={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},r=wn(n,o,t),s=wn(o,a,t),l=wn(a,e,t),h=wn(r,s,t),p=wn(s,l,t);return wn(h,p,t)}var Np=new Map;function ek(n,e){e=e||{};let t=n+JSON.stringify(e),i=Np.get(t);return i||(i=new Intl.NumberFormat(n,e),Np.set(t,i)),i}function Yo(n,e,t){return ek(e,t).format(n)}var ik=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},nk=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Zn(n,e,t){return n?ik(e,t):nk()}function Kl(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Zl(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function vu(n){return n==="angle"?{between:Vo,compare:a1,normalize:He}:{between:ji,compare:(e,t)=>e-t,normalize:e=>e}}function zp({start:n,end:e,count:t,loop:i,style:o}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:o}}function ok(n,e,t){let{property:i,start:o,end:a}=t,{between:r,normalize:s}=vu(i),l=e.length,{start:h,end:p,loop:g}=n,v,k;if(g){for(h+=l,p+=l,v=0,k=l;v<k&&r(s(e[h%l][i]),o,a);++v)h--,p--;h%=l,p%=l}return p<h&&(p+=l),{start:h,end:p,loop:g,style:n.style}}function Ql(n,e,t){if(!t)return[n];let{property:i,start:o,end:a}=t,r=e.length,{compare:s,between:l,normalize:h}=vu(i),{start:p,end:g,loop:v,style:k}=ok(n,e,t),x=[],w=!1,P=null,D,E,F,R=()=>l(o,F,D)&&s(o,F)!==0,A=()=>s(a,D)===0||l(a,F,D),z=()=>w||R(),H=()=>!w||A();for(let Y=p,q=p;Y<=g;++Y)E=e[Y%r],!E.skip&&(D=h(E[i]),D!==F&&(w=l(D,o,a),P===null&&z()&&(P=s(D,o)===0?Y:q),P!==null&&H()&&(x.push(zp({start:P,end:Y,loop:v,count:r,style:k})),P=null),q=Y,F=D));return P!==null&&x.push(zp({start:P,end:g,loop:v,count:r,style:k})),x}function Jl(n,e){let t=[],i=n.segments;for(let o=0;o<i.length;o++){let a=Ql(i[o],n.points,e);a.length&&t.push(...a)}return t}function ak(n,e,t,i){let o=0,a=e-1;if(t&&!i)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,t&&(a+=o);a>o&&n[a%e].skip;)a--;return a%=e,{start:o,end:a}}function rk(n,e,t,i){let o=n.length,a=[],r=e,s=n[e],l;for(l=e+1;l<=t;++l){let h=n[l%o];h.skip||h.stop?s.skip||(i=!1,a.push({start:e%o,end:(l-1)%o,loop:i}),e=r=h.stop?l:null):(r=l,s.skip&&(e=l)),s=h}return r!==null&&a.push({start:e%o,end:r%o,loop:i}),a}function xu(n,e){let t=n.points,i=n.options.spanGaps,o=t.length;if(!o)return[];let a=!!n._loop,{start:r,end:s}=ak(t,o,a,i);if(i===!0)return Bp(n,[{start:r,end:s,loop:a}],t,e);let l=s<r?s+o:s,h=!!n._fullLoop&&r===0&&s===o-1;return Bp(n,rk(t,r,l,h),t,e)}function Bp(n,e,t,i){return!i||!i.setContext||!t?e:sk(n,e,t,i)}function sk(n,e,t,i){let o=n._chart.getContext(),a=Vp(n.options),{_datasetIndex:r,options:{spanGaps:s}}=n,l=t.length,h=[],p=a,g=e[0].start,v=g;function k(x,w,P,D){let E=s?-1:1;if(x!==w){for(x+=l;t[x%l].skip;)x-=E;for(;t[w%l].skip;)w+=E;x%l!==w%l&&(h.push({start:x%l,end:w%l,loop:P,style:D}),p=D,g=w%l)}}for(let x of e){g=s?g:x.start;let w=t[g%l],P;for(v=g+1;v<=x.end;v++){let D=t[v%l];P=Vp(i.setContext(nn(o,{type:"segment",p0:w,p1:D,p0DataIndex:(v-1)%l,p1DataIndex:v%l,datasetIndex:r}))),ck(P,p)&&k(g,v-1,x.loop,p),w=D,p=P}g<v-1&&k(g,v-1,x.loop,p)}return h}function Vp(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function ck(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}var ld=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,o){let a=t.listeners[o],r=t.duration;a.forEach(s=>s({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=El.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;let a=i.items,r=a.length-1,s=!1,l;for(;r>=0;--r)l=a[r],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),s=!0):(a[r]=a[a.length-1],a.pop());s&&(o.draw(),this._notify(o,i,e,"progress")),a.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,o=i.length-1;for(;o>=0;--o)i[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},on=new ld,yu="transparent",lk={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let i=zl(n||yu),o=i.valid&&zl(e||yu);return o&&o.valid?o.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}},dd=class{constructor(e,t,i,o){let a=t[i];o=Wo([e.to,o,a,e.from]);let r=Wo([e.from,a,o]);this._active=!0,this._fn=e.fn||lk[e.type||typeof r],this._easing=Lo[e.easing]||Lo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let o=this._target[this._prop],a=i-this._start,r=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Wo([e.to,t,o,e.from]),this._from=Wo([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,i=this._duration,o=this._prop,a=this._from,r=this._loop,s=this._to,l;if(this._active=a!==s&&(r||t<i),!this._active){this._target[o]=s,this._notify(!0);return}if(t<0){this._target[o]=a;return}l=t/i%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[o]=this._fn(a,s,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][t]()}},dk=["x","y","borderWidth","radius","tension"],hk=["color","borderColor","backgroundColor"];ot.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var mk=Object.keys(ot.animation);ot.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});ot.set("animations",{colors:{type:"color",properties:hk},numbers:{type:"number",properties:dk}});ot.describe("animations",{_fallback:"animation"});ot.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});var zs=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!st(e))return;let t=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let o=e[i];if(!st(o))return;let a={};for(let r of mk)a[r]=o[r];(Pt(o.properties)&&o.properties||[i]).forEach(r=>{(r===i||!t.has(r))&&t.set(r,a)})})}_animateOptions(e,t){let i=t.options,o=uk(e,i);if(!o)return[];let a=this._createAnimations(o,i);return i.$shared&&pk(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){let i=this._properties,o=[],a=e.$animations||(e.$animations={}),r=Object.keys(t),s=Date.now(),l;for(l=r.length-1;l>=0;--l){let h=r[l];if(h.charAt(0)==="$")continue;if(h==="options"){o.push(...this._animateOptions(e,t));continue}let p=t[h],g=a[h],v=i.get(h);if(g)if(v&&g.active()){g.update(v,p,s);continue}else g.cancel();if(!v||!v.duration){e[h]=p;continue}a[h]=g=new dd(v,e,h,p),o.push(g)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return on.add(this._chart,i),!0}};function pk(n,e){let t=[],i=Object.keys(e);for(let o=0;o<i.length;o++){let a=n[i[o]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function uk(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function ku(n,e){let t=n&&n.options||{},i=t.reverse,o=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:o,end:i?o:a}}function fk(n,e,t){if(t===!1)return!1;let i=ku(n,t),o=ku(e,t);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function gk(n){let e,t,i,o;return st(n)?(e=n.top,t=n.right,i=n.bottom,o=n.left):e=t=i=o=n,{top:e,right:t,bottom:i,left:o,disabled:n===!1}}function uf(n,e){let t=[],i=n._getSortedDatasetMetas(e),o,a;for(o=0,a=i.length;o<a;++o)t.push(i[o].index);return t}function Cu(n,e,t,i={}){let o=n.keys,a=i.mode==="single",r,s,l,h;if(e!==null){for(r=0,s=o.length;r<s;++r){if(l=+o[r],l===t){if(i.all)continue;break}h=n.values[l],Gt(h)&&(a||e===0||bi(e)===bi(h))&&(e+=h)}return e}}function _k(n){let e=Object.keys(n),t=new Array(e.length),i,o,a;for(i=0,o=e.length;i<o;++i)a=e[i],t[i]={x:a,y:n[a]};return t}function wu(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function bk(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function vk(n){let{min:e,max:t,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function xk(n,e,t){let i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Mu(n,e,t,i){for(let o of e.getMatchingVisibleMetas(i).reverse()){let a=n[o.index];if(t&&a>0||!t&&a<0)return o.index}return null}function Su(n,e){let{chart:t,_cachedMeta:i}=n,o=t._stacks||(t._stacks={}),{iScale:a,vScale:r,index:s}=i,l=a.axis,h=r.axis,p=bk(a,r,i),g=e.length,v;for(let k=0;k<g;++k){let x=e[k],{[l]:w,[h]:P}=x,D=x._stacks||(x._stacks={});v=D[h]=xk(o,p,w),v[s]=P,v._top=Mu(v,r,!0,i.type),v._bottom=Mu(v,r,!1,i.type)}}function td(n,e){let t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function yk(n,e){return nn(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function kk(n,e,t){return nn(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Ua(n,e){let t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(let o of e){let a=o._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t]}}}var ed=n=>n==="reset"||n==="none",Pu=(n,e)=>e?n:Object.assign({},n),Ck=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:uf(t,!0),values:null},zi=(()=>{class n{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=wu(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Ua(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,o=this.getDataset(),a=(v,k,x,w)=>v==="x"?k:v==="r"?w:x,r=i.xAxisID=nt(o.xAxisID,td(t,"x")),s=i.yAxisID=nt(o.yAxisID,td(t,"y")),l=i.rAxisID=nt(o.rAxisID,td(t,"r")),h=i.indexAxis,p=i.iAxisID=a(h,r,s,l),g=i.vAxisID=a(h,s,r,l);i.xScale=this.getScaleForId(r),i.yScale=this.getScaleForId(s),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(p),i.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&Ol(this._data,this),t._stacked&&Ua(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),o=this._data;if(st(i))this._data=_k(i);else if(o!==i){if(o){Ol(o,this);let a=this._cachedMeta;Ua(a),a._parsed=[]}i&&Object.isExtensible(i)&&Qp(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,o=this.getDataset(),a=!1;this._dataCheck();let r=i._stacked;i._stacked=wu(i.vScale,i),i.stack!==o.stack&&(a=!0,Ua(i),i.stack=o.stack),this._resyncElements(t),(a||r!==i._stacked)&&Su(this,i._parsed)}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),o=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:o,_data:a}=this,{iScale:r,_stacked:s}=o,l=r.axis,h=t===0&&i===a.length?!0:o._sorted,p=t>0&&o._parsed[t-1],g,v,k;if(this._parsing===!1)o._parsed=a,o._sorted=!0,k=a;else{Pt(a[t])?k=this.parseArrayData(o,a,t,i):st(a[t])?k=this.parseObjectData(o,a,t,i):k=this.parsePrimitiveData(o,a,t,i);let x=()=>v[l]===null||p&&v[l]<p[l];for(g=0;g<i;++g)o._parsed[g+t]=v=k[g],h&&(x()&&(h=!1),p=v);o._sorted=h}s&&Su(this,k)}parsePrimitiveData(t,i,o,a){let{iScale:r,vScale:s}=t,l=r.axis,h=s.axis,p=r.getLabels(),g=r===s,v=new Array(a),k,x,w;for(k=0,x=a;k<x;++k)w=k+o,v[k]={[l]:g||r.parse(p[w],w),[h]:s.parse(i[w],w)};return v}parseArrayData(t,i,o,a){let{xScale:r,yScale:s}=t,l=new Array(a),h,p,g,v;for(h=0,p=a;h<p;++h)g=h+o,v=i[g],l[h]={x:r.parse(v[0],g),y:s.parse(v[1],g)};return l}parseObjectData(t,i,o,a){let{xScale:r,yScale:s}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,p=new Array(a),g,v,k,x;for(g=0,v=a;g<v;++g)k=g+o,x=i[k],p[g]={x:r.parse(en(x,l),k),y:s.parse(en(x,h),k)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,o){let a=this.chart,r=this._cachedMeta,s=i[t.axis],l={keys:uf(a,!0),values:i._stacks[t.axis]};return Cu(l,s,r.index,{mode:o})}updateRangeFromParsed(t,i,o,a){let r=o[i.axis],s=r===null?NaN:r,l=a&&o._stacks[i.axis];a&&l&&(a.values=l,s=Cu(a,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,i){let o=this._cachedMeta,a=o._parsed,r=o._sorted&&t===o.iScale,s=a.length,l=this._getOtherScale(t),h=Ck(i,o,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:v}=vk(l),k,x;function w(){x=a[k];let P=x[l.axis];return!Gt(x[t.axis])||g>P||v<P}for(k=0;k<s&&!(!w()&&(this.updateRangeFromParsed(p,t,x,h),r));++k);if(r){for(k=s-1;k>=0;--k)if(!w()){this.updateRangeFromParsed(p,t,x,h);break}}return p}getAllParsedValues(t){let i=this._cachedMeta._parsed,o=[],a,r,s;for(a=0,r=i.length;a<r;++a)s=i[a][t.axis],Gt(s)&&o.push(s);return o}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,o=i.iScale,a=i.vScale,r=this.getParsed(t);return{label:o?""+o.getLabelForValue(r[o.axis]):"",value:a?""+a.getLabelForValue(r[a.axis]):""}}_update(t){let i=this._cachedMeta;this.update(t||"default"),i._clip=gk(nt(this.options.clip,fk(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,i=this.chart,o=this._cachedMeta,a=o.data||[],r=i.chartArea,s=[],l=this._drawStart||0,h=this._drawCount||a.length-l,p=this.options.drawActiveElementsOnTop,g;for(o.dataset&&o.dataset.draw(t,r,l,h),g=l;g<l+h;++g){let v=a[g];v.hidden||(v.active&&p?s.push(v):v.draw(t,r))}for(g=0;g<s.length;++g)s[g].draw(t,r)}getStyle(t,i){let o=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(t||0,o)}getContext(t,i,o){let a=this.getDataset(),r;if(t>=0&&t<this._cachedMeta.data.length){let s=this._cachedMeta.data[t];r=s.$context||(s.$context=kk(this.getContext(),t,s)),r.parsed=this.getParsed(t),r.raw=a.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=yk(this.chart.getContext(),this.index)),r.dataset=a,r.index=r.datasetIndex=this.index;return r.active=!!i,r.mode=o,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",o){let a=i==="active",r=this._cachedDataOpts,s=t+"-"+i,l=r[s],h=this.enableOptionSharing&&Ke(o);if(l)return Pu(l,h);let p=this.chart.config,g=p.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],k=p.getOptionScopes(this.getDataset(),g),x=Object.keys(ot.elements[t]),w=()=>this.getContext(o,a),P=p.resolveNamedOptions(k,x,w,v);return P.$shared&&(P.$shared=h,r[s]=Object.freeze(Pu(P,h))),P}_resolveAnimations(t,i,o){let a=this.chart,r=this._cachedDataOpts,s=`animation-${i}`,l=r[s];if(l)return l;let h;if(a.options.animation!==!1){let g=this.chart.config,v=g.datasetAnimationScopeKeys(this._type,i),k=g.getOptionScopes(this.getDataset(),v);h=g.createResolver(k,this.getContext(t,o,i))}let p=new zs(a,h&&h.animations);return h&&h._cacheable&&(r[s]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||ed(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let o=this.resolveDataElementOptions(t,i),a=this._sharedOptions,r=this.getSharedOptions(o),s=this.includeOptions(i,r)||r!==a;return this.updateSharedOptions(r,i,o),{sharedOptions:r,includeOptions:s}}updateElement(t,i,o,a){ed(a)?Object.assign(t,o):this._resolveAnimations(i,a).update(t,o)}updateSharedOptions(t,i,o){t&&!ed(i)&&this._resolveAnimations(void 0,i).update(t,o)}_setStyle(t,i,o,a){t.active=a;let r=this.getStyle(i,a);this._resolveAnimations(i,o,a).update(t,{options:!a&&this.getSharedOptions(r)||r})}removeHoverStyle(t,i,o){this._setStyle(t,o,"active",!1)}setHoverStyle(t,i,o){this._setStyle(t,o,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,o=this._cachedMeta.data;for(let[l,h,p]of this._syncList)this[l](h,p);this._syncList=[];let a=o.length,r=i.length,s=Math.min(r,a);s&&this.parse(0,s),r>a?this._insertElements(a,r-a,t):r<a&&this._removeElements(r,a-r)}_insertElements(t,i,o=!0){let a=this._cachedMeta,r=a.data,s=t+i,l,h=p=>{for(p.length+=i,l=p.length-1;l>=s;l--)p[l]=p[l-i]};for(h(r),l=t;l<s;++l)r[l]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(t,i),o&&this.updateElements(r,t,i,"reset")}updateElements(t,i,o,a){}_removeElements(t,i){let o=this._cachedMeta;if(this._parsing){let a=o._parsed.splice(t,i);o._stacked&&Ua(o,a)}o.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,o,a]=t;this[i](o,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let o=arguments.length-2;o&&this._sync(["_insertElements",t,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();zi.prototype.datasetElementType=null;zi.prototype.dataElementType=null;function wk(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),i=[];for(let o=0,a=t.length;o<a;o++)i=i.concat(t[o].controller.getAllParsedValues(n));n._cache.$bar=Tl(i.sort((o,a)=>o-a))}return n._cache.$bar}function Mk(n){let e=n.iScale,t=wk(e,n.type),i=e._length,o,a,r,s,l=()=>{r===32767||r===-32768||(Ke(s)&&(i=Math.min(i,Math.abs(r-s)||i)),s=r)};for(o=0,a=t.length;o<a;++o)r=e.getPixelForValue(t[o]),l();for(s=void 0,o=0,a=e.ticks.length;o<a;++o)r=e.getPixelForTick(o),l();return i}function Sk(n,e,t,i){let o=t.barThickness,a,r;return ut(o)?(a=e.min*t.categoryPercentage,r=t.barPercentage):(a=o*i,r=1),{chunk:a/i,ratio:r,start:e.pixels[n]-a/2}}function Pk(n,e,t,i){let o=e.pixels,a=o[n],r=n>0?o[n-1]:null,s=n<o.length-1?o[n+1]:null,l=t.categoryPercentage;r===null&&(r=a-(s===null?e.end-e.start:s-a)),s===null&&(s=a+a-r);let h=a-(a-Math.min(r,s))/2*l;return{chunk:Math.abs(s-r)/2*l/i,ratio:t.barPercentage,start:h}}function Dk(n,e,t,i){let o=t.parse(n[0],i),a=t.parse(n[1],i),r=Math.min(o,a),s=Math.max(o,a),l=r,h=s;Math.abs(r)>Math.abs(s)&&(l=s,h=r),e[t.axis]=h,e._custom={barStart:l,barEnd:h,start:o,end:a,min:r,max:s}}function ff(n,e,t,i){return Pt(n)?Dk(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Du(n,e,t,i){let o=n.iScale,a=n.vScale,r=o.getLabels(),s=o===a,l=[],h,p,g,v;for(h=t,p=t+i;h<p;++h)v=e[h],g={},g[o.axis]=s||o.parse(r[h],h),l.push(ff(v,g,a,h));return l}function id(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Ik(n,e,t){return n!==0?bi(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function Ok(n){let e,t,i,o,a;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(o="end",a="start"):(o="start",a="end"),{start:t,end:i,reverse:e,top:o,bottom:a}}function Tk(n,e,t,i){let o=e.borderSkipped,a={};if(!o){n.borderSkipped=a;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:r,end:s,reverse:l,top:h,bottom:p}=Ok(n);o==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?o=h:(t._bottom||0)===i?o=p:(a[Iu(p,r,s,l)]=!0,o=h)),a[Iu(o,r,s,l)]=!0,n.borderSkipped=a}function Iu(n,e,t,i){return i?(n=Ek(n,e,t),n=Ou(n,t,e)):n=Ou(n,e,t),n}function Ek(n,e,t){return n===e?t:n===t?e:n}function Ou(n,e,t){return n==="start"?e:n==="end"?t:n}function Ak(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var Rk=(()=>{class n extends zi{parsePrimitiveData(t,i,o,a){return Du(t,i,o,a)}parseArrayData(t,i,o,a){return Du(t,i,o,a)}parseObjectData(t,i,o,a){let{iScale:r,vScale:s}=t,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,p=r.axis==="x"?l:h,g=s.axis==="x"?l:h,v=[],k,x,w,P;for(k=o,x=o+a;k<x;++k)P=i[k],w={},w[r.axis]=r.parse(en(P,p),k),v.push(ff(en(P,g),w,s,k));return v}updateRangeFromParsed(t,i,o,a){super.updateRangeFromParsed(t,i,o,a);let r=o._custom;r&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:o,vScale:a}=i,r=this.getParsed(t),s=r._custom,l=id(s)?"["+s.start+", "+s.end+"]":""+a.getLabelForValue(r[a.axis]);return{label:""+o.getLabelForValue(r[o.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,o,a){let r=a==="reset",{index:s,_cachedMeta:{vScale:l}}=this,h=l.getBasePixel(),p=l.isHorizontal(),g=this._getRuler(),{sharedOptions:v,includeOptions:k}=this._getSharedOptions(i,a);for(let x=i;x<i+o;x++){let w=this.getParsed(x),P=r||ut(w[l.axis])?{base:h,head:h}:this._calculateBarValuePixels(x),D=this._calculateBarIndexPixels(x,g),E=(w._stacks||{})[l.axis],F={horizontal:p,base:P.base,enableBorderRadius:!E||id(w._custom)||s===E._top||s===E._bottom,x:p?P.head:D.center,y:p?D.center:P.head,height:p?D.size:Math.abs(P.size),width:p?Math.abs(P.size):D.size};k&&(F.options=v||this.resolveDataElementOptions(x,t[x].active?"active":a));let R=F.options||t[x].options;Tk(F,R,E,s),Ak(F,R,g.ratio),this.updateElement(t[x],x,F,a)}}_getStacks(t,i){let{iScale:o}=this._cachedMeta,a=o.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),r=o.options.stacked,s=[],l=h=>{let p=h.controller.getParsed(i),g=p&&p[h.vScale.axis];if(ut(g)||isNaN(g))return!0};for(let h of a)if(!(i!==void 0&&l(h))&&((r===!1||s.indexOf(h.stack)===-1||r===void 0&&h.stack===void 0)&&s.push(h.stack),h.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,o){let a=this._getStacks(t,o),r=i!==void 0?a.indexOf(i):-1;return r===-1?a.length-1:r}_getRuler(){let t=this.options,i=this._cachedMeta,o=i.iScale,a=[],r,s;for(r=0,s=i.data.length;r<s;++r)a.push(o.getPixelForValue(this.getParsed(r)[o.axis],r));let l=t.barThickness;return{min:l||Mk(i),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:o},options:{base:a,minBarLength:r}}=this,s=a||0,l=this.getParsed(t),h=l._custom,p=id(h),g=l[i.axis],v=0,k=o?this.applyStack(i,l,o):g,x,w;k!==g&&(v=k-g,k=g),p&&(g=h.barStart,k=h.barEnd-h.barStart,g!==0&&bi(g)!==bi(h.barEnd)&&(v=0),v+=g);let P=!ut(a)&&!p?a:v,D=i.getPixelForValue(P);if(this.chart.getDataVisibility(t)?x=i.getPixelForValue(v+k):x=D,w=x-D,Math.abs(w)<r){w=Ik(w,i,s)*r,g===s&&(D-=w/2);let E=i.getPixelForDecimal(0),F=i.getPixelForDecimal(1),R=Math.min(E,F),A=Math.max(E,F);D=Math.max(Math.min(D,A),R),x=D+w}if(D===i.getPixelForValue(s)){let E=bi(w)*i.getLineWidthForValue(s)/2;D+=E,w-=E}return{size:w,base:D,head:x,center:x+w/2}}_calculateBarIndexPixels(t,i){let o=i.scale,a=this.options,r=a.skipNull,s=nt(a.maxBarThickness,1/0),l,h;if(i.grouped){let p=r?this._getStackCount(t):i.stackCount,g=a.barThickness==="flex"?Pk(t,i,a,p):Sk(t,i,a,p),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);l=g.start+g.chunk*v+g.chunk/2,h=Math.min(s,g.chunk*g.ratio)}else l=o.getPixelForValue(this.getParsed(t)[o.axis],t),h=Math.min(s,i.min*i.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){let t=this._cachedMeta,i=t.vScale,o=t.data,a=o.length,r=0;for(;r<a;++r)this.getParsed(r)[i.axis]!==null&&o[r].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),Lk=(()=>{class n extends zi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,o,a){let r=super.parsePrimitiveData(t,i,o,a);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+o).radius;return r}parseArrayData(t,i,o,a){let r=super.parseArrayData(t,i,o,a);for(let s=0;s<r.length;s++){let l=i[o+s];r[s]._custom=nt(l[2],this.resolveDataElementOptions(s+o).radius)}return r}parseObjectData(t,i,o,a){let r=super.parseObjectData(t,i,o,a);for(let s=0;s<r.length;s++){let l=i[o+s];r[s]._custom=nt(l&&l.r&&+l.r,this.resolveDataElementOptions(s+o).radius)}return r}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let o=t.length-1;o>=0;--o)i=Math.max(i,t[o].size(this.resolveDataElementOptions(o))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,{xScale:o,yScale:a}=i,r=this.getParsed(t),s=o.getLabelForValue(r.x),l=a.getLabelForValue(r.y),h=r._custom;return{label:i.label,value:"("+s+", "+l+(h?", "+h:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,o,a){let r=a==="reset",{iScale:s,vScale:l}=this._cachedMeta,{sharedOptions:h,includeOptions:p}=this._getSharedOptions(i,a),g=s.axis,v=l.axis;for(let k=i;k<i+o;k++){let x=t[k],w=!r&&this.getParsed(k),P={},D=P[g]=r?s.getPixelForDecimal(.5):s.getPixelForValue(w[g]),E=P[v]=r?l.getBasePixel():l.getPixelForValue(w[v]);P.skip=isNaN(D)||isNaN(E),p&&(P.options=h||this.resolveDataElementOptions(k,x.active?"active":a),r&&(P.options.radius=0)),this.updateElement(x,k,P,a)}}resolveDataElementOptions(t,i){let o=this.getParsed(t),a=super.resolveDataElementOptions(t,i);a.$shared&&(a=Object.assign({},a,{$shared:!1}));let r=a.radius;return i!=="active"&&(a.radius=0),a.radius+=nt(o&&o._custom,r),a}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}},n})();function jk(n,e,t){let i=1,o=1,a=0,r=0;if(e<Ct){let s=n,l=s+e,h=Math.cos(s),p=Math.sin(s),g=Math.cos(l),v=Math.sin(l),k=(F,R,A)=>Vo(F,s,l,!0)?1:Math.max(R,R*t,A,A*t),x=(F,R,A)=>Vo(F,s,l,!0)?-1:Math.min(R,R*t,A,A*t),w=k(0,h,g),P=k(Bt,p,v),D=x(Tt,h,g),E=x(Tt+Bt,p,v);i=(w-D)/2,o=(P-E)/2,a=-(w+D)/2,r=-(P+E)/2}return{ratioX:i,ratioY:o,offsetX:a,offsetY:r}}var gf=(()=>{class n extends zi{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let o=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=o;else{let r=h=>+o[h];if(st(o[t])){let{key:h="value"}=this._parsing;r=p=>+en(o[p],h)}let s,l;for(s=t,l=t+i;s<l;++s)a._parsed[s]=r(s)}}_getRotation(){return li(this.options.rotation-90)}_getCircumference(){return li(this.options.circumference)}_getRotationExtents(){let t=Ct,i=-Ct;for(let o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)){let a=this.chart.getDatasetMeta(o).controller,r=a._getRotation(),s=a._getCircumference();t=Math.min(t,r),i=Math.max(i,r+s)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:o}=i,a=this._cachedMeta,r=a.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(o.width,o.height)-s)/2,0),h=Math.min(Wp(this.options.cutout,l),1),p=this._getRingWeight(this.index),{circumference:g,rotation:v}=this._getRotationExtents(),{ratioX:k,ratioY:x,offsetX:w,offsetY:P}=jk(v,g,h),D=(o.width-s)/k,E=(o.height-s)/x,F=Math.max(Math.min(D,E)/2,0),R=wl(this.options.radius,F),A=Math.max(R*h,0),z=(R-A)/this._getVisibleDatasetWeightTotal();this.offsetX=w*R,this.offsetY=P*R,a.total=this.calculateTotal(),this.outerRadius=R-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*p,0),this.updateElements(r,0,r.length,t)}_circumference(t,i){let o=this.options,a=this._cachedMeta,r=this._getCircumference();return i&&o.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*r/Ct)}updateElements(t,i,o,a){let r=a==="reset",s=this.chart,l=s.chartArea,p=s.options.animation,g=(l.left+l.right)/2,v=(l.top+l.bottom)/2,k=r&&p.animateScale,x=k?0:this.innerRadius,w=k?0:this.outerRadius,{sharedOptions:P,includeOptions:D}=this._getSharedOptions(i,a),E=this._getRotation(),F;for(F=0;F<i;++F)E+=this._circumference(F,r);for(F=i;F<i+o;++F){let R=this._circumference(F,r),A=t[F],z={x:g+this.offsetX,y:v+this.offsetY,startAngle:E,endAngle:E+R,circumference:R,outerRadius:w,innerRadius:x};D&&(z.options=P||this.resolveDataElementOptions(F,A.active?"active":a)),E+=R,this.updateElement(A,F,z,a)}}calculateTotal(){let t=this._cachedMeta,i=t.data,o=0,a;for(a=0;a<i.length;a++){let r=t._parsed[a];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(a)&&!i[a].hidden&&(o+=Math.abs(r))}return o}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?Ct*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,o=this.chart,a=o.data.labels||[],r=Yo(i._parsed[t],o.options.locale);return{label:a[t]||"",value:r}}getMaxBorderWidth(t){let i=0,o=this.chart,a,r,s,l,h;if(!t){for(a=0,r=o.data.datasets.length;a<r;++a)if(o.isDatasetVisible(a)){s=o.getDatasetMeta(a),t=s.data,l=s.controller;break}}if(!t)return 0;for(a=0,r=t.length;a<r;++a)h=l.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(i=Math.max(i,h.borderWidth||0,h.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let o=0,a=t.length;o<a;++o){let r=this.resolveDataElementOptions(o);i=Math.max(i,r.offset||0,r.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let o=0;o<t;++o)this.chart.isDatasetVisible(o)&&(i+=this._getRingWeight(o));return i}_getRingWeight(t){return Math.max(nt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((o,a)=>{let s=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label,i=": "+e.formattedValue;return Pt(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}},n})(),Fk=(()=>{class n extends zi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:o,data:a=[],_dataset:r}=i,s=this.chart._animationsDisabled,{start:l,count:h}=Rl(i,a,s);this._drawStart=l,this._drawCount=h,Ll(i)&&(l=0,h=a.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!r._decimated,o.points=a;let p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(o,void 0,{animated:!s,options:p},t),this.updateElements(a,l,h,t)}updateElements(t,i,o,a){let r=a==="reset",{iScale:s,vScale:l,_stacked:h,_dataset:p}=this._cachedMeta,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(i,a),k=s.axis,x=l.axis,{spanGaps:w,segment:P}=this.options,D=Kn(w)?w:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||r||a==="none",F=i>0&&this.getParsed(i-1);for(let R=i;R<i+o;++R){let A=t[R],z=this.getParsed(R),H=E?A:{},Y=ut(z[x]),q=H[k]=s.getPixelForValue(z[k],R),at=H[x]=r||Y?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,z,h):z[x],R);H.skip=isNaN(q)||isNaN(at)||Y,H.stop=R>0&&Math.abs(z[k]-F[k])>D,P&&(H.parsed=z,H.raw=p.data[R]),v&&(H.options=g||this.resolveDataElementOptions(R,A.active?"active":a)),E||this.updateElement(A,R,H,a),F=z}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,o=i.options&&i.options.borderWidth||0,a=t.data||[];if(!a.length)return o;let r=a[0].size(this.resolveDataElementOptions(0)),s=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(o,r,s)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),Nk=(()=>{class n extends zi{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,o=this.chart,a=o.data.labels||[],r=Yo(i._parsed[t].r,o.options.locale);return{label:a[t]||"",value:r}}parseObjectData(t,i,o,a){return Gl.bind(this)(t,i,o,a)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((o,a)=>{let r=this.getParsed(a).r;!isNaN(r)&&this.chart.getDataVisibility(a)&&(r<i.min&&(i.min=r),r>i.max&&(i.max=r))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,o=t.options,a=Math.min(i.right-i.left,i.bottom-i.top),r=Math.max(a/2,0),s=Math.max(o.cutoutPercentage?r/100*o.cutoutPercentage:1,0),l=(r-s)/t.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,i,o,a){let r=a==="reset",s=this.chart,h=s.options.animation,p=this._cachedMeta.rScale,g=p.xCenter,v=p.yCenter,k=p.getIndexAngle(0)-.5*Tt,x=k,w,P=360/this.countVisibleElements();for(w=0;w<i;++w)x+=this._computeAngle(w,a,P);for(w=i;w<i+o;w++){let D=t[w],E=x,F=x+this._computeAngle(w,a,P),R=s.getDataVisibility(w)?p.getDistanceFromCenterForValue(this.getParsed(w).r):0;x=F,r&&(h.animateScale&&(R=0),h.animateRotate&&(E=F=k));let A={x:g,y:v,innerRadius:0,outerRadius:R,startAngle:E,endAngle:F,options:this.resolveDataElementOptions(w,D.active?"active":a)};this.updateElement(D,w,A,a)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((o,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&i++}),i}_computeAngle(t,i,o){return this.chart.getDataVisibility(t)?li(this.resolveDataElementOptions(t,i).angle||o):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((o,a)=>{let s=e.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),zk=(()=>{class n extends gf{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),Bk=(()=>{class n extends zi{getLabelAndValue(t){let i=this._cachedMeta.vScale,o=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(o[i.axis])}}parseObjectData(t,i,o,a){return Gl.bind(this)(t,i,o,a)}update(t){let i=this._cachedMeta,o=i.dataset,a=i.data||[],r=i.iScale.getLabels();if(o.points=a,t!=="resize"){let s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0);let l={_loop:!0,_fullLoop:r.length===a.length,options:s};this.updateElement(o,void 0,l,t)}this.updateElements(a,0,a.length,t)}updateElements(t,i,o,a){let r=this._cachedMeta.rScale,s=a==="reset";for(let l=i;l<i+o;l++){let h=t[l],p=this.resolveDataElementOptions(l,h.active?"active":a),g=r.getPointPositionForValue(l,this.getParsed(l).r),v=s?r.xCenter:g.x,k=s?r.yCenter:g.y,x={x:v,y:k,angle:g.angle,skip:isNaN(v)||isNaN(k),options:p};this.updateElement(h,l,x,a)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),Je=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Kn(this.x)&&Kn(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let o={};return e.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),o}};Je.defaults={};Je.defaultRoutes=void 0;var _f={values(n){return Pt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let i=this.chart.options.locale,o,a=n;if(t.length>1){let h=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(h<1e-4||h>1e15)&&(o="scientific"),a=Vk(n,t)}let r=Qe(Math.abs(a)),s=Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:o,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),Yo(n,i,l)},logarithmic(n,e,t){if(n===0)return"0";let i=n/Math.pow(10,Math.floor(Qe(n)));return i===1||i===2||i===5?_f.numeric.call(this,n,e,t):""}};function Vk(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Us={formatters:_f};ot.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Us.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});ot.route("scale.ticks","color","","color");ot.route("scale.grid","color","","borderColor");ot.route("scale.grid","borderColor","","borderColor");ot.route("scale.title","color","","color");ot.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});ot.describe("scales",{_fallback:"scale"});ot.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function Hk(n,e){let t=n.options.ticks,i=t.maxTicksLimit||Wk(n),o=t.major.enabled?Uk(e):[],a=o.length,r=o[0],s=o[a-1],l=[];if(a>i)return Gk(e,l,o,a/i),l;let h=Yk(o,e,i);if(a>0){let p,g,v=a>1?Math.round((s-r)/(a-1)):null;for(Es(e,l,h,ut(v)?0:r-v,r),p=0,g=a-1;p<g;p++)Es(e,l,h,o[p],o[p+1]);return Es(e,l,h,s,ut(v)?e.length:s+v),l}return Es(e,l,h),l}function Wk(n){let e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(i,o))}function Yk(n,e,t){let i=$k(n),o=e.length/t;if(!i)return Math.max(o,1);let a=Gp(i);for(let r=0,s=a.length-1;r<s;r++){let l=a[r];if(l>o)return l}return Math.max(o,1)}function Uk(n){let e=[],t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Gk(n,e,t,i){let o=0,a=t[0],r;for(i=Math.ceil(i),r=0;r<n.length;r++)r===a&&(e.push(n[r]),o++,a=t[o*i])}function Es(n,e,t,i,o){let a=nt(i,0),r=Math.min(nt(o,n.length),n.length),s=0,l,h,p;for(t=Math.ceil(t),o&&(l=o-i,t=l/Math.floor(l/t)),p=a;p<0;)s++,p=Math.round(a+s*t);for(h=Math.max(a,0);h<r;h++)h===p&&(e.push(n[h]),s++,p=Math.round(a+s*t))}function $k(n){let e=n.length,t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}var qk=n=>n==="left"?"right":n==="right"?"left":n,Tu=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t;function Eu(n,e){let t=[],i=n.length/e,o=n.length,a=0;for(;a<o;a+=i)t.push(n[Math.floor(a)]);return t}function Xk(n,e,t){let i=n.ticks.length,o=Math.min(e,i-1),a=n._startPixel,r=n._endPixel,s=1e-6,l=n.getPixelForTick(o),h;if(!(t&&(i===1?h=Math.max(l-a,r-l):e===0?h=(n.getPixelForTick(1)-l)/2:h=(l-n.getPixelForTick(o-1))/2,l+=o<e?h:-h,l<a-s||l>r+s)))return l}function Kk(n,e){kt(n,t=>{let i=t.gc,o=i.length/2,a;if(o>e){for(a=0;a<o;++a)delete t.data[i[a]];i.splice(0,o)}})}function Ga(n){return n.drawTicks?n.tickLength:0}function Au(n,e){if(!n.display)return 0;let t=te(n.font,e),i=fe(n.padding);return(Pt(n.text)?n.text.length:1)*t.lineHeight+i.height}function Zk(n,e){return nn(n,{scale:e,type:"scale"})}function Qk(n,e,t){return nn(n,{tick:t,index:e,type:"tick"})}function Jk(n,e,t){let i=Ms(n);return(t&&e!=="right"||!t&&e==="right")&&(i=qk(i)),i}function tC(n,e,t,i){let{top:o,left:a,bottom:r,right:s,chart:l}=n,{chartArea:h,scales:p}=l,g=0,v,k,x,w=r-o,P=s-a;if(n.isHorizontal()){if(k=ue(i,a,s),st(t)){let D=Object.keys(t)[0],E=t[D];x=p[D].getPixelForValue(E)+w-e}else t==="center"?x=(h.bottom+h.top)/2+w-e:x=Tu(n,t,e);v=s-a}else{if(st(t)){let D=Object.keys(t)[0],E=t[D];k=p[D].getPixelForValue(E)-P+e}else t==="center"?k=(h.left+h.right)/2-P+e:k=Tu(n,t,e);x=ue(i,r,o),g=t==="left"?-Bt:Bt}return{titleX:k,titleY:x,maxWidth:v,rotation:g}}var Jn=class n extends Je{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:o}=this;return e=Ze(e,Number.POSITIVE_INFINITY),t=Ze(t,Number.NEGATIVE_INFINITY),i=Ze(i,Number.POSITIVE_INFINITY),o=Ze(o,Number.NEGATIVE_INFINITY),{min:Ze(e,i),max:Ze(t,o),minDefined:Gt(e),maxDefined:Gt(t)}}getMinMax(e){let{min:t,max:i,minDefined:o,maxDefined:a}=this.getUserBounds(),r;if(o&&a)return{min:t,max:i};let s=this.getMatchingVisibleMetas();for(let l=0,h=s.length;l<h;++l)r=s[l].controller.getMinMax(this,e),o||(t=Math.min(t,r.min)),a||(i=Math.max(i,r.max));return t=a&&t>i?i:t,i=o&&t>i?t:i,{min:Ze(t,Ze(i,t)),max:Ze(i,Ze(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dt(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:o,grace:a,ticks:r}=this.options,s=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lu(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=s<this.ticks.length;this._convertTicksToLabels(l?Eu(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Hk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dt(this.options.afterUpdate,[this])}beforeSetDimensions(){Dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Dt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,i,o,a;for(i=0,o=e.length;i<o;i++)a=e[i],a.label=Dt(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,i=this.ticks.length,o=t.minRotation||0,a=t.maxRotation,r=o,s,l,h;if(!this._isVisible()||!t.display||o>=a||i<=1||!this.isHorizontal()){this.labelRotation=o;return}let p=this._getLabelSizes(),g=p.widest.width,v=p.highest.height,k=oe(this.chart.width-g,0,this.maxWidth);s=e.offset?this.maxWidth/i:k/(i-1),g+6>s&&(s=k/(i-(e.offset?.5:1)),l=this.maxHeight-Ga(e.grid)-t.padding-Au(e.title,this.chart.options.font),h=Math.sqrt(g*g+v*v),r=Cs(Math.min(Math.asin(oe((p.highest.height+6)/s,-1,1)),Math.asin(oe(l/h,-1,1))-Math.asin(oe(v/h,-1,1)))),r=Math.max(o,Math.min(a,r))),this.labelRotation=r}afterCalculateLabelRotation(){Dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dt(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:o,grid:a}}=this,r=this._isVisible(),s=this.isHorizontal();if(r){let l=Au(o,t.options.font);if(s?(e.width=this.maxWidth,e.height=Ga(a)+l):(e.height=this.maxHeight,e.width=Ga(a)+l),i.display&&this.ticks.length){let{first:h,last:p,widest:g,highest:v}=this._getLabelSizes(),k=i.padding*2,x=li(this.labelRotation),w=Math.cos(x),P=Math.sin(x);if(s){let D=i.mirror?0:P*g.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+D+k)}else{let D=i.mirror?0:w*g.width+P*v.height;e.width=Math.min(this.maxWidth,e.width+D+k)}this._calculatePadding(h,p,P,w)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,o){let{ticks:{align:a,padding:r},position:s}=this.options,l=this.labelRotation!==0,h=s!=="top"&&this.axis==="x";if(this.isHorizontal()){let p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1),v=0,k=0;l?h?(v=o*e.width,k=i*t.height):(v=i*e.height,k=o*t.width):a==="start"?k=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,k=t.width/2),this.paddingLeft=Math.max((v-p+r)*this.width/(this.width-p),0),this.paddingRight=Math.max((k-g+r)*this.width/(this.width-g),0)}else{let p=t.height/2,g=e.height/2;a==="start"?(p=0,g=e.height):a==="end"&&(p=t.height,g=0),this.paddingTop=p+r,this.paddingBottom=g+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dt(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)ut(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=Eu(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,t){let{ctx:i,_longestTextCache:o}=this,a=[],r=[],s=0,l=0,h,p,g,v,k,x,w,P,D,E,F;for(h=0;h<t;++h){if(v=e[h].label,k=this._resolveTickFontOptions(h),i.font=x=k.string,w=o[x]=o[x]||{data:{},gc:[]},P=k.lineHeight,D=E=0,!ut(v)&&!Pt(v))D=Ba(i,w.data,w.gc,D,v),E=P;else if(Pt(v))for(p=0,g=v.length;p<g;++p)F=v[p],!ut(F)&&!Pt(F)&&(D=Ba(i,w.data,w.gc,D,F),E+=P);a.push(D),r.push(E),s=Math.max(D,s),l=Math.max(E,l)}Kk(o,t);let R=a.indexOf(s),A=r.indexOf(l),z=H=>({width:a[H]||0,height:r[H]||0});return{first:z(0),last:z(t-1),widest:z(R),highest:z(A),widths:a,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return qp(this._alignToPixels?Dn(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=Qk(this.getContext(),e,i))}return this.$context||(this.$context=Zk(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=li(this.labelRotation),i=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),a=this._getLabelSizes(),r=e.autoSkipPadding||0,s=a?a.widest.width+r:0,l=a?a.highest.height+r:0;return this.isHorizontal()?l*i>s*o?s/i:l/o:l*o<s*i?l/i:s/o}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,i=this.chart,o=this.options,{grid:a,position:r}=o,s=a.offset,l=this.isHorizontal(),p=this.ticks.length+(s?1:0),g=Ga(a),v=[],k=a.setContext(this.getContext()),x=k.drawBorder?k.borderWidth:0,w=x/2,P=function(J){return Dn(i,J,x)},D,E,F,R,A,z,H,Y,q,at,et,rt;if(r==="top")D=P(this.bottom),z=this.bottom-g,Y=D-w,at=P(e.top)+w,rt=e.bottom;else if(r==="bottom")D=P(this.top),at=e.top,rt=P(e.bottom)-w,z=D+w,Y=this.top+g;else if(r==="left")D=P(this.right),A=this.right-g,H=D-w,q=P(e.left)+w,et=e.right;else if(r==="right")D=P(this.left),q=e.left,et=P(e.right)-w,A=D+w,H=this.left+g;else if(t==="x"){if(r==="center")D=P((e.top+e.bottom)/2+.5);else if(st(r)){let J=Object.keys(r)[0],Vt=r[J];D=P(this.chart.scales[J].getPixelForValue(Vt))}at=e.top,rt=e.bottom,z=D+w,Y=z+g}else if(t==="y"){if(r==="center")D=P((e.left+e.right)/2);else if(st(r)){let J=Object.keys(r)[0],Vt=r[J];D=P(this.chart.scales[J].getPixelForValue(Vt))}A=D-w,H=A-g,q=e.left,et=e.right}let At=nt(o.ticks.maxTicksLimit,p),ee=Math.max(1,Math.ceil(p/At));for(E=0;E<p;E+=ee){let J=a.setContext(this.getContext(E)),Vt=J.lineWidth,Ft=J.color,ae=J.borderDash||[],zn=J.borderDashOffset,mi=J.tickWidth,cn=J.tickColor,Ue=J.tickBorderDash||[],X=J.tickBorderDashOffset;F=Xk(this,E,s),F!==void 0&&(R=Dn(i,F,Vt),l?A=H=q=et=R:z=Y=at=rt=R,v.push({tx1:A,ty1:z,tx2:H,ty2:Y,x1:q,y1:at,x2:et,y2:rt,width:Vt,color:Ft,borderDash:ae,borderDashOffset:zn,tickWidth:mi,tickColor:cn,tickBorderDash:Ue,tickBorderDashOffset:X}))}return this._ticksLength=p,this._borderValue=D,v}_computeLabelItems(e){let t=this.axis,i=this.options,{position:o,ticks:a}=i,r=this.isHorizontal(),s=this.ticks,{align:l,crossAlign:h,padding:p,mirror:g}=a,v=Ga(i.grid),k=v+p,x=g?-p:k,w=-li(this.labelRotation),P=[],D,E,F,R,A,z,H,Y,q,at,et,rt,At="middle";if(o==="top")z=this.bottom-x,H=this._getXAxisLabelAlignment();else if(o==="bottom")z=this.top+x,H=this._getXAxisLabelAlignment();else if(o==="left"){let J=this._getYAxisLabelAlignment(v);H=J.textAlign,A=J.x}else if(o==="right"){let J=this._getYAxisLabelAlignment(v);H=J.textAlign,A=J.x}else if(t==="x"){if(o==="center")z=(e.top+e.bottom)/2+k;else if(st(o)){let J=Object.keys(o)[0],Vt=o[J];z=this.chart.scales[J].getPixelForValue(Vt)+k}H=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")A=(e.left+e.right)/2-k;else if(st(o)){let J=Object.keys(o)[0],Vt=o[J];A=this.chart.scales[J].getPixelForValue(Vt)}H=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(l==="start"?At="top":l==="end"&&(At="bottom"));let ee=this._getLabelSizes();for(D=0,E=s.length;D<E;++D){F=s[D],R=F.label;let J=a.setContext(this.getContext(D));Y=this.getPixelForTick(D)+a.labelOffset,q=this._resolveTickFontOptions(D),at=q.lineHeight,et=Pt(R)?R.length:1;let Vt=et/2,Ft=J.color,ae=J.textStrokeColor,zn=J.textStrokeWidth,mi=H;r?(A=Y,H==="inner"&&(D===E-1?mi=this.options.reverse?"left":"right":D===0?mi=this.options.reverse?"right":"left":mi="center"),o==="top"?h==="near"||w!==0?rt=-et*at+at/2:h==="center"?rt=-ee.highest.height/2-Vt*at+at:rt=-ee.highest.height+at/2:h==="near"||w!==0?rt=at/2:h==="center"?rt=ee.highest.height/2-Vt*at:rt=ee.highest.height-et*at,g&&(rt*=-1)):(z=Y,rt=(1-et)*at/2);let cn;if(J.showLabelBackdrop){let Ue=fe(J.backdropPadding),X=ee.heights[D],ha=ee.widths[D],ma=z+rt-Ue.top,ln=A-Ue.left;switch(At){case"middle":ma-=X/2;break;case"bottom":ma-=X;break}switch(H){case"center":ln-=ha/2;break;case"right":ln-=ha;break}cn={left:ln,top:ma,width:ha+Ue.width,height:X+Ue.height,color:J.backdropColor}}P.push({rotation:w,label:R,font:q,color:Ft,strokeColor:ae,strokeWidth:zn,textOffset:rt,textAlign:mi,textBaseline:At,translation:[A,z],backdrop:cn})}return P}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-li(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:i,mirror:o,padding:a}}=this.options,r=this._getLabelSizes(),s=e+a,l=r.widest.width,h,p;return t==="left"?o?(p=this.right+a,i==="near"?h="left":i==="center"?(h="center",p+=l/2):(h="right",p+=l)):(p=this.right-s,i==="near"?h="right":i==="center"?(h="center",p-=l/2):(h="left",p=this.left)):t==="right"?o?(p=this.left+a,i==="near"?h="right":i==="center"?(h="center",p-=l/2):(h="left",p-=l)):(p=this.left+s,i==="near"?h="left":i==="center"?(h="center",p+=l/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:o,width:a,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,o,a,r),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let o=this.ticks.findIndex(a=>a.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){let t=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a,r,s=(l,h,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(t.display)for(a=0,r=o.length;a<r;++a){let l=o[a];t.drawOnChartArea&&s({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&s({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{grid:i}}=this,o=i.setContext(this.getContext()),a=i.drawBorder?o.borderWidth:0;if(!a)return;let r=i.setContext(this.getContext(0)).lineWidth,s=this._borderValue,l,h,p,g;this.isHorizontal()?(l=Dn(e,this.left,a)-a/2,h=Dn(e,this.right,r)+r/2,p=g=s):(p=Dn(e,this.top,a)-a/2,g=Dn(e,this.bottom,r)+r/2,l=h=s),t.save(),t.lineWidth=o.borderWidth,t.strokeStyle=o.borderColor,t.beginPath(),t.moveTo(l,p),t.lineTo(h,g),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,o=this._computeLabelArea();o&&Wa(i,o);let a=this._labelItems||(this._labelItems=this._computeLabelItems(e)),r,s;for(r=0,s=a.length;r<s;++r){let l=a[r],h=l.font,p=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let g=l.textOffset;In(i,p,0,g,h,l)}o&&Ya(i)}drawTitle(){let{ctx:e,options:{position:t,title:i,reverse:o}}=this;if(!i.display)return;let a=te(i.font),r=fe(i.padding),s=i.align,l=a.lineHeight/2;t==="bottom"||t==="center"||st(t)?(l+=r.bottom,Pt(i.text)&&(l+=a.lineHeight*(i.text.length-1))):l+=r.top;let{titleX:h,titleY:p,maxWidth:g,rotation:v}=tC(this,l,t,s);In(e,i.text,0,0,a,{color:i.color,maxWidth:g,rotation:v,textAlign:Jk(s,t,o),textBaseline:"middle",translation:[h,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=nt(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[],a,r;for(a=0,r=t.length;a<r;++a){let s=t[a];s[i]===this.id&&(!e||s.type===e)&&o.push(s)}return o}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return te(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Go=class{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),i;nC(t)&&(i=this.register(t));let o=this.items,a=e.id,r=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,eC(e,r,i),this.override&&ot.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,o=this.scope;i in t&&delete t[i],o&&i in ot[o]&&(delete ot[o][i],this.override&&delete Pn[i])}};function eC(n,e,t){let i=jo(Object.create(null),[t?ot.get(t):{},ot.get(e),n.defaults]);ot.set(e,i),n.defaultRoutes&&iC(e,n.defaultRoutes),n.descriptors&&ot.describe(e,n.descriptors)}function iC(n,e){Object.keys(e).forEach(t=>{let i=t.split("."),o=i.pop(),a=[n].concat(i).join("."),r=e[t].split("."),s=r.pop(),l=r.join(".");ot.route(a,o,l,s)})}function nC(n){return"id"in n&&"defaults"in n}var hd=class{constructor(){this.controllers=new Go(zi,"datasets",!0),this.elements=new Go(Je,"elements"),this.plugins=new Go(Object,"plugins"),this.scales=new Go(Jn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(o=>{let a=i||this._getRegistryForType(o);i||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):kt(o,r=>{let s=i||this._getRegistryForType(r);this._exec(e,s,r)})})}_exec(e,t,i){let o=ks(e);Dt(i["before"+o],[],i),t[e](i),Dt(i["after"+o],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}},Ni=new hd,oC=(()=>{class n extends zi{update(t){let i=this._cachedMeta,{data:o=[]}=i,a=this.chart._animationsDisabled,{start:r,count:s}=Rl(i,o,a);if(this._drawStart=r,this._drawCount=s,Ll(i)&&(r=0,s=o.length),this.options.showLine){let{dataset:l,_dataset:h}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!h._decimated,l.points=o;let p=this.resolveDatasetElementOptions(t);p.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:p},t)}this.updateElements(o,r,s,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Ni.getElement("line")),super.addElements()}updateElements(t,i,o,a){let r=a==="reset",{iScale:s,vScale:l,_stacked:h,_dataset:p}=this._cachedMeta,g=this.resolveDataElementOptions(i,a),v=this.getSharedOptions(g),k=this.includeOptions(a,v),x=s.axis,w=l.axis,{spanGaps:P,segment:D}=this.options,E=Kn(P)?P:Number.POSITIVE_INFINITY,F=this.chart._animationsDisabled||r||a==="none",R=i>0&&this.getParsed(i-1);for(let A=i;A<i+o;++A){let z=t[A],H=this.getParsed(A),Y=F?z:{},q=ut(H[w]),at=Y[x]=s.getPixelForValue(H[x],A),et=Y[w]=r||q?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,H,h):H[w],A);Y.skip=isNaN(at)||isNaN(et)||q,Y.stop=A>0&&Math.abs(H[x]-R[x])>E,D&&(Y.parsed=H,Y.raw=p.data[A]),k&&(Y.options=v||this.resolveDataElementOptions(A,z.active?"active":a)),F||this.updateElement(z,A,Y,a),R=H}this.updateSharedOptions(v,a,g)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let l=0;for(let h=i.length-1;h>=0;--h)l=Math.max(l,i[h].size(this.resolveDataElementOptions(h))/2);return l>0&&l}let o=t.dataset,a=o.options&&o.options.borderWidth||0;if(!i.length)return a;let r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(a,r,s)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})(),aC=Object.freeze({__proto__:null,BarController:Rk,BubbleController:Lk,DoughnutController:gf,LineController:Fk,PolarAreaController:Nk,PieController:zk,RadarController:Bk,ScatterController:oC});function Qn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var rC=(()=>{class n{constructor(t){this.options=t||{}}init(t){}formats(){return Qn()}parse(t,i){return Qn()}format(t,i){return Qn()}add(t,i,o){return Qn()}diff(t,i,o){return Qn()}startOf(t,i,o){return Qn()}endOf(t,i){return Qn()}}return n.override=function(e){Object.assign(n.prototype,e)},n})(),sC={_date:rC};function cC(n,e,t,i){let{controller:o,data:a,_sorted:r}=n,s=o._cachedMeta.iScale;if(s&&e===s.axis&&e!=="r"&&r&&a.length){let l=s._reversePixels?Xp:Ri;if(i){if(o._sharedOptions){let h=a[0],p=typeof h.getRange=="function"&&h.getRange(e);if(p){let g=l(a,e,t-p),v=l(a,e,t+p);return{lo:g.lo,hi:v.hi}}}}else return l(a,e,t)}return{lo:0,hi:a.length-1}}function nr(n,e,t,i,o){let a=n.getSortedVisibleDatasetMetas(),r=t[e];for(let s=0,l=a.length;s<l;++s){let{index:h,data:p}=a[s],{lo:g,hi:v}=cC(a[s],e,r,o);for(let k=g;k<=v;++k){let x=p[k];x.skip||i(x,h,k)}}}function lC(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,o){let a=e?Math.abs(i.x-o.x):0,r=t?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function nd(n,e,t,i,o){let a=[];return!o&&!n.isPointInArea(e)||nr(n,t,e,function(s,l,h){!o&&!Fo(s,n.chartArea,0)||s.inRange(e.x,e.y,i)&&a.push({element:s,datasetIndex:l,index:h})},!0),a}function dC(n,e,t,i){let o=[];function a(r,s,l){let{startAngle:h,endAngle:p}=r.getProps(["startAngle","endAngle"],i),{angle:g}=Il(r,{x:e.x,y:e.y});Vo(g,h,p)&&o.push({element:r,datasetIndex:s,index:l})}return nr(n,t,e,a),o}function hC(n,e,t,i,o,a){let r=[],s=lC(t),l=Number.POSITIVE_INFINITY;function h(p,g,v){let k=p.inRange(e.x,e.y,o);if(i&&!k)return;let x=p.getCenterPoint(o);if(!(!!a||n.isPointInArea(x))&&!k)return;let P=s(e,x);P<l?(r=[{element:p,datasetIndex:g,index:v}],l=P):P===l&&r.push({element:p,datasetIndex:g,index:v})}return nr(n,t,e,h),r}function od(n,e,t,i,o,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?dC(n,e,t,o):hC(n,e,t,i,o,a)}function Ru(n,e,t,i,o){let a=[],r=t==="x"?"inXRange":"inYRange",s=!1;return nr(n,t,e,(l,h,p)=>{l[r](e[t],o)&&(a.push({element:l,datasetIndex:h,index:p}),s=s||l.inRange(e.x,e.y,o))}),i&&!s?[]:a}var mC={evaluateInteractionItems:nr,modes:{index(n,e,t,i){let o=Tn(e,n),a=t.axis||"x",r=t.includeInvisible||!1,s=t.intersect?nd(n,o,a,i,r):od(n,o,a,!1,i,r),l=[];return s.length?(n.getSortedVisibleDatasetMetas().forEach(h=>{let p=s[0].index,g=h.data[p];g&&!g.skip&&l.push({element:g,datasetIndex:h.index,index:p})}),l):[]},dataset(n,e,t,i){let o=Tn(e,n),a=t.axis||"xy",r=t.includeInvisible||!1,s=t.intersect?nd(n,o,a,i,r):od(n,o,a,!1,i,r);if(s.length>0){let l=s[0].datasetIndex,h=n.getDatasetMeta(l).data;s=[];for(let p=0;p<h.length;++p)s.push({element:h[p],datasetIndex:l,index:p})}return s},point(n,e,t,i){let o=Tn(e,n),a=t.axis||"xy",r=t.includeInvisible||!1;return nd(n,o,a,i,r)},nearest(n,e,t,i){let o=Tn(e,n),a=t.axis||"xy",r=t.includeInvisible||!1;return od(n,o,a,t.intersect,i,r)},x(n,e,t,i){let o=Tn(e,n);return Ru(n,o,"x",t.intersect,i)},y(n,e,t,i){let o=Tn(e,n);return Ru(n,o,"y",t.intersect,i)}}},bf=["left","top","right","bottom"];function $a(n,e){return n.filter(t=>t.pos===e)}function Lu(n,e){return n.filter(t=>bf.indexOf(t.pos)===-1&&t.box.axis===e)}function qa(n,e){return n.sort((t,i)=>{let o=e?i:t,a=e?t:i;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function pC(n){let e=[],t,i,o,a,r,s;for(t=0,i=(n||[]).length;t<i;++t)o=n[t],{position:a,options:{stack:r,stackWeight:s=1}}=o,e.push({index:t,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:r&&a+r,stackWeight:s});return e}function uC(n){let e={};for(let t of n){let{stack:i,pos:o,stackWeight:a}=t;if(!i||!bf.includes(o))continue;let r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=a}return e}function fC(n,e){let t=uC(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e,a,r,s;for(a=0,r=n.length;a<r;++a){s=n[a];let{fullSize:l}=s.box,h=t[s.stack],p=h&&s.stackWeight/h.weight;s.horizontal?(s.width=p?p*i:l&&e.availableWidth,s.height=o):(s.width=i,s.height=p?p*o:l&&e.availableHeight)}return t}function gC(n){let e=pC(n),t=qa(e.filter(h=>h.box.fullSize),!0),i=qa($a(e,"left"),!0),o=qa($a(e,"right")),a=qa($a(e,"top"),!0),r=qa($a(e,"bottom")),s=Lu(e,"x"),l=Lu(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:o.concat(l).concat(r).concat(s),chartArea:$a(e,"chartArea"),vertical:i.concat(o).concat(l),horizontal:a.concat(r).concat(s)}}function ju(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function vf(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function _C(n,e,t,i){let{pos:o,box:a}=t,r=n.maxPadding;if(!st(o)){t.size&&(n[o]-=t.size);let g=i[t.stack]||{size:0,count:1};g.size=Math.max(g.size,t.horizontal?a.height:a.width),t.size=g.size/g.count,n[o]+=t.size}a.getPadding&&vf(r,a.getPadding());let s=Math.max(0,e.outerWidth-ju(r,n,"left","right")),l=Math.max(0,e.outerHeight-ju(r,n,"top","bottom")),h=s!==n.w,p=l!==n.h;return n.w=s,n.h=l,t.horizontal?{same:h,other:p}:{same:p,other:h}}function bC(n){let e=n.maxPadding;function t(i){let o=Math.max(e[i]-n[i],0);return n[i]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function vC(n,e){let t=e.maxPadding;function i(o){let a={left:0,top:0,right:0,bottom:0};return o.forEach(r=>{a[r]=Math.max(e[r],t[r])}),a}return i(n?["left","right"]:["top","bottom"])}function Ka(n,e,t,i){let o=[],a,r,s,l,h,p;for(a=0,r=n.length,h=0;a<r;++a){s=n[a],l=s.box,l.update(s.width||e.w,s.height||e.h,vC(s.horizontal,e));let{same:g,other:v}=_C(e,t,s,i);h|=g&&o.length,p=p||v,l.fullSize||o.push(s)}return h&&Ka(o,e,t,i)||p}function As(n,e,t,i,o){n.top=t,n.left=e,n.right=e+i,n.bottom=t+o,n.width=i,n.height=o}function Fu(n,e,t,i){let o=t.padding,{x:a,y:r}=e;for(let s of n){let l=s.box,h=i[s.stack]||{count:1,placed:0,weight:1},p=s.stackWeight/h.weight||1;if(s.horizontal){let g=e.w*p,v=h.size||l.height;Ke(h.start)&&(r=h.start),l.fullSize?As(l,o.left,r,t.outerWidth-o.right-o.left,v):As(l,e.left+h.placed,r,g,v),h.start=r,h.placed+=g,r=l.bottom}else{let g=e.h*p,v=h.size||l.width;Ke(h.start)&&(a=h.start),l.fullSize?As(l,a,o.top,v,t.outerHeight-o.bottom-o.top):As(l,a,e.top+h.placed,v,g),h.start=a,h.placed+=g,a=l.right}}e.x=a,e.y=r}ot.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Me={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;let o=fe(n.options.layout.padding),a=Math.max(e-o.width,0),r=Math.max(t-o.height,0),s=gC(n.boxes),l=s.vertical,h=s.horizontal;kt(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});let p=l.reduce((w,P)=>P.box.options&&P.box.options.display===!1?w:w+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/p,hBoxMaxHeight:r/2}),v=Object.assign({},o);vf(v,fe(i));let k=Object.assign({maxPadding:v,w:a,h:r,x:o.left,y:o.top},o),x=fC(l.concat(h),g);Ka(s.fullSize,k,g,x),Ka(l,k,g,x),Ka(h,k,g,x)&&Ka(l,k,g,x),bC(k),Fu(s.leftAndTop,k,g,x),k.x+=k.w,k.y+=k.h,Fu(s.rightAndBottom,k,g,x),n.chartArea={left:k.left,top:k.top,right:k.left+k.w,bottom:k.top+k.h,height:k.h,width:k.w},kt(s.chartArea,w=>{let P=w.box;Object.assign(P,n.chartArea),P.update(k.w,k.h,{left:0,top:0,right:0,bottom:0})})}},Bs=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,o){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):i)}}isAttached(e){return!0}updateConfig(e){}},md=class extends Bs{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Ns="$chartjs",xC={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Nu=n=>n===null||n==="";function yC(n,e){let t=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[Ns]={initial:{height:i,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Nu(o)){let a=Xl(n,"width");a!==void 0&&(n.width=a)}if(Nu(i))if(n.style.height==="")n.height=n.width/(e||2);else{let a=Xl(n,"height");a!==void 0&&(n.height=a)}return n}var xf=gu?{passive:!0}:!1;function kC(n,e,t){n.addEventListener(e,t,xf)}function CC(n,e,t){n.canvas.removeEventListener(e,t,xf)}function wC(n,e){let t=xC[n.type]||n.type,{x:i,y:o}=Tn(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Vs(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function MC(n,e,t){let i=n.canvas,o=new MutationObserver(a=>{let r=!1;for(let s of a)r=r||Vs(s.addedNodes,i),r=r&&!Vs(s.removedNodes,i);r&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function SC(n,e,t){let i=n.canvas,o=new MutationObserver(a=>{let r=!1;for(let s of a)r=r||Vs(s.removedNodes,i),r=r&&!Vs(s.addedNodes,i);r&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}var Qa=new Map,zu=0;function yf(){let n=window.devicePixelRatio;n!==zu&&(zu=n,Qa.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function PC(n,e){Qa.size||window.addEventListener("resize",yf),Qa.set(n,e)}function DC(n){Qa.delete(n),Qa.size||window.removeEventListener("resize",yf)}function IC(n,e,t){let i=n.canvas,o=i&&Os(i);if(!o)return;let a=Al((s,l)=>{let h=o.clientWidth;t(s,l),h<o.clientWidth&&t()},window),r=new ResizeObserver(s=>{let l=s[0],h=l.contentRect.width,p=l.contentRect.height;h===0&&p===0||a(h,p)});return r.observe(o),PC(n,a),r}function ad(n,e,t){t&&t.disconnect(),e==="resize"&&DC(n)}function OC(n,e,t){let i=n.canvas,o=Al(a=>{n.ctx!==null&&t(wC(a,n))},n,a=>{let r=a[0];return[r,r.offsetX,r.offsetY]});return kC(i,e,o),o}var pd=class extends Bs{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(yC(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[Ns])return!1;let i=t[Ns].initial;["height","width"].forEach(a=>{let r=i[a];ut(r)?t.removeAttribute(a):t.setAttribute(a,r)});let o=i.style||{};return Object.keys(o).forEach(a=>{t.style[a]=o[a]}),t.width=t.width,delete t[Ns],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let o=e.$proxies||(e.$proxies={}),r={attach:MC,detach:SC,resize:IC}[t]||OC;o[t]=r(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),o=i[t];if(!o)return;({attach:ad,detach:ad,resize:ad}[t]||CC)(e,t,o),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,o){return fu(e,t,i,o)}isAttached(e){let t=Os(e);return!!(t&&t.isConnected)}};function TC(n){return!$l()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?md:pd}var ud=class{constructor(){this._init=[]}notify(e,t,i,o){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let a=o?this._descriptors(e).filter(o):this._descriptors(e),r=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,o){o=o||{};for(let a of e){let r=a.plugin,s=r[i],l=[t,o,a.options];if(Dt(s,l,r)===!1&&o.cancelable)return!1}return!0}invalidate(){ut(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,o=nt(i.options&&i.options.plugins,{}),a=EC(i);return o===!1&&!t?[]:RC(e,a,o,t)}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,o=(a,r)=>a.filter(s=>!r.some(l=>s.plugin.id===l.plugin.id));this._notify(o(t,i),e,"stop"),this._notify(o(i,t),e,"start")}};function EC(n){let e={},t=[],i=Object.keys(Ni.plugins.items);for(let a=0;a<i.length;a++)t.push(Ni.getPlugin(i[a]));let o=n.plugins||[];for(let a=0;a<o.length;a++){let r=o[a];t.indexOf(r)===-1&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}function AC(n,e){return!e&&n===!1?null:n===!0?{}:n}function RC(n,{plugins:e,localIds:t},i,o){let a=[],r=n.getContext();for(let s of e){let l=s.id,h=AC(i[l],o);h!==null&&a.push({plugin:s,options:LC(n.config,{plugin:s,local:t[l]},h,r)})}return a}function LC(n,{plugin:e,local:t},i,o){let a=n.pluginScopeKeys(e),r=n.getOptionScopes(i,a);return t&&e.defaults&&r.push(e.defaults),n.createResolver(r,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fd(n,e){let t=ot.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function jC(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function FC(n,e){return n===e?"_index_":"_value_"}function NC(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gd(n,e){return n==="x"||n==="y"?n:e.axis||NC(e.position)||n.charAt(0).toLowerCase()}function zC(n,e){let t=Pn[n.type]||{scales:{}},i=e.scales||{},o=fd(n.type,e),a=Object.create(null),r=Object.create(null);return Object.keys(i).forEach(s=>{let l=i[s];if(!st(l))return console.error(`Invalid scale configuration for scale: ${s}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let h=gd(s,l),p=FC(h,o),g=t.scales||{};a[h]=a[h]||s,r[s]=zo(Object.create(null),[{axis:h},l,g[h],g[p]])}),n.data.datasets.forEach(s=>{let l=s.type||n.type,h=s.indexAxis||fd(l,e),g=(Pn[l]||{}).scales||{};Object.keys(g).forEach(v=>{let k=jC(v,h),x=s[k+"AxisID"]||a[k]||k;r[x]=r[x]||Object.create(null),zo(r[x],[{axis:k},i[x],g[v]])})}),Object.keys(r).forEach(s=>{let l=r[s];zo(l,[ot.scales[l.type],ot.scale])}),r}function kf(n){let e=n.options||(n.options={});e.plugins=nt(e.plugins,{}),e.scales=zC(n,e)}function Cf(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function BC(n){return n=n||{},n.data=Cf(n.data),kf(n),n}var Bu=new Map,wf=new Set;function Rs(n,e){let t=Bu.get(n);return t||(t=e(),Bu.set(n,t),wf.add(t)),t}var Xa=(n,e,t)=>{let i=en(e,t);i!==void 0&&n.add(i)},_d=class{constructor(e){this._config=BC(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Cf(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),kf(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Rs(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Rs(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Rs(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return Rs(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,o=i.get(e);return(!o||t)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,t,i){let{options:o,type:a}=this,r=this._cachedScopes(e,i),s=r.get(t);if(s)return s;let l=new Set;t.forEach(p=>{e&&(l.add(e),p.forEach(g=>Xa(l,e,g))),p.forEach(g=>Xa(l,o,g)),p.forEach(g=>Xa(l,Pn[a]||{},g)),p.forEach(g=>Xa(l,ot,g)),p.forEach(g=>Xa(l,Ss,g))});let h=Array.from(l);return h.length===0&&h.push(Object.create(null)),wf.has(t)&&r.set(t,h),h}chartOptionScopes(){let{options:e,type:t}=this;return[e,Pn[t]||{},ot.datasets[t]||{},{type:t},ot,Ss]}resolveNamedOptions(e,t,i,o=[""]){let a={$shared:!0},{resolver:r,subPrefixes:s}=Vu(this._resolverCache,e,o),l=r;if(HC(r,t)){a.$shared=!1,i=tn(i)?i():i;let h=this.createResolver(e,i,s);l=Xn(r,i,h)}for(let h of t)a[h]=l[h];return a}createResolver(e,t,i=[""],o){let{resolver:a}=Vu(this._resolverCache,e,i);return st(t)?Xn(a,t,void 0,o):a}};function Vu(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));let o=t.join(),a=i.get(o);return a||(a={resolver:Is(e,t),subPrefixes:t.filter(s=>!s.toLowerCase().includes("hover"))},i.set(o,a)),a}var VC=n=>st(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||tn(n[t]),!1);function HC(n,e){let{isScriptable:t,isIndexable:i}=Wl(n);for(let o of e){let a=t(o),r=i(o),s=(r||a)&&n[o];if(a&&(tn(s)||VC(s))||r&&Pt(s))return!0}return!1}var WC="3.9.1",YC=["top","bottom","left","right","chartArea"];function Hu(n,e){return n==="top"||n==="bottom"||YC.indexOf(n)===-1&&e==="x"}function Wu(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Yu(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Dt(t&&t.onComplete,[n],e)}function UC(n){let e=n.chart,t=e.options.animation;Dt(t&&t.onProgress,[n],e)}function Mf(n){return $l()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var Hs={},Sf=n=>{let e=Mf(n);return Object.values(Hs).filter(t=>t.canvas===e).pop()};function GC(n,e,t){let i=Object.keys(n);for(let o of i){let a=+o;if(a>=e){let r=n[o];delete n[o],(t>0||a>e)&&(n[a+t]=r)}}}function $C(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var rn=class{constructor(e,t){let i=this.config=new _d(t),o=Mf(e),a=Sf(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");let r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||TC(o)),this.platform.updateConfig(i);let s=this.platform.acquireContext(o,r.aspectRatio),l=s&&s.canvas,h=l&&l.height,p=l&&l.width;if(this.id=Hp(),this.ctx=s,this.canvas=l,this.width=p,this.height=h,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ud,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jp(g=>this.update(g),r.resizeDelay||0),this._dataChanges=[],Hs[this.id]=this,!s||!l){console.error("Failed to create chart: can't acquire context from the given item");return}on.listen(this,"complete",Yu),on.listen(this,"progress",UC),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:o,_aspectRatio:a}=this;return ut(e)?t&&a?a:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ql(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Bl(this.canvas,this.ctx),this}stop(){return on.stop(this),this}resize(e,t){on.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){let i=this.options,o=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(o,e,t,a),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,ql(this,s,!0)&&(this.notifyPlugins("resize",{size:r}),Dt(i.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let t=this.options.scales||{};kt(t,(i,o)=>{i.id=o})}buildOrUpdateScales(){let e=this.options,t=e.scales,i=this.scales,o=Object.keys(i).reduce((r,s)=>(r[s]=!1,r),{}),a=[];t&&(a=a.concat(Object.keys(t).map(r=>{let s=t[r],l=gd(r,s),h=l==="r",p=l==="x";return{options:s,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),kt(a,r=>{let s=r.options,l=s.id,h=gd(l,s),p=nt(s.type,r.dtype);(s.position===void 0||Hu(s.position,h)!==Hu(r.dposition))&&(s.position=r.dposition),o[l]=!0;let g=null;if(l in i&&i[l].type===p)g=i[l];else{let v=Ni.getScale(p);g=new v({id:l,type:p,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(s,e)}),kt(o,(r,s)=>{r||delete i[s]}),kt(i,r=>{Me.configure(this,r,r.options),Me.addBox(this,r)})}_updateMetasets(){let e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((o,a)=>o.index-a.index),i>t){for(let o=t;o<i;++o)this._destroyDatasetMeta(o);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Wu("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,o)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],t=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=t.length;i<o;i++){let a=t[i],r=this.getDatasetMeta(i),s=a.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=s,r.indexAxis=a.indexAxis||fd(s,this.options),r.order=a.order||0,r.index=i,r.label=""+a.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{let l=Ni.getController(s),{datasetElementType:h,dataElementType:p}=ot.datasets[s];Object.assign(l.prototype,{dataElementType:Ni.getElement(p),datasetElementType:h&&Ni.getElement(h)}),r.controller=new l(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){kt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let t=this.config;t.update();let i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let h=0,p=this.data.datasets.length;h<p;h++){let{controller:g}=this.getDatasetMeta(h),v=!o&&a.indexOf(g)===-1;g.buildOrUpdateElements(v),r=Math.max(+g.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),o||kt(a,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Wu("z","_idx"));let{_active:s,_lastEvent:l}=this;l?this._eventHandler(l,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){kt(this.scales,e=>{Me.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Ml(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:a}of t){let r=i==="_removeElements"?-a:a;GC(e,o,r)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let t=this.data.datasets.length,i=a=>new Set(e.filter(r=>r[0]===a).map((r,s)=>s+","+r.splice(1).join(","))),o=i(0);for(let a=1;a<t;a++)if(!Ml(o,i(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Me.update(this,this.width,this.height,e);let t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],kt(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,tn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){let i=this.getDatasetMeta(e),o={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(on.has(this)?this.attached&&!on.running(this)&&on.start(this):(this.draw(),Yu({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resize(i,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let t=this._sortedMetasets,i=[],o,a;for(o=0,a=t.length;o<a;++o){let r=t[o];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let t=this.ctx,i=e._clip,o=!i.disabled,a=this.chartArea,r={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&Wa(t,{left:i.left===!1?0:a.left-i.left,right:i.right===!1?this.width:a.right+i.right,top:i.top===!1?0:a.top-i.top,bottom:i.bottom===!1?this.height:a.bottom+i.bottom}),e.controller.draw(),o&&Ya(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Fo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,o){let a=mC.modes[t];return typeof a=="function"?a(this,e,i,o):[]}getDatasetMeta(e){let t=this.data.datasets[e],i=this._metasets,o=i.filter(a=>a&&a._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=nn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let t=this.data.datasets[e];if(!t)return!1;let i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){let i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){let o=i?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(void 0,o);Ke(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(a,{visible:i}),this.update(s=>s.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){let t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),on.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Bl(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Hs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,t=this.platform,i=(a,r)=>{t.addEventListener(this,a,r),e[a]=r},o=(a,r,s)=>{a.offsetX=r,a.offsetY=s,this._eventHandler(a)};kt(this.options.events,a=>i(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,t=this.platform,i=(l,h)=>{t.addEventListener(this,l,h),e[l]=h},o=(l,h)=>{e[l]&&(t.removeEventListener(this,l,h),delete e[l])},a=(l,h)=>{this.canvas&&this.resize(l,h)},r,s=()=>{o("attach",s),this.attached=!0,this.resize(),i("resize",a),i("detach",r)};r=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),i("attach",s)},t.isAttached(this.canvas)?s():r()}unbindEvents(){kt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},kt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){let o=i?"set":"remove",a,r,s,l;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),s=0,l=e.length;s<l;++s){r=e[s];let h=r&&this.getDatasetMeta(r.datasetIndex).controller;h&&h[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let t=this._active||[],i=e.map(({datasetIndex:a,index:r})=>{let s=this.getDatasetMeta(a);if(!s)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:s.data[r],index:r}});!Va(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}_updateHoverStyles(e,t,i){let o=this.options.hover,a=(l,h)=>l.filter(p=>!h.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),r=a(t,e),s=i?e:a(e,t);r.length&&this.updateHoverStyle(r,o.mode,!1),s.length&&o.mode&&this.updateHoverStyle(s,o.mode,!0)}_eventHandler(e,t){let i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){let{_active:o=[],options:a}=this,r=t,s=this._getActiveElements(e,o,i,r),l=Up(e),h=$C(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Dt(a.onHover,[e,s,this],this),l&&Dt(a.onClick,[e,s,this],this));let p=!Va(s,o);return(p||t)&&(this._active=s,this._updateHoverStyles(s,o,t)),this._lastEvent=h,p}_getActiveElements(e,t,i,o){if(e.type==="mouseout")return[];if(!i)return t;let a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}},Uu=()=>kt(rn.instances,n=>n._plugins.invalidate()),En=!0;Object.defineProperties(rn,{defaults:{enumerable:En,value:ot},instances:{enumerable:En,value:Hs},overrides:{enumerable:En,value:Pn},registry:{enumerable:En,value:Ni},version:{enumerable:En,value:WC},getChart:{enumerable:En,value:Sf},register:{enumerable:En,value:(...n)=>{Ni.add(...n),Uu()}},unregister:{enumerable:En,value:(...n)=>{Ni.remove(...n),Uu()}}});function Pf(n,e,t){let{startAngle:i,pixelMargin:o,x:a,y:r,outerRadius:s,innerRadius:l}=e,h=o/s;n.beginPath(),n.arc(a,r,s,i-h,t+h),l>o?(h=o/l,n.arc(a,r,l,t+h,i-h,!0)):n.arc(a,r,o,t+Bt,i-Bt),n.closePath(),n.clip()}function qC(n){return Ds(n,["outerStart","outerEnd","innerStart","innerEnd"])}function XC(n,e,t,i){let o=qC(n.options.borderRadius),a=(t-e)/2,r=Math.min(a,i*e/2),s=l=>{let h=(t-Math.min(a,l))*i/2;return oe(l,0,Math.min(a,h))};return{outerStart:s(o.outerStart),outerEnd:s(o.outerEnd),innerStart:oe(o.innerStart,0,r),innerEnd:oe(o.innerEnd,0,r)}}function Uo(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function bd(n,e,t,i,o,a){let{x:r,y:s,startAngle:l,pixelMargin:h,innerRadius:p}=e,g=Math.max(e.outerRadius+i+t-h,0),v=p>0?p+i+t+h:0,k=0,x=o-l;if(i){let J=p>0?p-i:0,Vt=g>0?g-i:0,Ft=(J+Vt)/2,ae=Ft!==0?x*Ft/(Ft+i):x;k=(x-ae)/2}let w=Math.max(.001,x*g-t/Tt)/g,P=(x-w)/2,D=l+P+k,E=o-P-k,{outerStart:F,outerEnd:R,innerStart:A,innerEnd:z}=XC(e,v,g,E-D),H=g-F,Y=g-R,q=D+F/H,at=E-R/Y,et=v+A,rt=v+z,At=D+A/et,ee=E-z/rt;if(n.beginPath(),a){if(n.arc(r,s,g,q,at),R>0){let Ft=Uo(Y,at,r,s);n.arc(Ft.x,Ft.y,R,at,E+Bt)}let J=Uo(rt,E,r,s);if(n.lineTo(J.x,J.y),z>0){let Ft=Uo(rt,ee,r,s);n.arc(Ft.x,Ft.y,z,E+Bt,ee+Math.PI)}if(n.arc(r,s,v,E-z/v,D+A/v,!0),A>0){let Ft=Uo(et,At,r,s);n.arc(Ft.x,Ft.y,A,At+Math.PI,D-Bt)}let Vt=Uo(H,D,r,s);if(n.lineTo(Vt.x,Vt.y),F>0){let Ft=Uo(H,q,r,s);n.arc(Ft.x,Ft.y,F,D-Bt,q)}}else{n.moveTo(r,s);let J=Math.cos(q)*g+r,Vt=Math.sin(q)*g+s;n.lineTo(J,Vt);let Ft=Math.cos(at)*g+r,ae=Math.sin(at)*g+s;n.lineTo(Ft,ae)}n.closePath()}function KC(n,e,t,i,o){let{fullCircles:a,startAngle:r,circumference:s}=e,l=e.endAngle;if(a){bd(n,e,t,i,r+Ct,o);for(let h=0;h<a;++h)n.fill();isNaN(s)||(l=r+s%Ct,s%Ct===0&&(l+=Ct))}return bd(n,e,t,i,l,o),n.fill(),l}function ZC(n,e,t){let{x:i,y:o,startAngle:a,pixelMargin:r,fullCircles:s}=e,l=Math.max(e.outerRadius-r,0),h=e.innerRadius+r,p;for(t&&Pf(n,e,a+Ct),n.beginPath(),n.arc(i,o,h,a+Ct,a,!0),p=0;p<s;++p)n.stroke();for(n.beginPath(),n.arc(i,o,l,a,a+Ct),p=0;p<s;++p)n.stroke()}function QC(n,e,t,i,o,a){let{options:r}=e,{borderWidth:s,borderJoinStyle:l}=r,h=r.borderAlign==="inner";s&&(h?(n.lineWidth=s*2,n.lineJoin=l||"round"):(n.lineWidth=s,n.lineJoin=l||"bevel"),e.fullCircles&&ZC(n,e,h),h&&Pf(n,e,o),bd(n,e,t,i,o,a),n.stroke())}var $o=class extends Je{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let o=this.getProps(["x","y"],i),{angle:a,distance:r}=Il(o,{x:e,y:t}),{startAngle:s,endAngle:l,innerRadius:h,outerRadius:p,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=this.options.spacing/2,x=nt(g,l-s)>=Ct||Vo(a,s,l),w=ji(r,h+v,p+v);return x&&w}getCenterPoint(e){let{x:t,y:i,startAngle:o,endAngle:a,innerRadius:r,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:l,spacing:h}=this.options,p=(o+a)/2,g=(r+s+h+l)/2;return{x:t+Math.cos(p)*g,y:i+Math.sin(p)*g}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,o=(t.offset||0)/2,a=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>Ct?Math.floor(i/Ct):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=0;if(o){s=o/2;let h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*s,Math.sin(h)*s),this.circumference>=Tt&&(s=o)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;let l=KC(e,this,s,a,r);QC(e,this,s,a,l,r),e.restore()}};$o.id="arc";$o.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};$o.defaultRoutes={backgroundColor:"backgroundColor"};function Df(n,e,t=e){n.lineCap=nt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(nt(t.borderDash,e.borderDash)),n.lineDashOffset=nt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=nt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=nt(t.borderWidth,e.borderWidth),n.strokeStyle=nt(t.borderColor,e.borderColor)}function JC(n,e,t){n.lineTo(t.x,t.y)}function tw(n){return n.stepped?su:n.tension||n.cubicInterpolationMode==="monotone"?cu:JC}function If(n,e,t={}){let i=n.length,{start:o=0,end:a=i-1}=t,{start:r,end:s}=e,l=Math.max(o,r),h=Math.min(a,s),p=o<r&&a<r||o>s&&a>s;return{count:i,start:l,loop:e.loop,ilen:h<l&&!p?i+h-l:h-l}}function ew(n,e,t,i){let{points:o,options:a}=e,{count:r,start:s,loop:l,ilen:h}=If(o,t,i),p=tw(a),{move:g=!0,reverse:v}=i||{},k,x,w;for(k=0;k<=h;++k)x=o[(s+(v?h-k:k))%r],!x.skip&&(g?(n.moveTo(x.x,x.y),g=!1):p(n,w,x,v,a.stepped),w=x);return l&&(x=o[(s+(v?h:0))%r],p(n,w,x,v,a.stepped)),!!l}function iw(n,e,t,i){let o=e.points,{count:a,start:r,ilen:s}=If(o,t,i),{move:l=!0,reverse:h}=i||{},p=0,g=0,v,k,x,w,P,D,E=R=>(r+(h?s-R:R))%a,F=()=>{w!==P&&(n.lineTo(p,P),n.lineTo(p,w),n.lineTo(p,D))};for(l&&(k=o[E(0)],n.moveTo(k.x,k.y)),v=0;v<=s;++v){if(k=o[E(v)],k.skip)continue;let R=k.x,A=k.y,z=R|0;z===x?(A<w?w=A:A>P&&(P=A),p=(g*p+R)/++g):(F(),n.lineTo(R,A),x=z,g=0,w=P=A),D=A}F()}function vd(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?iw:ew}function nw(n){return n.stepped?_u:n.tension||n.cubicInterpolationMode==="monotone"?bu:wn}function ow(n,e,t,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,i)&&o.closePath()),Df(n,e.options),n.stroke(o)}function aw(n,e,t,i){let{segments:o,options:a}=e,r=vd(e);for(let s of o)Df(n,a,s.style),n.beginPath(),r(n,e,s,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}var rw=typeof Path2D=="function";function sw(n,e,t,i){rw&&!e.options.segment?ow(n,e,t,i):aw(n,e,t,i)}var Gs=(()=>{class n extends Je{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){let a=o.spanGaps?this._loop:this._fullLoop;uu(this._points,o,t,a,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=xu(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,o=t.length;return o&&i[t[o-1].end]}interpolate(t,i){let o=this.options,a=t[i],r=this.points,s=Jl(this,{property:i,start:a,end:a});if(!s.length)return;let l=[],h=nw(o),p,g;for(p=0,g=s.length;p<g;++p){let{start:v,end:k}=s[p],x=r[v],w=r[k];if(x===w){l.push(x);continue}let P=Math.abs((a-x[i])/(w[i]-x[i])),D=h(x,w,P,o.stepped);D[i]=t[i],l.push(D)}return l.length===1?l[0]:l}pathSegment(t,i,o){return vd(this)(t,this,i,o)}path(t,i,o){let a=this.segments,r=vd(this),s=this._loop;i=i||0,o=o||this.points.length-i;for(let l of a)s&=r(t,this,l,{start:i,end:i+o-1});return!!s}draw(t,i,o,a){let r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),sw(t,this,o,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"},n})();function Gu(n,e,t,i){let o=n.options,{[t]:a}=n.getProps([t],i);return Math.abs(e-a)<o.radius+o.hitRadius}var cw=(()=>{class n extends Je{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,o){let a=this.options,{x:r,y:s}=this.getProps(["x","y"],o);return Math.pow(t-r,2)+Math.pow(i-s,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,i){return Gu(this,t,"x",i)}inYRange(t,i){return Gu(this,t,"y",i)}getCenterPoint(t){let{x:i,y:o}=this.getProps(["x","y"],t);return{x:i,y:o}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);let o=i&&t.borderWidth||0;return(i+o)*2}draw(t,i){let o=this.options;this.skip||o.radius<.1||!Fo(this,i,this.size(o)/2)||(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.fillStyle=o.backgroundColor,Ps(t,o,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function Of(n,e){let{x:t,y:i,base:o,width:a,height:r}=n.getProps(["x","y","base","width","height"],e),s,l,h,p,g;return n.horizontal?(g=r/2,s=Math.min(t,o),l=Math.max(t,o),h=i-g,p=i+g):(g=a/2,s=t-g,l=t+g,h=Math.min(i,o),p=Math.max(i,o)),{left:s,top:h,right:l,bottom:p}}function An(n,e,t,i){return n?0:oe(e,t,i)}function lw(n,e,t){let i=n.options.borderWidth,o=n.borderSkipped,a=Hl(i);return{t:An(o.top,a.top,0,t),r:An(o.right,a.right,0,e),b:An(o.bottom,a.bottom,0,t),l:An(o.left,a.left,0,e)}}function dw(n,e,t){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,a=On(o),r=Math.min(e,t),s=n.borderSkipped,l=i||st(o);return{topLeft:An(!l||s.top||s.left,a.topLeft,0,r),topRight:An(!l||s.top||s.right,a.topRight,0,r),bottomLeft:An(!l||s.bottom||s.left,a.bottomLeft,0,r),bottomRight:An(!l||s.bottom||s.right,a.bottomRight,0,r)}}function hw(n){let e=Of(n),t=e.right-e.left,i=e.bottom-e.top,o=lw(n,t/2,i/2),a=dw(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:a},inner:{x:e.left+o.l,y:e.top+o.t,w:t-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function rd(n,e,t,i){let o=e===null,a=t===null,s=n&&!(o&&a)&&Of(n,i);return s&&(o||ji(e,s.left,s.right))&&(a||ji(t,s.top,s.bottom))}function mw(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function pw(n,e){n.rect(e.x,e.y,e.w,e.h)}function sd(n,e,t={}){let i=n.x!==t.x?-e:0,o=n.y!==t.y?-e:0,a=(n.x+n.w!==t.x+t.w?e:0)-i,r=(n.y+n.h!==t.y+t.h?e:0)-o;return{x:n.x+i,y:n.y+o,w:n.w+a,h:n.h+r,radius:n.radius}}var qo=class extends Je{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:i,backgroundColor:o}}=this,{inner:a,outer:r}=hw(this),s=mw(r.radius)?Ho:pw;e.save(),(r.w!==a.w||r.h!==a.h)&&(e.beginPath(),s(e,sd(r,t,a)),e.clip(),s(e,sd(a,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),s(e,sd(a,t)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,t,i){return rd(this,e,t,i)}inXRange(e,t){return rd(this,e,null,t)}inYRange(e,t){return rd(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+o)/2:t,y:a?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}};qo.id="bar";qo.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};qo.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var uw=Object.freeze({__proto__:null,ArcElement:$o,LineElement:Gs,PointElement:cw,BarElement:qo});function fw(n,e,t,i,o){let a=o.samples||i;if(a>=t)return n.slice(e,e+t);let r=[],s=(t-2)/(a-2),l=0,h=e+t-1,p=e,g,v,k,x,w;for(r[l++]=n[p],g=0;g<a-2;g++){let P=0,D=0,E,F=Math.floor((g+1)*s)+1+e,R=Math.min(Math.floor((g+2)*s)+1,t)+e,A=R-F;for(E=F;E<R;E++)P+=n[E].x,D+=n[E].y;P/=A,D/=A;let z=Math.floor(g*s)+1+e,H=Math.min(Math.floor((g+1)*s)+1,t)+e,{x:Y,y:q}=n[p];for(k=x=-1,E=z;E<H;E++)x=.5*Math.abs((Y-P)*(n[E].y-q)-(Y-n[E].x)*(D-q)),x>k&&(k=x,v=n[E],w=E);r[l++]=v,p=w}return r[l++]=n[h],r}function gw(n,e,t,i){let o=0,a=0,r,s,l,h,p,g,v,k,x,w,P=[],D=e+t-1,E=n[e].x,R=n[D].x-E;for(r=e;r<e+t;++r){s=n[r],l=(s.x-E)/R*i,h=s.y;let A=l|0;if(A===p)h<x?(x=h,g=r):h>w&&(w=h,v=r),o=(a*o+s.x)/++a;else{let z=r-1;if(!ut(g)&&!ut(v)){let H=Math.min(g,v),Y=Math.max(g,v);H!==k&&H!==z&&P.push(Wn(Le({},n[H]),{x:o})),Y!==k&&Y!==z&&P.push(Wn(Le({},n[Y]),{x:o}))}r>0&&z!==k&&P.push(n[z]),P.push(s),p=A,a=0,x=w=h,g=v=k=r}}return P}function Tf(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:e})}}function $u(n){n.data.datasets.forEach(e=>{Tf(e)})}function _w(n,e){let t=e.length,i=0,o,{iScale:a}=n,{min:r,max:s,minDefined:l,maxDefined:h}=a.getUserBounds();return l&&(i=oe(Ri(e,a.axis,r).lo,0,t-1)),h?o=oe(Ri(e,a.axis,s).hi+1,i,t)-i:o=t-i,{start:i,count:o}}var bw={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){$u(n);return}let i=n.width;n.data.datasets.forEach((o,a)=>{let{_data:r,indexAxis:s}=o,l=n.getDatasetMeta(a),h=r||o.data;if(Wo([s,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let p=n.scales[l.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:g,count:v}=_w(l,h),k=t.threshold||4*i;if(v<=k){Tf(o);return}ut(r)&&(o._data=h,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let x;switch(t.algorithm){case"lttb":x=fw(h,g,v,i,t);break;case"min-max":x=gw(h,g,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}o._decimated=x})},destroy(n){$u(n)}};function vw(n,e,t){let i=n.segments,o=n.points,a=e.points,r=[];for(let s of i){let{start:l,end:h}=s;h=kd(l,h,o);let p=xd(t,o[l],o[h],s.loop);if(!e.segments){r.push({source:s,target:p,start:o[l],end:o[h]});continue}let g=Jl(e,p);for(let v of g){let k=xd(t,a[v.start],a[v.end],v.loop),x=Ql(s,o,k);for(let w of x)r.push({source:w,target:v,start:{[t]:qu(p,k,"start",Math.max)},end:{[t]:qu(p,k,"end",Math.min)}})}}return r}function xd(n,e,t,i){if(i)return;let o=e[n],a=t[n];return n==="angle"&&(o=He(o),a=He(a)),{property:n,start:o,end:a}}function xw(n,e){let{x:t=null,y:i=null}=n||{},o=e.points,a=[];return e.segments.forEach(({start:r,end:s})=>{s=kd(r,s,o);let l=o[r],h=o[s];i!==null?(a.push({x:l.x,y:i}),a.push({x:h.x,y:i})):t!==null&&(a.push({x:t,y:l.y}),a.push({x:t,y:h.y}))}),a}function kd(n,e,t){for(;e>n;e--){let i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function qu(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Ef(n,e){let t=[],i=!1;return Pt(n)?(i=!0,t=n):t=xw(n,e),t.length?new Gs({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Xu(n){return n&&n.fill!==!1}function yw(n,e,t){let o=n[e].fill,a=[e],r;if(!t)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!Gt(o))return o;if(r=n[o],!r)return!1;if(r.visible)return o;a.push(o),o=r.fill}return!1}function kw(n,e,t){let i=Sw(n);if(st(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return Gt(o)&&Math.floor(o)===o?Cw(i[0],e,o,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Cw(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function ww(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:st(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Mw(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:st(n)?i=n.value:i=e.getBaseValue(),i}function Sw(n){let e=n.options,t=e.fill,i=nt(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Pw(n){let{scale:e,index:t,line:i}=n,o=[],a=i.segments,r=i.points,s=Dw(e,t);s.push(Ef({x:null,y:e.bottom},i));for(let l=0;l<a.length;l++){let h=a[l];for(let p=h.start;p<=h.end;p++)Iw(o,r[p],s)}return new Gs({points:o,options:{}})}function Dw(n,e){let t=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){let a=i[o];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function Iw(n,e,t){let i=[];for(let o=0;o<t.length;o++){let a=t[o],{first:r,last:s,point:l}=Ow(a,e,"x");if(!(!l||r&&s)){if(r)i.unshift(l);else if(n.push(l),!s)break}}n.push(...i)}function Ow(n,e,t){let i=n.interpolate(e,t);if(!i)return{};let o=i[t],a=n.segments,r=n.points,s=!1,l=!1;for(let h=0;h<a.length;h++){let p=a[h],g=r[p.start][t],v=r[p.end][t];if(ji(o,g,v)){s=o===g,l=o===v;break}}return{first:s,last:l,point:i}}var Ws=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){let{x:o,y:a,radius:r}=this;return t=t||{start:0,end:Ct},e.arc(o,a,r,t.end,t.start,!0),!i.bounds}interpolate(e){let{x:t,y:i,radius:o}=this,a=e.angle;return{x:t+Math.cos(a)*o,y:i+Math.sin(a)*o,angle:a}}};function Tw(n){let{chart:e,fill:t,line:i}=n;if(Gt(t))return Ew(e,t);if(t==="stack")return Pw(n);if(t==="shape")return!0;let o=Aw(n);return o instanceof Ws?o:Ef(o,i)}function Ew(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function Aw(n){return(n.scale||{}).getPointPositionForValue?Lw(n):Rw(n)}function Rw(n){let{scale:e={},fill:t}=n,i=ww(t,e);if(Gt(i)){let o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function Lw(n){let{scale:e,fill:t}=n,i=e.options,o=e.getLabels().length,a=i.reverse?e.max:e.min,r=Mw(t,e,a),s=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,a);return new Ws({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<o;++l)s.push(e.getPointPositionForValue(l,r));return s}function cd(n,e,t){let i=Tw(e),{line:o,scale:a,axis:r}=e,s=o.options,l=s.fill,h=s.backgroundColor,{above:p=h,below:g=h}=l||{};i&&o.points.length&&(Wa(n,t),jw(n,{line:o,target:i,above:p,below:g,area:t,scale:a,axis:r}),Ya(n))}function jw(n,e){let{line:t,target:i,above:o,below:a,area:r,scale:s}=e,l=t._loop?"angle":e.axis;n.save(),l==="x"&&a!==o&&(Ku(n,i,r.top),Zu(n,{line:t,target:i,color:o,scale:s,property:l}),n.restore(),n.save(),Ku(n,i,r.bottom)),Zu(n,{line:t,target:i,color:a,scale:s,property:l}),n.restore()}function Ku(n,e,t){let{segments:i,points:o}=e,a=!0,r=!1;n.beginPath();for(let s of i){let{start:l,end:h}=s,p=o[l],g=o[kd(l,h,o)];a?(n.moveTo(p.x,p.y),a=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),r=!!e.pathSegment(n,s,{move:r}),r?n.closePath():n.lineTo(g.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Zu(n,e){let{line:t,target:i,property:o,color:a,scale:r}=e,s=vw(t,i,o);for(let{source:l,target:h,start:p,end:g}of s){let{style:{backgroundColor:v=a}={}}=l,k=i!==!0;n.save(),n.fillStyle=v,Fw(n,r,k&&xd(o,p,g)),n.beginPath();let x=!!t.pathSegment(n,l),w;if(k){x?n.closePath():Qu(n,i,g,o);let P=!!i.pathSegment(n,h,{move:x,reverse:!0});w=x&&P,w||Qu(n,i,p,o)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function Fw(n,e,t){let{top:i,bottom:o}=e.chart.chartArea,{property:a,start:r,end:s}=t||{};a==="x"&&(n.beginPath(),n.rect(r,i,s-r,o-i),n.clip())}function Qu(n,e,t,i){let o=e.interpolate(t,i);o&&n.lineTo(o.x,o.y)}var Nw={id:"filler",afterDatasetsUpdate(n,e,t){let i=(n.data.datasets||[]).length,o=[],a,r,s,l;for(r=0;r<i;++r)a=n.getDatasetMeta(r),s=a.dataset,l=null,s&&s.options&&s instanceof Gs&&(l={visible:n.isDatasetVisible(r),index:r,fill:kw(s,r,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=l,o.push(l);for(r=0;r<i;++r)l=o[r],!(!l||l.fill===!1)&&(l.fill=yw(o,r,t.propagate))},beforeDraw(n,e,t){let i=t.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let r=o.length-1;r>=0;--r){let s=o[r].$filler;s&&(s.line.updateControlPoints(a,s.axis),i&&s.fill&&cd(n.ctx,s,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){let a=i[o].$filler;Xu(a)&&cd(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){let i=e.meta.$filler;!Xu(i)||t.drawTime!=="beforeDatasetDraw"||cd(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Ju=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},zw=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,Ys=class extends Je{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Dt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,o=te(i.font),a=o.size,r=this._computeTitleHeight(),{boxWidth:s,itemHeight:l}=Ju(i,a),h,p;t.font=o.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(r,a,s,l)+10):(p=this.maxHeight,h=this._fitCols(r,a,s,l)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,o){let{ctx:a,maxWidth:r,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],h=this.lineWidths=[0],p=o+s,g=e;a.textAlign="left",a.textBaseline="middle";let v=-1,k=-p;return this.legendItems.forEach((x,w)=>{let P=i+t/2+a.measureText(x.text).width;(w===0||h[h.length-1]+P+2*s>r)&&(g+=p,h[h.length-(w>0?0:1)]=0,k+=p,v++),l[w]={left:0,top:k,row:v,width:P,height:o},h[h.length-1]+=P+s}),g}_fitCols(e,t,i,o){let{ctx:a,maxHeight:r,options:{labels:{padding:s}}}=this,l=this.legendHitBoxes=[],h=this.columnSizes=[],p=r-e,g=s,v=0,k=0,x=0,w=0;return this.legendItems.forEach((P,D)=>{let E=i+t/2+a.measureText(P.text).width;D>0&&k+o+2*s>p&&(g+=v+s,h.push({width:v,height:k}),x+=v+s,w++,v=k=0),l[D]={left:x,top:k,col:w,width:E,height:o},v=Math.max(v,E),k+=o+s}),g+=v,h.push({width:v,height:k}),g}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:o},rtl:a}}=this,r=Zn(a,this.left,this.width);if(this.isHorizontal()){let s=0,l=ue(i,this.left+o,this.right-this.lineWidths[s]);for(let h of t)s!==h.row&&(s=h.row,l=ue(i,this.left+o,this.right-this.lineWidths[s])),h.top+=this.top+e+o,h.left=r.leftForLtr(r.x(l),h.width),l+=h.width+o}else{let s=0,l=ue(i,this.top+e+o,this.bottom-this.columnSizes[s].height);for(let h of t)h.col!==s&&(s=h.col,l=ue(i,this.top+e+o,this.bottom-this.columnSizes[s].height)),h.top=l,h.left+=this.left+o,h.left=r.leftForLtr(r.x(h.left),h.width),l+=h.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Wa(e,this),this._draw(),Ya(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:i,ctx:o}=this,{align:a,labels:r}=e,s=ot.color,l=Zn(e.rtl,this.left,this.width),h=te(r.font),{color:p,padding:g}=r,v=h.size,k=v/2,x;this.drawTitle(),o.textAlign=l.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=h.string;let{boxWidth:w,boxHeight:P,itemHeight:D}=Ju(r,v),E=function(H,Y,q){if(isNaN(w)||w<=0||isNaN(P)||P<0)return;o.save();let at=nt(q.lineWidth,1);if(o.fillStyle=nt(q.fillStyle,s),o.lineCap=nt(q.lineCap,"butt"),o.lineDashOffset=nt(q.lineDashOffset,0),o.lineJoin=nt(q.lineJoin,"miter"),o.lineWidth=at,o.strokeStyle=nt(q.strokeStyle,s),o.setLineDash(nt(q.lineDash,[])),r.usePointStyle){let et={radius:P*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:at},rt=l.xPlus(H,w/2),At=Y+k;Vl(o,et,rt,At,r.pointStyleWidth&&w)}else{let et=Y+Math.max((v-P)/2,0),rt=l.leftForLtr(H,w),At=On(q.borderRadius);o.beginPath(),Object.values(At).some(ee=>ee!==0)?Ho(o,{x:rt,y:et,w,h:P,radius:At}):o.rect(rt,et,w,P),o.fill(),at!==0&&o.stroke()}o.restore()},F=function(H,Y,q){In(o,q.text,H,Y+D/2,h,{strikethrough:q.hidden,textAlign:l.textAlign(q.textAlign)})},R=this.isHorizontal(),A=this._computeTitleHeight();R?x={x:ue(a,this.left+g,this.right-i[0]),y:this.top+g+A,line:0}:x={x:this.left+g,y:ue(a,this.top+A+g,this.bottom-t[0].height),line:0},Kl(this.ctx,e.textDirection);let z=D+g;this.legendItems.forEach((H,Y)=>{o.strokeStyle=H.fontColor||p,o.fillStyle=H.fontColor||p;let q=o.measureText(H.text).width,at=l.textAlign(H.textAlign||(H.textAlign=r.textAlign)),et=w+k+q,rt=x.x,At=x.y;l.setWidth(this.width),R?Y>0&&rt+et+g>this.right&&(At=x.y+=z,x.line++,rt=x.x=ue(a,this.left+g,this.right-i[x.line])):Y>0&&At+z>this.bottom&&(rt=x.x=rt+t[x.line].width+g,x.line++,At=x.y=ue(a,this.top+A+g,this.bottom-t[x.line].height));let ee=l.x(rt);E(ee,At,H),rt=tu(at,rt+w+k,R?rt+et:this.right,e.rtl),F(l.x(rt),At,H),R?x.x+=et+g:x.y+=z}),Zl(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,i=te(t.font),o=fe(t.padding);if(!t.display)return;let a=Zn(e.rtl,this.left,this.width),r=this.ctx,s=t.position,l=i.size/2,h=o.top+l,p,g=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+h,g=ue(e.align,g,this.right-v);else{let x=this.columnSizes.reduce((w,P)=>Math.max(w,P.height),0);p=h+ue(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}let k=ue(s,g,g+v);r.textAlign=a.textAlign(Ms(s)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=i.string,In(r,t.text,k,p,i)}_computeTitleHeight(){let e=this.options.title,t=te(e.font),i=fe(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,o,a;if(ji(e,this.left,this.right)&&ji(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],ji(e,o.left,o.left+o.width)&&ji(t,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){let t=this.options;if(!Bw(e.type,t))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let o=this._hoveredItem,a=zw(o,i);o&&!a&&Dt(t.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!a&&Dt(t.onHover,[e,i,this],this)}else i&&Dt(t.onClick,[e,i,this],this)}};function Bw(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Vw={id:"legend",_element:Ys,start(n,e,t){let i=n.legend=new Ys({ctx:n.ctx,options:t,chart:n});Me.configure(n,i,t),Me.addBox(n,i)},stop(n){Me.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let i=n.legend;Me.configure(n,i,t),i.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let i=e.datasetIndex,o=t.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:o,color:a}}=n.legend.options;return n._getSortedDatasetMetas().map(r=>{let s=r.controller.getStyle(t?0:void 0),l=fe(s.borderWidth);return{text:e[r.index].label,fillStyle:s.backgroundColor,fontColor:a,hidden:!r.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:s.borderColor,pointStyle:i||s.pointStyle,rotation:s.rotation,textAlign:o||s.textAlign,borderRadius:0,datasetIndex:r.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},Ja=class extends Je{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let o=Pt(i.text)?i.text.length:1;this._padding=fe(i.padding);let a=o*te(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:i,bottom:o,right:a,options:r}=this,s=r.align,l=0,h,p,g;return this.isHorizontal()?(p=ue(s,i,a),g=t+e,h=a-i):(r.position==="left"?(p=i+e,g=ue(s,o,t),l=Tt*-.5):(p=a-e,g=ue(s,t,o),l=Tt*.5),h=o-t),{titleX:p,titleY:g,maxWidth:h,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let i=te(t.font),a=i.lineHeight/2+this._padding.top,{titleX:r,titleY:s,maxWidth:l,rotation:h}=this._drawArgs(a);In(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:h,textAlign:Ms(t.align),textBaseline:"middle",translation:[r,s]})}};function Hw(n,e){let t=new Ja({ctx:n.ctx,options:e,chart:n});Me.configure(n,t,e),Me.addBox(n,t),n.titleBlock=t}var Ww={id:"title",_element:Ja,start(n,e,t){Hw(n,t)},stop(n){let e=n.titleBlock;Me.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let i=n.titleBlock;Me.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ls=new WeakMap,Yw={id:"subtitle",start(n,e,t){let i=new Ja({ctx:n.ctx,options:t,chart:n});Me.configure(n,i,t),Me.addBox(n,i),Ls.set(n,i)},stop(n){Me.removeBox(n,Ls.get(n)),Ls.delete(n)},beforeUpdate(n,e,t){let i=Ls.get(n);Me.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Za={average(n){if(!n.length)return!1;let e,t,i=0,o=0,a=0;for(e=0,t=n.length;e<t;++e){let r=n[e].element;if(r&&r.hasValue()){let s=r.tooltipPosition();i+=s.x,o+=s.y,++a}}return{x:i/a,y:o/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,o=Number.POSITIVE_INFINITY,a,r,s;for(a=0,r=n.length;a<r;++a){let l=n[a].element;if(l&&l.hasValue()){let h=l.getCenterPoint(),p=xs(e,h);p<o&&(o=p,s=l)}}if(s){let l=s.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Fi(n,e){return e&&(Pt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function an(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Uw(n,e){let{element:t,datasetIndex:i,index:o}=e,a=n.getDatasetMeta(i).controller,{label:r,value:s}=a.getLabelAndValue(o);return{chart:n,label:r,parsed:a.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:s,dataset:a.getDataset(),dataIndex:o,datasetIndex:i,element:t}}function tf(n,e){let t=n.chart.ctx,{body:i,footer:o,title:a}=n,{boxWidth:r,boxHeight:s}=e,l=te(e.bodyFont),h=te(e.titleFont),p=te(e.footerFont),g=a.length,v=o.length,k=i.length,x=fe(e.padding),w=x.height,P=0,D=i.reduce((R,A)=>R+A.before.length+A.lines.length+A.after.length,0);if(D+=n.beforeBody.length+n.afterBody.length,g&&(w+=g*h.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),D){let R=e.displayColors?Math.max(s,l.lineHeight):l.lineHeight;w+=k*R+(D-k)*l.lineHeight+(D-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*p.lineHeight+(v-1)*e.footerSpacing);let E=0,F=function(R){P=Math.max(P,t.measureText(R).width+E)};return t.save(),t.font=h.string,kt(n.title,F),t.font=l.string,kt(n.beforeBody.concat(n.afterBody),F),E=e.displayColors?r+2+e.boxPadding:0,kt(i,R=>{kt(R.before,F),kt(R.lines,F),kt(R.after,F)}),E=0,t.font=p.string,kt(n.footer,F),t.restore(),P+=x.width,{width:P,height:w}}function Gw(n,e){let{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function $w(n,e,t,i){let{x:o,width:a}=i,r=t.caretSize+t.caretPadding;if(n==="left"&&o+a+r>e.width||n==="right"&&o-a-r<0)return!0}function qw(n,e,t,i){let{x:o,width:a}=t,{width:r,chartArea:{left:s,right:l}}=n,h="center";return i==="center"?h=o<=(s+l)/2?"left":"right":o<=a/2?h="left":o>=r-a/2&&(h="right"),$w(h,n,e,t)&&(h="center"),h}function ef(n,e,t){let i=t.yAlign||e.yAlign||Gw(n,t);return{xAlign:t.xAlign||e.xAlign||qw(n,e,t,i),yAlign:i}}function Xw(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function Kw(n,e,t){let{y:i,height:o}=n;return e==="top"?i+=t:e==="bottom"?i-=o+t:i-=o/2,i}function nf(n,e,t,i){let{caretSize:o,caretPadding:a,cornerRadius:r}=n,{xAlign:s,yAlign:l}=t,h=o+a,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:k}=On(r),x=Xw(e,s),w=Kw(e,l,h);return l==="center"?s==="left"?x+=h:s==="right"&&(x-=h):s==="left"?x-=Math.max(p,v)+o:s==="right"&&(x+=Math.max(g,k)+o),{x:oe(x,0,i.width-e.width),y:oe(w,0,i.height-e.height)}}function js(n,e,t){let i=fe(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function of(n){return Fi([],an(n))}function Zw(n,e,t){return nn(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function af(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var rf=(()=>{class n extends Je{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,o=this.options.setContext(this.getContext()),a=o.enabled&&i.options.animation&&o.animations,r=new zs(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Zw(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){let{callbacks:o}=i,a=o.beforeTitle.apply(this,[t]),r=o.title.apply(this,[t]),s=o.afterTitle.apply(this,[t]),l=[];return l=Fi(l,an(a)),l=Fi(l,an(r)),l=Fi(l,an(s)),l}getBeforeBody(t,i){return of(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){let{callbacks:o}=i,a=[];return kt(t,r=>{let s={before:[],lines:[],after:[]},l=af(o,r);Fi(s.before,an(l.beforeLabel.call(this,r))),Fi(s.lines,l.label.call(this,r)),Fi(s.after,an(l.afterLabel.call(this,r))),a.push(s)}),a}getAfterBody(t,i){return of(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){let{callbacks:o}=i,a=o.beforeFooter.apply(this,[t]),r=o.footer.apply(this,[t]),s=o.afterFooter.apply(this,[t]),l=[];return l=Fi(l,an(a)),l=Fi(l,an(r)),l=Fi(l,an(s)),l}_createItems(t){let i=this._active,o=this.chart.data,a=[],r=[],s=[],l=[],h,p;for(h=0,p=i.length;h<p;++h)l.push(Uw(this.chart,i[h]));return t.filter&&(l=l.filter((g,v,k)=>t.filter(g,v,k,o))),t.itemSort&&(l=l.sort((g,v)=>t.itemSort(g,v,o))),kt(l,g=>{let v=af(t.callbacks,g);a.push(v.labelColor.call(this,g)),r.push(v.labelPointStyle.call(this,g)),s.push(v.labelTextColor.call(this,g))}),this.labelColors=a,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,i){let o=this.options.setContext(this.getContext()),a=this._active,r,s=[];if(!a.length)this.opacity!==0&&(r={opacity:0});else{let l=Za[o.position].call(this,a,this._eventPosition);s=this._createItems(o),this.title=this.getTitle(s,o),this.beforeBody=this.getBeforeBody(s,o),this.body=this.getBody(s,o),this.afterBody=this.getAfterBody(s,o),this.footer=this.getFooter(s,o);let h=this._size=tf(this,o),p=Object.assign({},l,h),g=ef(this.chart,o,p),v=nf(o,p,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,r={opacity:1,x:v.x,y:v.y,width:h.width,height:h.height,caretX:l.x,caretY:l.y}}this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,o,a){let r=this.getCaretPosition(t,o,a);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)}getCaretPosition(t,i,o){let{xAlign:a,yAlign:r}=this,{caretSize:s,cornerRadius:l}=o,{topLeft:h,topRight:p,bottomLeft:g,bottomRight:v}=On(l),{x:k,y:x}=t,{width:w,height:P}=i,D,E,F,R,A,z;return r==="center"?(A=x+P/2,a==="left"?(D=k,E=D-s,R=A+s,z=A-s):(D=k+w,E=D+s,R=A-s,z=A+s),F=D):(a==="left"?E=k+Math.max(h,g)+s:a==="right"?E=k+w-Math.max(p,v)-s:E=this.caretX,r==="top"?(R=x,A=R-s,D=E-s,F=E+s):(R=x+P,A=R+s,D=E+s,F=E-s),z=R),{x1:D,x2:E,x3:F,y1:R,y2:A,y3:z}}drawTitle(t,i,o){let a=this.title,r=a.length,s,l,h;if(r){let p=Zn(o.rtl,this.x,this.width);for(t.x=js(this,o.titleAlign,o),i.textAlign=p.textAlign(o.titleAlign),i.textBaseline="middle",s=te(o.titleFont),l=o.titleSpacing,i.fillStyle=o.titleColor,i.font=s.string,h=0;h<r;++h)i.fillText(a[h],p.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+l,h+1===r&&(t.y+=o.titleMarginBottom-l)}}_drawColorBox(t,i,o,a,r){let s=this.labelColors[o],l=this.labelPointStyles[o],{boxHeight:h,boxWidth:p,boxPadding:g}=r,v=te(r.bodyFont),k=js(this,"left",r),x=a.x(k),w=h<v.lineHeight?(v.lineHeight-h)/2:0,P=i.y+w;if(r.usePointStyle){let D={radius:Math.min(p,h)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},E=a.leftForLtr(x,p)+p/2,F=P+h/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Ps(t,D,E,F),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Ps(t,D,E,F)}else{t.lineWidth=st(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;let D=a.leftForLtr(x,p-g),E=a.leftForLtr(a.xPlus(x,1),p-g-2),F=On(s.borderRadius);Object.values(F).some(R=>R!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Ho(t,{x:D,y:P,w:p,h,radius:F}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Ho(t,{x:E,y:P+1,w:p-2,h:h-2,radius:F}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(D,P,p,h),t.strokeRect(D,P,p,h),t.fillStyle=s.backgroundColor,t.fillRect(E,P+1,p-2,h-2))}t.fillStyle=this.labelTextColors[o]}drawBody(t,i,o){let{body:a}=this,{bodySpacing:r,bodyAlign:s,displayColors:l,boxHeight:h,boxWidth:p,boxPadding:g}=o,v=te(o.bodyFont),k=v.lineHeight,x=0,w=Zn(o.rtl,this.x,this.width),P=function(q){i.fillText(q,w.x(t.x+x),t.y+k/2),t.y+=k+r},D=w.textAlign(s),E,F,R,A,z,H,Y;for(i.textAlign=s,i.textBaseline="middle",i.font=v.string,t.x=js(this,D,o),i.fillStyle=o.bodyColor,kt(this.beforeBody,P),x=l&&D!=="right"?s==="center"?p/2+g:p+2+g:0,A=0,H=a.length;A<H;++A){for(E=a[A],F=this.labelTextColors[A],i.fillStyle=F,kt(E.before,P),R=E.lines,l&&R.length&&(this._drawColorBox(i,t,A,w,o),k=Math.max(v.lineHeight,h)),z=0,Y=R.length;z<Y;++z)P(R[z]),k=v.lineHeight;kt(E.after,P)}x=0,k=v.lineHeight,kt(this.afterBody,P),t.y-=r}drawFooter(t,i,o){let a=this.footer,r=a.length,s,l;if(r){let h=Zn(o.rtl,this.x,this.width);for(t.x=js(this,o.footerAlign,o),t.y+=o.footerMarginTop,i.textAlign=h.textAlign(o.footerAlign),i.textBaseline="middle",s=te(o.footerFont),i.fillStyle=o.footerColor,i.font=s.string,l=0;l<r;++l)i.fillText(a[l],h.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o.footerSpacing}}drawBackground(t,i,o,a){let{xAlign:r,yAlign:s}=this,{x:l,y:h}=t,{width:p,height:g}=o,{topLeft:v,topRight:k,bottomLeft:x,bottomRight:w}=On(a.cornerRadius);i.fillStyle=a.backgroundColor,i.strokeStyle=a.borderColor,i.lineWidth=a.borderWidth,i.beginPath(),i.moveTo(l+v,h),s==="top"&&this.drawCaret(t,i,o,a),i.lineTo(l+p-k,h),i.quadraticCurveTo(l+p,h,l+p,h+k),s==="center"&&r==="right"&&this.drawCaret(t,i,o,a),i.lineTo(l+p,h+g-w),i.quadraticCurveTo(l+p,h+g,l+p-w,h+g),s==="bottom"&&this.drawCaret(t,i,o,a),i.lineTo(l+x,h+g),i.quadraticCurveTo(l,h+g,l,h+g-x),s==="center"&&r==="left"&&this.drawCaret(t,i,o,a),i.lineTo(l,h+v),i.quadraticCurveTo(l,h,l+v,h),i.closePath(),i.fill(),a.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,o=this.$animations,a=o&&o.x,r=o&&o.y;if(a||r){let s=Za[t.position].call(this,this._active,this._eventPosition);if(!s)return;let l=this._size=tf(this,t),h=Object.assign({},s,this._size),p=ef(i,t,h),g=nf(t,h,p,i);(a._to!==g.x||r._to!==g.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),o=this.opacity;if(!o)return;this._updateAnimationTarget(i);let a={width:this.width,height:this.height},r={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;let s=fe(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(t.save(),t.globalAlpha=o,this.drawBackground(r,t,a,i),Kl(t,i.textDirection),r.y+=s.top,this.drawTitle(r,t,i),this.drawBody(r,t,i),this.drawFooter(r,t,i),Zl(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let o=this._active,a=t.map(({datasetIndex:l,index:h})=>{let p=this.chart.getDatasetMeta(l);if(!p)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:p.data[h],index:h}}),r=!Va(o,a),s=this._positionChanged(a,i);(r||s)&&(this._active=a,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let a=this.options,r=this._active||[],s=this._getActiveElements(t,r,i,o),l=this._positionChanged(s,t),h=i||!Va(s,r)||l;return h&&(this._active=s,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),h}_getActiveElements(t,i,o,a){let r=this.options;if(t.type==="mouseout")return[];if(!a)return i;let s=this.chart.getElementsAtEventForMode(t,r.mode,r,o);return r.reverse&&s.reverse(),s}_positionChanged(t,i){let{caretX:o,caretY:a,options:r}=this,s=Za[r.position].call(this,t,i);return s!==!1&&(o!==s.x||a!==s.y)}}return n.positioners=Za,n})(),Qw={id:"tooltip",_element:rf,positioners:Za,afterInit(n,e,t){t&&(n.tooltip=new rf({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",t)===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Li,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Li,beforeBody:Li,beforeLabel:Li,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return ut(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Li,afterBody:Li,beforeFooter:Li,footer:Li,afterFooter:Li}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Jw=Object.freeze({__proto__:null,Decimation:bw,Filler:Nw,Legend:Vw,SubTitle:Yw,Title:Ww,Tooltip:Qw}),tM=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function eM(n,e,t,i){let o=n.indexOf(e);if(o===-1)return tM(n,e,t,i);let a=n.lastIndexOf(e);return o!==a?t:o}var iM=(n,e)=>n===null?null:oe(Math.round(n),0,e),Xo=class extends Jn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let t=this._addedLabels;if(t.length){let i=this.getLabels();for(let{index:o,label:a}of t)i[o]===a&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ut(e))return null;let i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:eM(i,e,nt(t,e),this._addedLabels),iM(t,i.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let e=this.min,t=this.max,i=this.options.offset,o=[],a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)o.push({value:r});return o}getLabelForValue(e){let t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}};Xo.id="category";Xo.defaults={ticks:{callback:Xo.prototype.getLabelForValue}};function nM(n,e){let t=[],{bounds:o,step:a,min:r,max:s,precision:l,count:h,maxTicks:p,maxDigits:g,includeBounds:v}=n,k=a||1,x=p-1,{min:w,max:P}=e,D=!ut(r),E=!ut(s),F=!ut(h),R=(P-w)/(g+1),A=Sl((P-w)/x/k)*k,z,H,Y,q;if(A<1e-14&&!D&&!E)return[{value:w},{value:P}];q=Math.ceil(P/A)-Math.floor(w/A),q>x&&(A=Sl(q*A/x/k)*k),ut(l)||(z=Math.pow(10,l),A=Math.ceil(A*z)/z),o==="ticks"?(H=Math.floor(w/A)*A,Y=Math.ceil(P/A)*A):(H=w,Y=P),D&&E&&a&&$p((s-r)/a,A/1e3)?(q=Math.round(Math.min((s-r)/A,p)),A=(s-r)/q,H=r,Y=s):F?(H=D?r:H,Y=E?s:Y,q=h-1,A=(Y-H)/q):(q=(Y-H)/A,Bo(q,Math.round(q),A/1e3)?q=Math.round(q):q=Math.ceil(q));let at=Math.max(Dl(A),Dl(H));z=Math.pow(10,ut(l)?at:l),H=Math.round(H*z)/z,Y=Math.round(Y*z)/z;let et=0;for(D&&(v&&H!==r?(t.push({value:r}),H<r&&et++,Bo(Math.round((H+et*A)*z)/z,r,sf(r,R,n))&&et++):H<r&&et++);et<q;++et)t.push({value:Math.round((H+et*A)*z)/z});return E&&v&&Y!==s?t.length&&Bo(t[t.length-1].value,s,sf(s,R,n))?t[t.length-1].value=s:t.push({value:s}):(!E||Y===s)&&t.push({value:Y}),t}function sf(n,e,{horizontal:t,minRotation:i}){let o=li(i),a=(t?Math.sin(o):Math.cos(o))||.001,r=.75*e*(""+n).length;return Math.min(e/a,r)}var Ko=class extends Jn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ut(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:o,max:a}=this,r=l=>o=t?o:l,s=l=>a=i?a:l;if(e){let l=bi(o),h=bi(a);l<0&&h<0?s(0):l>0&&h>0&&r(0)}if(o===a){let l=1;(a>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(a*.05)),s(a+l),e||r(o-l)}this.min=o,this.max=a}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,r=nM(o,a);return e.bounds==="ticks"&&Pl(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let o=(i-t)/Math.max(e.length-1,1)/2;t-=o,i+=o}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Yo(e,this.chart.options.locale,this.options.ticks.format)}},tr=class extends Ko{determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Gt(e)?e:0,this.max=Gt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=li(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}};tr.id="linear";tr.defaults={ticks:{callback:Us.formatters.numeric}};function cf(n){return n/Math.pow(10,Math.floor(Qe(n)))===1}function oM(n,e){let t=Math.floor(Qe(e.max)),i=Math.ceil(e.max/Math.pow(10,t)),o=[],a=Ze(n.min,Math.pow(10,Math.floor(Qe(e.min)))),r=Math.floor(Qe(a)),s=Math.floor(a/Math.pow(10,r)),l=r<0?Math.pow(10,Math.abs(r)):1;do o.push({value:a,major:cf(a)}),++s,s===10&&(s=1,++r,l=r>=0?1:l),a=Math.round(s*Math.pow(10,r)*l)/l;while(r<t||r===t&&s<i);let h=Ze(n.max,a);return o.push({value:h,major:cf(a)}),o}var er=class extends Jn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=Ko.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Gt(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Gt(e)?Math.max(0,e):null,this.max=Gt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,o=this.max,a=l=>i=e?i:l,r=l=>o=t?o:l,s=(l,h)=>Math.pow(10,Math.floor(Qe(l))+h);i===o&&(i<=0?(a(1),r(10)):(a(s(i,-1)),r(s(o,1)))),i<=0&&a(s(o,-1)),o<=0&&r(s(i,1)),this._zero&&this.min!==this._suggestedMin&&i===s(this.min,0)&&a(s(i,-1)),this.min=i,this.max=o}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},i=oM(t,this);return e.bounds==="ticks"&&Pl(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Yo(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Qe(e),this._valueRange=Qe(this.max)-Qe(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Qe(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};er.id="logarithmic";er.defaults={ticks:{callback:Us.formatters.logarithmic,major:{enabled:!0}}};function yd(n){let e=n.ticks;if(e.display&&n.display){let t=fe(e.backdropPadding);return nt(e.font&&e.font.size,ot.font.size)+t.height}return 0}function aM(n,e,t){return t=Pt(t)?t:[t],{w:ru(n,e.string,t),h:t.length*e.lineHeight}}function lf(n,e,t,i,o){return n===i||n===o?{start:e-t/2,end:e+t/2}:n<i||n>o?{start:e-t,end:e}:{start:e,end:e+t}}function rM(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],o=[],a=n._pointLabels.length,r=n.options.pointLabels,s=r.centerPointLabels?Tt/a:0;for(let l=0;l<a;l++){let h=r.setContext(n.getPointLabelContext(l));o[l]=h.padding;let p=n.getPointPosition(l,n.drawingArea+o[l],s),g=te(h.font),v=aM(n.ctx,g,n._pointLabels[l]);i[l]=v;let k=He(n.getIndexAngle(l)+s),x=Math.round(Cs(k)),w=lf(x,p.x,v.w,0,180),P=lf(x,p.y,v.h,90,270);sM(t,e,k,w,P)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=cM(n,i,o)}function sM(n,e,t,i,o){let a=Math.abs(Math.sin(t)),r=Math.abs(Math.cos(t)),s=0,l=0;i.start<e.l?(s=(e.l-i.start)/a,n.l=Math.min(n.l,e.l-s)):i.end>e.r&&(s=(i.end-e.r)/a,n.r=Math.max(n.r,e.r+s)),o.start<e.t?(l=(e.t-o.start)/r,n.t=Math.min(n.t,e.t-l)):o.end>e.b&&(l=(o.end-e.b)/r,n.b=Math.max(n.b,e.b+l))}function cM(n,e,t){let i=[],o=n._pointLabels.length,a=n.options,r=yd(a)/2,s=n.drawingArea,l=a.pointLabels.centerPointLabels?Tt/o:0;for(let h=0;h<o;h++){let p=n.getPointPosition(h,s+r+t[h],l),g=Math.round(Cs(He(p.angle+Bt))),v=e[h],k=hM(p.y,v.h,g),x=lM(g),w=dM(p.x,v.w,x);i.push({x:p.x,y:k,textAlign:x,left:w,top:k,right:w+v.w,bottom:k+v.h})}return i}function lM(n){return n===0||n===180?"center":n<180?"left":"right"}function dM(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function hM(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function mM(n,e){let{ctx:t,options:{pointLabels:i}}=n;for(let o=e-1;o>=0;o--){let a=i.setContext(n.getPointLabelContext(o)),r=te(a.font),{x:s,y:l,textAlign:h,left:p,top:g,right:v,bottom:k}=n._pointLabelItems[o],{backdropColor:x}=a;if(!ut(x)){let w=On(a.borderRadius),P=fe(a.backdropPadding);t.fillStyle=x;let D=p-P.left,E=g-P.top,F=v-p+P.width,R=k-g+P.height;Object.values(w).some(A=>A!==0)?(t.beginPath(),Ho(t,{x:D,y:E,w:F,h:R,radius:w}),t.fill()):t.fillRect(D,E,F,R)}In(t,n._pointLabels[o],s,l+r.lineHeight/2,r,{color:a.color,textAlign:h,textBaseline:"middle"})}}function Af(n,e,t,i){let{ctx:o}=n;if(t)o.arc(n.xCenter,n.yCenter,e,0,Ct);else{let a=n.getPointPosition(0,e);o.moveTo(a.x,a.y);for(let r=1;r<i;r++)a=n.getPointPosition(r,e),o.lineTo(a.x,a.y)}}function pM(n,e,t,i){let o=n.ctx,a=e.circular,{color:r,lineWidth:s}=e;!a&&!i||!r||!s||t<0||(o.save(),o.strokeStyle=r,o.lineWidth=s,o.setLineDash(e.borderDash),o.lineDashOffset=e.borderDashOffset,o.beginPath(),Af(n,t,a,i),o.closePath(),o.stroke(),o.restore())}function uM(n,e,t){return nn(n,{label:t,index:e,type:"pointLabel"})}var to=class extends Ko{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=fe(yd(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Gt(e)&&!isNaN(e)?e:0,this.max=Gt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yd(this.options))}generateTickLabels(e){Ko.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{let o=Dt(this.options.pointLabels.callback,[t,i],this);return o||o===0?o:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?rM(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,o){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,o))}getIndexAngle(e){let t=Ct/(this._pointLabels.length||1),i=this.options.startAngle||0;return He(e*t+li(i))}getDistanceFromCenterForValue(e){if(ut(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ut(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return uM(this.getContext(),e,i)}}getPointPosition(e,t,i=0){let o=this.getIndexAngle(e)-Bt+i;return{x:Math.cos(o)*t+this.xCenter,y:Math.sin(o)*t+this.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:o,bottom:a}=this._pointLabelItems[e];return{left:t,top:i,right:o,bottom:a}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),Af(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:i,grid:o}=t,a=this._pointLabels.length,r,s,l;if(t.pointLabels.display&&mM(this,a),o.display&&this.ticks.forEach((h,p)=>{if(p!==0){s=this.getDistanceFromCenterForValue(h.value);let g=o.setContext(this.getContext(p-1));pM(this,g,s,a)}}),i.display){for(e.save(),r=a-1;r>=0;r--){let h=i.setContext(this.getPointLabelContext(r)),{color:p,lineWidth:g}=h;!g||!p||(e.lineWidth=g,e.strokeStyle=p,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(r,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;let o=this.getIndexAngle(0),a,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,l)=>{if(l===0&&!t.reverse)return;let h=i.setContext(this.getContext(l)),p=te(h.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),h.showLabelBackdrop){e.font=p.string,r=e.measureText(s.label).width,e.fillStyle=h.backdropColor;let g=fe(h.backdropPadding);e.fillRect(-r/2-g.left,-a-p.size/2-g.top,r+g.width,p.size+g.height)}In(e,s.label,0,-a,p,{color:h.color})}),e.restore()}drawTitle(){}};to.id="radialLinear";to.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Us.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};to.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};to.descriptors={angleLines:{_fallback:"grid"}};var $s={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},We=Object.keys($s);function fM(n,e){return n-e}function df(n,e){if(ut(e))return null;let t=n._adapter,{parser:i,round:o,isoWeekday:a}=n._parseOpts,r=e;return typeof i=="function"&&(r=i(r)),Gt(r)||(r=typeof i=="string"?t.parse(r,i):t.parse(r)),r===null?null:(o&&(r=o==="week"&&(Kn(a)||a===!0)?t.startOf(r,"isoWeek",a):t.startOf(r,o)),+r)}function hf(n,e,t,i){let o=We.length;for(let a=We.indexOf(n);a<o-1;++a){let r=$s[We[a]],s=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(s*r.size))<=i)return We[a]}return We[o-1]}function gM(n,e,t,i,o){for(let a=We.length-1;a>=We.indexOf(t);a--){let r=We[a];if($s[r].common&&n._adapter.diff(o,i,r)>=e-1)return r}return We[t?We.indexOf(t):0]}function _M(n){for(let e=We.indexOf(n)+1,t=We.length;e<t;++e)if($s[We[e]].common)return We[e]}function mf(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:i,hi:o}=ws(t,e),a=t[i]>=e?t[i]:t[o];n[a]=!0}}function bM(n,e,t,i){let o=n._adapter,a=+o.startOf(e[0].value,i),r=e[e.length-1].value,s,l;for(s=a;s<=r;s=+o.add(s,1,i))l=t[s],l>=0&&(e[l].major=!0);return e}function pf(n,e,t){let i=[],o={},a=e.length,r,s;for(r=0;r<a;++r)s=e[r],o[s]=r,i.push({value:s,major:!1});return a===0||!t?i:bM(n,i,o,t)}var Cd=(()=>{class n extends Jn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){let o=t.time||(t.time={}),a=this._adapter=new sC._date(t.adapters.date);a.init(i),zo(o.displayFormats,a.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:df(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,o=t.time.unit||"day",{min:a,max:r,minDefined:s,maxDefined:l}=this.getUserBounds();function h(p){!s&&!isNaN(p.min)&&(a=Math.min(a,p.min)),!l&&!isNaN(p.max)&&(r=Math.max(r,p.max))}(!s||!l)&&(h(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=Gt(a)&&!isNaN(a)?a:+i.startOf(Date.now(),o),r=Gt(r)&&!isNaN(r)?r:+i.endOf(Date.now(),o)+1,this.min=Math.min(a,r-1),this.max=Math.max(a+1,r)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],o=t[t.length-1]),{min:i,max:o}}buildTicks(){let t=this.options,i=t.time,o=t.ticks,a=o.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);let r=this.min,s=this.max,l=Kp(a,r,s);return this._unit=i.unit||(o.autoSkip?hf(i.minUnit,this.min,this.max,this._getLabelCapacity(r)):gM(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:_M(this._unit),this.initOffsets(a),t.reverse&&l.reverse(),pf(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let i=0,o=0,a,r;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?i=1-a:i=(this.getDecimalForValue(t[1])-a)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?o=r:o=(r-this.getDecimalForValue(t[t.length-2]))/2);let s=t.length<3?.5:.25;i=oe(i,0,s),o=oe(o,0,s),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){let t=this._adapter,i=this.min,o=this.max,a=this.options,r=a.time,s=r.unit||hf(r.minUnit,i,o,this._getLabelCapacity(i)),l=nt(r.stepSize,1),h=s==="week"?r.isoWeekday:!1,p=Kn(h)||h===!0,g={},v=i,k,x;if(p&&(v=+t.startOf(v,"isoWeek",h)),v=+t.startOf(v,p?"day":s),t.diff(o,i,s)>1e5*l)throw new Error(i+" and "+o+" are too far apart with stepSize of "+l+" "+s);let w=a.ticks.source==="data"&&this.getDataTimestamps();for(k=v,x=0;k<o;k=+t.add(k,l,s),x++)mf(g,k,w);return(k===o||a.bounds==="ticks"||x===1)&&mf(g,k,w),Object.keys(g).sort((P,D)=>P-D).map(P=>+P)}getLabelForValue(t){let i=this._adapter,o=this.options.time;return o.tooltipFormat?i.format(t,o.tooltipFormat):i.format(t,o.displayFormats.datetime)}_tickFormatFunction(t,i,o,a){let r=this.options,s=r.time.displayFormats,l=this._unit,h=this._majorUnit,p=l&&s[l],g=h&&s[h],v=o[i],k=h&&g&&v&&v.major,x=this._adapter.format(t,a||(k?g:p)),w=r.ticks.callback;return w?Dt(w,[x,i,o],this):x}generateTickLabels(t){let i,o,a;for(i=0,o=t.length;i<o;++i)a=t[i],a.label=this._tickFormatFunction(a.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,o=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(t){let i=this._offsets,o=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,o=this.ctx.measureText(t).width,a=li(this.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(a),s=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:o*r+l*s,h:o*s+l*r}}_getLabelCapacity(t){let i=this.options.time,o=i.displayFormats,a=o[i.unit]||o.millisecond,r=this._tickFormatFunction(t,0,pf(this,[t],this._majorUnit),a),s=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],i,o;if(t.length)return t;let a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(i=0,o=a.length;i<o;++i)t=t.concat(a[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],i,o;if(t.length)return t;let a=this.getLabels();for(i=0,o=a.length;i<o;++i)t.push(df(this,a[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Tl(t.sort(fM))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function Fs(n,e,t){let i=0,o=n.length-1,a,r,s,l;t?(e>=n[i].pos&&e<=n[o].pos&&({lo:i,hi:o}=Ri(n,"pos",e)),{pos:a,time:s}=n[i],{pos:r,time:l}=n[o]):(e>=n[i].time&&e<=n[o].time&&({lo:i,hi:o}=Ri(n,"time",e)),{time:a,pos:s}=n[i],{time:r,pos:l}=n[o]);let h=r-a;return h?s+(l-s)*(e-a)/h:s}var ir=class extends Cd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Fs(t,this.min),this._tableRange=Fs(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:i}=this,o=[],a=[],r,s,l,h,p;for(r=0,s=e.length;r<s;++r)h=e[r],h>=t&&h<=i&&o.push(h);if(o.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,s=o.length;r<s;++r)p=o[r+1],l=o[r-1],h=o[r],Math.round((p+l)/2)!==h&&a.push({time:h,pos:r/(s-1)});return a}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Fs(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Fs(this._table,i*this._tableRange+this._minPos,!0)}};ir.id="timeseries";ir.defaults=Cd.defaults;var vM=Object.freeze({__proto__:null,CategoryScale:Xo,LinearScale:tr,LogarithmicScale:er,RadialLinearScale:to,TimeScale:Cd,TimeSeriesScale:ir}),Rf=[aC,uw,Jw,vM];var xM=typeof global=="object"&&global&&global.Object===Object&&global,qs=xM;var yM=typeof self=="object"&&self&&self.Object===Object&&self,kM=qs||yM||Function("return this")(),di=kM;var CM=di.Symbol,Zo=CM;var Lf=Object.prototype,wM=Lf.hasOwnProperty,MM=Lf.toString,or=Zo?Zo.toStringTag:void 0;function SM(n){var e=wM.call(n,or),t=n[or];try{n[or]=void 0;var i=!0}catch{}var o=MM.call(n);return i&&(e?n[or]=t:delete n[or]),o}var jf=SM;var PM=Object.prototype,DM=PM.toString;function IM(n){return DM.call(n)}var Ff=IM;var OM="[object Null]",TM="[object Undefined]",Nf=Zo?Zo.toStringTag:void 0;function EM(n){return n==null?n===void 0?TM:OM:Nf&&Nf in Object(n)?jf(n):Ff(n)}var Rn=EM;function AM(n){return n!=null&&typeof n=="object"}var Bi=AM;var RM=Array.isArray,ar=RM;function LM(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Ye=LM;function jM(n){return n}var Xs=jM;var FM="[object AsyncFunction]",NM="[object Function]",zM="[object GeneratorFunction]",BM="[object Proxy]";function VM(n){if(!Ye(n))return!1;var e=Rn(n);return e==NM||e==zM||e==FM||e==BM}var Qo=VM;var HM=di["__core-js_shared__"],Ks=HM;var zf=function(){var n=/[^.]+$/.exec(Ks&&Ks.keys&&Ks.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function WM(n){return!!zf&&zf in n}var Bf=WM;var YM=Function.prototype,UM=YM.toString;function GM(n){if(n!=null){try{return UM.call(n)}catch{}try{return n+""}catch{}}return""}var Vf=GM;var $M=/[\\^$.*+?()[\]{}|]/g,qM=/^\[object .+?Constructor\]$/,XM=Function.prototype,KM=Object.prototype,ZM=XM.toString,QM=KM.hasOwnProperty,JM=RegExp("^"+ZM.call(QM).replace($M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tS(n){if(!Ye(n)||Bf(n))return!1;var e=Qo(n)?JM:qM;return e.test(Vf(n))}var Hf=tS;function eS(n,e){return n?.[e]}var Wf=eS;function iS(n,e){var t=Wf(n,e);return Hf(t)?t:void 0}var Jo=iS;var Yf=Object.create,nS=function(){function n(){}return function(e){if(!Ye(e))return{};if(Yf)return Yf(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),Uf=nS;function oS(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var Gf=oS;function aS(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var $f=aS;var rS=800,sS=16,cS=Date.now;function lS(n){var e=0,t=0;return function(){var i=cS(),o=sS-(i-t);if(t=i,o>0){if(++e>=rS)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var qf=lS;function dS(n){return function(){return n}}var Xf=dS;var hS=function(){try{var n=Jo(Object,"defineProperty");return n({},"",{}),n}catch{}}(),ta=hS;var mS=ta?function(n,e){return ta(n,"toString",{configurable:!0,enumerable:!1,value:Xf(e),writable:!0})}:Xs,Kf=mS;var pS=qf(Kf),Zf=pS;var uS=9007199254740991,fS=/^(?:0|[1-9]\d*)$/;function gS(n,e){var t=typeof n;return e=e??uS,!!e&&(t=="number"||t!="symbol"&&fS.test(n))&&n>-1&&n%1==0&&n<e}var Zs=gS;function _S(n,e,t){e=="__proto__"&&ta?ta(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var ea=_S;function bS(n,e){return n===e||n!==n&&e!==e}var Ln=bS;var vS=Object.prototype,xS=vS.hasOwnProperty;function yS(n,e,t){var i=n[e];(!(xS.call(n,e)&&Ln(i,t))||t===void 0&&!(e in n))&&ea(n,e,t)}var Qf=yS;function kS(n,e,t,i){var o=!t;t||(t={});for(var a=-1,r=e.length;++a<r;){var s=e[a],l=i?i(t[s],n[s],s,t,n):void 0;l===void 0&&(l=n[s]),o?ea(t,s,l):Qf(t,s,l)}return t}var Jf=kS;var tg=Math.max;function CS(n,e,t){return e=tg(e===void 0?n.length-1:e,0),function(){for(var i=arguments,o=-1,a=tg(i.length-e,0),r=Array(a);++o<a;)r[o]=i[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=i[o];return s[e]=t(r),Gf(n,this,s)}}var eg=CS;function wS(n,e){return Zf(eg(n,e,Xs),n+"")}var ig=wS;var MS=9007199254740991;function SS(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=MS}var Qs=SS;function PS(n){return n!=null&&Qs(n.length)&&!Qo(n)}var ia=PS;function DS(n,e,t){if(!Ye(t))return!1;var i=typeof e;return(i=="number"?ia(t)&&Zs(e,t.length):i=="string"&&e in t)?Ln(t[e],n):!1}var ng=DS;function IS(n){return ig(function(e,t){var i=-1,o=t.length,a=o>1?t[o-1]:void 0,r=o>2?t[2]:void 0;for(a=n.length>3&&typeof a=="function"?(o--,a):void 0,r&&ng(t[0],t[1],r)&&(a=o<3?void 0:a,o=1),e=Object(e);++i<o;){var s=t[i];s&&n(e,s,i,a)}return e})}var og=IS;var OS=Object.prototype;function TS(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||OS;return n===t}var Js=TS;function ES(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var ag=ES;var AS="[object Arguments]";function RS(n){return Bi(n)&&Rn(n)==AS}var wd=RS;var rg=Object.prototype,LS=rg.hasOwnProperty,jS=rg.propertyIsEnumerable,FS=wd(function(){return arguments}())?wd:function(n){return Bi(n)&&LS.call(n,"callee")&&!jS.call(n,"callee")},rr=FS;function NS(){return!1}var sg=NS;var dg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cg=dg&&typeof module=="object"&&module&&!module.nodeType&&module,zS=cg&&cg.exports===dg,lg=zS?di.Buffer:void 0,BS=lg?lg.isBuffer:void 0,VS=BS||sg,tc=VS;var HS="[object Arguments]",WS="[object Array]",YS="[object Boolean]",US="[object Date]",GS="[object Error]",$S="[object Function]",qS="[object Map]",XS="[object Number]",KS="[object Object]",ZS="[object RegExp]",QS="[object Set]",JS="[object String]",tP="[object WeakMap]",eP="[object ArrayBuffer]",iP="[object DataView]",nP="[object Float32Array]",oP="[object Float64Array]",aP="[object Int8Array]",rP="[object Int16Array]",sP="[object Int32Array]",cP="[object Uint8Array]",lP="[object Uint8ClampedArray]",dP="[object Uint16Array]",hP="[object Uint32Array]",Et={};Et[nP]=Et[oP]=Et[aP]=Et[rP]=Et[sP]=Et[cP]=Et[lP]=Et[dP]=Et[hP]=!0;Et[HS]=Et[WS]=Et[eP]=Et[YS]=Et[iP]=Et[US]=Et[GS]=Et[$S]=Et[qS]=Et[XS]=Et[KS]=Et[ZS]=Et[QS]=Et[JS]=Et[tP]=!1;function mP(n){return Bi(n)&&Qs(n.length)&&!!Et[Rn(n)]}var hg=mP;function pP(n){return function(e){return n(e)}}var mg=pP;var pg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sr=pg&&typeof module=="object"&&module&&!module.nodeType&&module,uP=sr&&sr.exports===pg,Md=uP&&qs.process,fP=function(){try{var n=sr&&sr.require&&sr.require("util").types;return n||Md&&Md.binding&&Md.binding("util")}catch{}}(),Sd=fP;var ug=Sd&&Sd.isTypedArray,gP=ug?mg(ug):hg,ec=gP;var _P=Object.prototype,bP=_P.hasOwnProperty;function vP(n,e){var t=ar(n),i=!t&&rr(n),o=!t&&!i&&tc(n),a=!t&&!i&&!o&&ec(n),r=t||i||o||a,s=r?ag(n.length,String):[],l=s.length;for(var h in n)(e||bP.call(n,h))&&!(r&&(h=="length"||o&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Zs(h,l)))&&s.push(h);return s}var fg=vP;function xP(n,e){return function(t){return n(e(t))}}var gg=xP;function yP(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var _g=yP;var kP=Object.prototype,CP=kP.hasOwnProperty;function wP(n){if(!Ye(n))return _g(n);var e=Js(n),t=[];for(var i in n)i=="constructor"&&(e||!CP.call(n,i))||t.push(i);return t}var bg=wP;function MP(n){return ia(n)?fg(n,!0):bg(n)}var ic=MP;var SP=Jo(Object,"create"),sn=SP;function PP(){this.__data__=sn?sn(null):{},this.size=0}var vg=PP;function DP(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var xg=DP;var IP="__lodash_hash_undefined__",OP=Object.prototype,TP=OP.hasOwnProperty;function EP(n){var e=this.__data__;if(sn){var t=e[n];return t===IP?void 0:t}return TP.call(e,n)?e[n]:void 0}var yg=EP;var AP=Object.prototype,RP=AP.hasOwnProperty;function LP(n){var e=this.__data__;return sn?e[n]!==void 0:RP.call(e,n)}var kg=LP;var jP="__lodash_hash_undefined__";function FP(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=sn&&e===void 0?jP:e,this}var Cg=FP;function na(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}na.prototype.clear=vg;na.prototype.delete=xg;na.prototype.get=yg;na.prototype.has=kg;na.prototype.set=Cg;var Pd=na;function NP(){this.__data__=[],this.size=0}var wg=NP;function zP(n,e){for(var t=n.length;t--;)if(Ln(n[t][0],e))return t;return-1}var jn=zP;var BP=Array.prototype,VP=BP.splice;function HP(n){var e=this.__data__,t=jn(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():VP.call(e,t,1),--this.size,!0}var Mg=HP;function WP(n){var e=this.__data__,t=jn(e,n);return t<0?void 0:e[t][1]}var Sg=WP;function YP(n){return jn(this.__data__,n)>-1}var Pg=YP;function UP(n,e){var t=this.__data__,i=jn(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var Dg=UP;function oa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}oa.prototype.clear=wg;oa.prototype.delete=Mg;oa.prototype.get=Sg;oa.prototype.has=Pg;oa.prototype.set=Dg;var Fn=oa;var GP=Jo(di,"Map"),nc=GP;function $P(){this.size=0,this.__data__={hash:new Pd,map:new(nc||Fn),string:new Pd}}var Ig=$P;function qP(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var Og=qP;function XP(n,e){var t=n.__data__;return Og(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Nn=XP;function KP(n){var e=Nn(this,n).delete(n);return this.size-=e?1:0,e}var Tg=KP;function ZP(n){return Nn(this,n).get(n)}var Eg=ZP;function QP(n){return Nn(this,n).has(n)}var Ag=QP;function JP(n,e){var t=Nn(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var Rg=JP;function aa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}aa.prototype.clear=Ig;aa.prototype.delete=Tg;aa.prototype.get=Eg;aa.prototype.has=Ag;aa.prototype.set=Rg;var Lg=aa;var tD=gg(Object.getPrototypeOf,Object),oc=tD;var eD="[object Object]",iD=Function.prototype,nD=Object.prototype,jg=iD.toString,oD=nD.hasOwnProperty,aD=jg.call(Object);function rD(n){if(!Bi(n)||Rn(n)!=eD)return!1;var e=oc(n);if(e===null)return!0;var t=oD.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&jg.call(t)==aD}var Fg=rD;function sD(){this.__data__=new Fn,this.size=0}var Ng=sD;function cD(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var zg=cD;function lD(n){return this.__data__.get(n)}var Bg=lD;function dD(n){return this.__data__.has(n)}var Vg=dD;var hD=200;function mD(n,e){var t=this.__data__;if(t instanceof Fn){var i=t.__data__;if(!nc||i.length<hD-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Lg(i)}return t.set(n,e),this.size=t.size,this}var Hg=mD;function ra(n){var e=this.__data__=new Fn(n);this.size=e.size}ra.prototype.clear=Ng;ra.prototype.delete=zg;ra.prototype.get=Bg;ra.prototype.has=Vg;ra.prototype.set=Hg;var Wg=ra;var $g=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Yg=$g&&typeof module=="object"&&module&&!module.nodeType&&module,pD=Yg&&Yg.exports===$g,Ug=pD?di.Buffer:void 0,Gg=Ug?Ug.allocUnsafe:void 0;function uD(n,e){if(e)return n.slice();var t=n.length,i=Gg?Gg(t):new n.constructor(t);return n.copy(i),i}var qg=uD;var fD=di.Uint8Array,Dd=fD;function gD(n){var e=new n.constructor(n.byteLength);return new Dd(e).set(new Dd(n)),e}var Xg=gD;function _D(n,e){var t=e?Xg(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Kg=_D;function bD(n){return typeof n.constructor=="function"&&!Js(n)?Uf(oc(n)):{}}var Zg=bD;function vD(n){return function(e,t,i){for(var o=-1,a=Object(e),r=i(e),s=r.length;s--;){var l=r[n?s:++o];if(t(a[l],l,a)===!1)break}return e}}var Qg=vD;var xD=Qg(),Jg=xD;function yD(n,e,t){(t!==void 0&&!Ln(n[e],t)||t===void 0&&!(e in n))&&ea(n,e,t)}var cr=yD;function kD(n){return Bi(n)&&ia(n)}var t0=kD;function CD(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var lr=CD;function wD(n){return Jf(n,ic(n))}var e0=wD;function MD(n,e,t,i,o,a,r){var s=lr(n,t),l=lr(e,t),h=r.get(l);if(h){cr(n,t,h);return}var p=a?a(s,l,t+"",n,e,r):void 0,g=p===void 0;if(g){var v=ar(l),k=!v&&tc(l),x=!v&&!k&&ec(l);p=l,v||k||x?ar(s)?p=s:t0(s)?p=$f(s):k?(g=!1,p=qg(l,!0)):x?(g=!1,p=Kg(l,!0)):p=[]:Fg(l)||rr(l)?(p=s,rr(s)?p=e0(s):(!Ye(s)||Qo(s))&&(p=Zg(l))):g=!1}g&&(r.set(l,p),o(p,l,i,a,r),r.delete(l)),cr(n,t,p)}var i0=MD;function n0(n,e,t,i,o){n!==e&&Jg(e,function(a,r){if(o||(o=new Wg),Ye(a))i0(n,e,r,t,n0,i,o);else{var s=i?i(lr(n,r),a,r+"",n,e,o):void 0;s===void 0&&(s=a),cr(n,r,s)}},ic)}var o0=n0;var SD=og(function(n,e,t){o0(n,e,t)}),ac=SD;var PD=(()=>{class n{constructor(){this.colorschemesOptions=new ho(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rc=(()=>{class n{constructor(t,i,o){this.zone=i,this.themeService=o,this.type="bar",this.plugins=[],this.chartClick=new mt,this.chartHover=new mt,this.subs=[],this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(po()).subscribe(a=>this.themeChanged(a)))}ngOnChanges(t){let i=["type"],o=Object.getOwnPropertyNames(t);if(o.some(a=>i.includes(a))||o.every(a=>t[a].isFirstChange()))this.render();else{let a=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,a.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,a.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,a.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),rn.register(...this.plugins),this.zone.runOutsideAngular(()=>this.chart=new rn(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,i){this.chart&&(this.chart.getDatasetMeta(t).hidden=i,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return ac({onHover:(t,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:i}))},onClick:(t,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(t){return new(t||n)(I(se),I(De),I(PD))},n.\u0275dir=Ht({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[fi]}),n})(),DD=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],ID={datasets:{line:{backgroundColor:n=>Ee(Ae(n.datasetIndex),.4),borderColor:n=>Ee(Ae(n.datasetIndex),1),pointBackgroundColor:n=>Ee(Ae(n.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n=>Ee(Ae(n.datasetIndex),.8)},bar:{backgroundColor:n=>Ee(Ae(n.datasetIndex),.6),borderColor:n=>Ee(Ae(n.datasetIndex),1),hoverBackgroundColor:n=>Ee(Ae(n.datasetIndex),.8),hoverBorderColor:n=>Ee(Ae(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Ee(Ae(n.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:n=>Ee(Ae(n.dataIndex),1),hoverBorderColor:n=>Ee(Ae(n.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Ee(Ae(n.dataIndex),.6),borderColor:n=>Ee(Ae(n.dataIndex),1),hoverBackgroundColor:n=>Ee(Ae(n.dataIndex),.8),hoverBorderColor:n=>Ee(Ae(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Ee(n,e){return"rgba("+n.concat(e).join(",")+")"}function Id(n,e){return Math.floor(Math.random()*(e-n+1))+n}function OD(){return[Id(0,255),Id(0,255),Id(0,255)]}function Ae(n=0){return DD[n]||OD()}var a0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();rn.register(...Rf);var r0=(()=>{class n{constructor(t){t?.plugins&&rn.register(...t?.plugins);let i=ac(ID,t?.defaults||{});ot.set(i)}static forRoot(t){return{ngModule:n,providers:[{provide:a0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(me(a0,8))},n.\u0275mod=zt({type:n}),n.\u0275inj=Nt({imports:[[]]}),n})();function ED(n,e){n&1&&(f(0,"mat-error"),y(1," Username is required "),_())}function AD(n,e){if(n&1&&(f(0,"div",10),y(1),_()),n&2){let t=O();C(),it(t.errorMessage)}}var sc=class n{constructor(e,t,i){this.dialogRef=e;this.fb=t;this.userService=i;this.form=this.fb.group({username:["",[Hm.required]]})}form;errorMessage="";isLoading=!1;ngOnInit(){this.form.get("username")?.valueChanges.subscribe(()=>{this.errorMessage=""})}onSubmit(){if(this.form.valid){this.isLoading=!0;let e=this.form.get("username")?.value;this.userService.checkUserExists(e).subscribe(t=>{this.isLoading=!1,t?this.dialogRef.close(e):this.errorMessage="User does not exist"},t=>{this.isLoading=!1,this.errorMessage="Error checking user existence"})}}onCancel(){this.dialogRef.close()}static \u0275fac=function(t){return new(t||n)(I(Oi),I(Um),I(Km))};static \u0275cmp=Z({type:n,selectors:[["app-add-member-dialog"]],standalone:!0,features:[Q],decls:15,vars:4,consts:[[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","username","placeholder","Enter username"],[4,"ngIf"],["class","text-red-500 text-sm mt-2",4,"ngIf"],[1,"flex","justify-end","space-x-2","mt-6"],["mat-button","",1,"text-gray-600","hover:bg-gray-100",3,"click"],["mat-raised-button","","color","primary",1,"bg-blue-500","text-white","hover:bg-blue-600",3,"click","disabled"],[1,"text-red-500","text-sm","mt-2"]],template:function(t,i){if(t&1&&(f(0,"div",0)(1,"h2",1),y(2,"Add Member to Project"),_(),f(3,"form",2),N("ngSubmit",function(){return i.onSubmit()}),f(4,"mat-form-field",3)(5,"mat-label"),y(6,"Username"),_(),U(7,"input",4),B(8,ED,2,0,"mat-error",5),_(),B(9,AD,2,1,"div",6),_(),f(10,"div",7)(11,"button",8),N("click",function(){return i.onCancel()}),y(12," Cancel "),_(),f(13,"button",9),N("click",function(){return i.onSubmit()}),y(14," Add Member "),_()()()),t&2){let o;C(3),S("formGroup",i.form),C(5),S("ngIf",(o=i.form.get("username"))==null?null:o.hasError("required")),C(),S("ngIf",i.errorMessage),C(4),S("disabled",!i.form.valid)}},dependencies:[dt,yt,ts,Ii,le,de,Di,Qr,Jr,ri,we,Ce,ze,$m,Be,si,jt,ce,_m,he]})};var RD=["input"],LD=["label"],jD=["*"],FD=new St("mat-checkbox-default-options",{providedIn:"root",factory:c0});function c0(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Se=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(Se||{}),ND={provide:Bm,useExisting:Jc(()=>cc),multi:!0},Od=class{},zD=0,s0=c0(),cc=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){let i=new Od;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,o,a,r,s){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=o,this._animationMode=r,this._options=s,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new mt,this.indeterminateChange=new mt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Se.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||s0,this.color=this._options.color||s0.color,this.tabIndex=parseInt(a)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++zD}`,this.disabledInteractive=s?.disabledInteractive??!1}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){let i=t!=this._indeterminate;this._indeterminate=t,i&&(this._indeterminate?this._transitionCheckState(Se.Indeterminate):this._transitionCheckState(this.checked?Se.Checked:Se.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let i=this._currentCheckState,o=this._getAnimationTargetElement();if(!(i===t||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let a=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(a)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let t=this._options?.clickAction;!this.disabled&&t!=="noop"?(this.indeterminate&&t!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Se.Checked:Se.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&t==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if(this._animationMode==="NoopAnimations")return"";switch(t){case Se.Init:if(i===Se.Checked)return this._animationClasses.uncheckedToChecked;if(i==Se.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Se.Unchecked:return i===Se.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Se.Checked:return i===Se.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Se.Indeterminate:return i===Se.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){let i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static{this.\u0275fac=function(i){return new(i||n)(I(se),I(ne),I(De),Ca("tabindex"),I(ii,8),I(FD,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,o){if(i&1&&(Xe(RD,5),Xe(LD,5),Xe(ll,5)),i&2){let a;ve(a=xe())&&(o._inputElement=a.first),ve(a=xe())&&(o._labelElement=a.first),ve(a=xe())&&(o.ripple=a.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,o){i&2&&(ol("id",o.id),Ie("tabindex",null)("aria-label",null)("aria-labelledby",null),ki(o.color?"mat-"+o.color:"mat-accent"),ft("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked)("mat-mdc-checkbox-disabled-interactive",o.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Mt],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Mt],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?void 0:ni(t)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Mt],checked:[2,"checked","checked",Mt],disabled:[2,"disabled","disabled",Mt],indeterminate:[2,"indeterminate","indeterminate",Mt]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Xt([ND,{provide:Vm,useExisting:n,multi:!0}]),pe,fi,Q],ngContentSelectors:jD,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,o){if(i&1){let a=K();Ci(),f(0,"div",3),N("click",function(s){return L(a),j(o._preventBubblingFromLabel(s))}),f(1,"div",4,0)(3,"div",5),N("click",function(){return L(a),j(o._onTouchTargetClick())}),_(),f(4,"input",6,1),N("blur",function(){return L(a),j(o._onBlur())})("click",function(){return L(a),j(o._onInputClick())})("change",function(s){return L(a),j(o._onInteractionEvent(s))}),_(),U(6,"div",7),f(7,"div",8),yi(),f(8,"svg",9),U(9,"path",10),_(),Fr(),U(10,"div",11),_(),U(11,"div",12),_(),f(12,"label",13,2),be(14),_()()}if(i&2){let a=qt(2);S("labelPosition",o.labelPosition),C(4),ft("mdc-checkbox--selected",o.checked),S("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled&&!o.disabledInteractive)("id",o.inputId)("required",o.required)("tabIndex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex),Ie("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("aria-disabled",o.disabled&&o.disabledInteractive?!0:null)("name",o.name)("value",o.value),C(7),S("matRippleTrigger",a)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),C(),S("for",o.inputId)}},dependencies:[ll,Tm],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();var l0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({imports:[cc,Zt,Zt]})}}return n})();function HD(n,e){if(n&1&&(f(0,"mat-option",35),y(1),_()),n&2){let t=e.$implicit;S("value",t._id),C(),W(" ",t.username," ")}}function WD(n,e){if(n&1){let t=K();f(0,"mat-form-field",4)(1,"mat-label",5),y(2,"Assigned Members"),_(),f(3,"mat-select",33),vt("ngModelChange",function(o){L(t);let a=O();return bt(a.task.assignedTo,o)||(a.task.assignedTo=o),j(o)}),B(4,HD,2,2,"mat-option",34),_(),f(5,"mat-icon",7),y(6,"group"),_()()}if(n&2){let t=O();C(3),_t("ngModel",t.task.assignedTo),C(),S("ngForOf",t.data.members)}}var lc=class n{constructor(e,t,i){this.dialogRef=e;this.data=t;this.authService=i}task={title:"",description:"",type:"task",status:"Not Started",priority:"none",timeline:{start:null,end:null},assignedTo:[]};assignToMe=!1;onAssignToMeChange(){this.assignToMe?this.task.assignedTo=[this.authService.getCurrentUserId()]:this.task.assignedTo=[]}onCancel(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.task)}static \u0275fac=function(t){return new(t||n)(I(Oi),I(bn),I(Jt))};static \u0275cmp=Z({type:n,selectors:[["app-create-task-dialog"]],standalone:!0,features:[Xt([Dm()]),Q],decls:75,vars:11,consts:[["picker",""],[1,"edit-task-dialog","bg-white","dark:bg-gray-800","p-6","rounded-lg","shadow-md","max-w-2xl","w-full"],["mat-dialog-title","",1,"text-2xl","font-semibold","text-indigo-700","dark:text-indigo-400","mb-6","text-center"],["mat-dialog-content","",1,"space-y-4"],["appearance","fill",1,"w-full","dark:text-gray-200"],[1,"dark:text-gray-300"],["matInput","","placeholder","Enter task title","required","",1,"dark:text-gray-200",3,"ngModelChange","ngModel"],["matSuffix","",1,"dark:text-gray-400"],["matInput","","rows","3","placeholder","Enter task description",1,"dark:text-gray-200",3,"ngModelChange","ngModel"],[1,"flex","space-x-4"],["appearance","fill",1,"w-1/2","dark:text-gray-200"],[1,"dark:text-gray-200",3,"ngModelChange","ngModel"],["value","task",1,"dark:text-gray-200"],["value","bug",1,"dark:text-gray-200"],["value","Not Started",1,"dark:text-gray-200"],["value","In Progress",1,"dark:text-gray-200"],["value","Stuck",1,"dark:text-gray-200"],["value","Done",1,"dark:text-gray-200"],["value","none",1,"dark:text-gray-200"],["value","low",1,"dark:text-gray-200"],["value","medium",1,"dark:text-gray-200"],["value","high",1,"dark:text-gray-200"],["value","critical",1,"dark:text-gray-200"],[3,"rangePicker"],["matStartDate","","placeholder","Start date",1,"dark:text-gray-200",3,"ngModelChange","ngModel"],["matEndDate","","placeholder","End date",1,"dark:text-gray-200",3,"ngModelChange","ngModel"],["matSuffix","",3,"for"],[1,"flex","items-center","mb-4"],["color","primary",3,"ngModelChange","change","ngModel"],["appearance","fill","class","w-full dark:text-gray-200",4,"ngIf"],["mat-dialog-actions","",1,"flex","justify-end","space-x-2","mt-6"],["mat-stroked-button","","color","warn",1,"dark:text-red-400","dark:border-red-400","dark:hover:bg-red-900",3,"click"],["mat-raised-button","","color","primary",1,"dark:bg-blue-600","dark:text-white","dark:hover:bg-blue-700",3,"click"],["multiple","",1,"dark:text-gray-200",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){if(t&1){let o=K();f(0,"div",1)(1,"h1",2),y(2," Create New Task "),_(),f(3,"div",3)(4,"mat-form-field",4)(5,"mat-label",5),y(6,"Title"),_(),f(7,"input",6),vt("ngModelChange",function(r){return L(o),bt(i.task.title,r)||(i.task.title=r),j(r)}),_(),f(8,"mat-icon",7),y(9,"title"),_()(),f(10,"mat-form-field",4)(11,"mat-label",5),y(12,"Description"),_(),f(13,"textarea",8),vt("ngModelChange",function(r){return L(o),bt(i.task.description,r)||(i.task.description=r),j(r)}),_(),f(14,"mat-icon",7),y(15,"description"),_()(),f(16,"div",9)(17,"mat-form-field",10)(18,"mat-label",5),y(19,"Type"),_(),f(20,"mat-select",11),vt("ngModelChange",function(r){return L(o),bt(i.task.type,r)||(i.task.type=r),j(r)}),f(21,"mat-option",12),y(22,"Task"),_(),f(23,"mat-option",13),y(24,"Bug"),_()(),f(25,"mat-icon",7),y(26,"category"),_()(),f(27,"mat-form-field",10)(28,"mat-label",5),y(29,"Status"),_(),f(30,"mat-select",11),vt("ngModelChange",function(r){return L(o),bt(i.task.status,r)||(i.task.status=r),j(r)}),f(31,"mat-option",14),y(32,"Not Started"),_(),f(33,"mat-option",15),y(34,"In Progress"),_(),f(35,"mat-option",16),y(36,"Stuck"),_(),f(37,"mat-option",17),y(38,"Done"),_()(),f(39,"mat-icon",7),y(40,"flag"),_()()(),f(41,"mat-form-field",4)(42,"mat-label",5),y(43,"Priority"),_(),f(44,"mat-select",11),vt("ngModelChange",function(r){return L(o),bt(i.task.priority,r)||(i.task.priority=r),j(r)}),f(45,"mat-option",18),y(46,"None"),_(),f(47,"mat-option",19),y(48,"Low"),_(),f(49,"mat-option",20),y(50,"Medium"),_(),f(51,"mat-option",21),y(52,"High"),_(),f(53,"mat-option",22),y(54,"Critical"),_()(),f(55,"mat-icon",7),y(56,"priority_high"),_()(),f(57,"mat-form-field",4)(58,"mat-label",5),y(59,"Timeline"),_(),f(60,"mat-date-range-input",23)(61,"input",24),vt("ngModelChange",function(r){return L(o),bt(i.task.timeline.start,r)||(i.task.timeline.start=r),j(r)}),_(),f(62,"input",25),vt("ngModelChange",function(r){return L(o),bt(i.task.timeline.end,r)||(i.task.timeline.end=r),j(r)}),_()(),U(63,"mat-datepicker-toggle",26)(64,"mat-date-range-picker",null,0),_(),f(66,"div",27)(67,"mat-checkbox",28),vt("ngModelChange",function(r){return L(o),bt(i.assignToMe,r)||(i.assignToMe=r),j(r)}),N("change",function(){return L(o),j(i.onAssignToMeChange())}),y(68," Assign to me "),_()(),B(69,WD,7,2,"mat-form-field",29),_(),f(70,"div",30)(71,"button",31),N("click",function(){return L(o),j(i.onCancel())}),y(72," Cancel "),_(),f(73,"button",32),N("click",function(){return L(o),j(i.onSave())}),y(74," Create Task "),_()()()}if(t&2){let o=qt(65);C(7),_t("ngModel",i.task.title),C(6),_t("ngModel",i.task.description),C(7),_t("ngModel",i.task.type),C(10),_t("ngModel",i.task.status),C(14),_t("ngModel",i.task.priority),C(16),S("rangePicker",o),C(),_t("ngModel",i.task.timeline.start),C(),_t("ngModel",i.task.timeline.end),C(),S("for",o),C(4),_t("ngModel",i.assignToMe),C(2),S("ngIf",!i.assignToMe)}},dependencies:[dt,Lt,yt,Qt,le,de,So,Ne,ri,es,ns,is,jt,ce,we,Ce,ze,Do,Be,si,Ei,Ti,Si,l0,cc,as,os,ep,Jm,tp,ip,qr,Ut,Yt],styles:[".mat-form-field-appearance-fill .mat-form-field-flex{background-color:#f0f4ff;border-radius:8px;padding:.75em .75em 0}  .mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-label{color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{background-color:#e8eeff}  .mat-select-value-text{color:#3f51b5}  .mat-select-arrow{color:#3f51b5}  .mat-option{color:#3f51b5}  .mat-option:hover:not(.mat-option-disabled){background:#e8eeff}  .mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:#3f51b5;color:#fff}  .mat-calendar-body-selected{background-color:#3f51b5}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}button.mat-stroked-button.mat-warn[_ngcontent-%COMP%]{color:#f44336;border-color:#f44336}  .mat-checkbox-checked.mat-primary .mat-checkbox-background{background-color:#3f51b5}:is()   .mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{background-color:#1f2937}:is()   .mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]:before{background-color:#4b5563}:is()   .mat-form-field-appearance-fill.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#60a5fa}:is()   .mat-form-field-appearance-fill.mat-focused[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{background-color:#374151}:is()   :is(.mat-select-value-text[_ngcontent-%COMP%], .mat-select-arrow[_ngcontent-%COMP%]){color:#d1d5db}:is()   .mat-option[_ngcontent-%COMP%]{color:#d1d5db;background:#1f2937}:is()   .mat-option[_ngcontent-%COMP%]:hover:not(.mat-option-disabled){background:#374151}:is()   .mat-option.mat-selected[_ngcontent-%COMP%]:not(.mat-option-multiple):not(.mat-option-disabled){background:#2563eb;color:#fff}:is()   .mat-calendar-body-selected[_ngcontent-%COMP%]{background-color:#3b82f6}:is()   :is(input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]){color:#d1d5db}:is()   .mat-form-field-label[_ngcontent-%COMP%]{color:#9ca3af}"]})};function S0(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return i==="canvas"?m0(n,e):(i==="input"||i==="select"||i==="textarea")&&h0(n,e),d0("canvas",n,e,m0),d0("input, textarea, select",n,e,h0),e}function d0(n,e,t,i){let o=e.querySelectorAll(n);if(o.length){let a=t.querySelectorAll(n);for(let r=0;r<o.length;r++)i(o[r],a[r])}}var YD=0;function h0(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${YD++}`)}function m0(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function zd(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function Rd(n,e,t){let{top:i,bottom:o,left:a,right:r}=n;return t>=i&&t<=o&&e>=a&&e<=r}function mr(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function p0(n,e,t,i){let{top:o,right:a,bottom:r,left:s,width:l,height:h}=n,p=l*e,g=h*e;return i>o-g&&i<r+g&&t>s-p&&t<a+p}var pc=class{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:zd(t)})})}handleScroll(e){let t=Da(e),i=this.positions.get(t);if(!i)return null;let o=i.scrollPosition,a,r;if(t===this._document){let h=this.getViewportScrollPosition();a=h.top,r=h.left}else a=t.scrollTop,r=t.scrollLeft;let s=o.top-a,l=o.left-r;return this.positions.forEach((h,p)=>{h.clientRect&&t!==p&&t.contains(p)&&mr(h.clientRect,s,l)}),o.top=a,o.left=r,{top:s,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function P0(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let i=e.createElement("div");return t.forEach(o=>i.appendChild(o)),i}function Bd(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){let o=e[i];o?n.setProperty(i,o,t?.has(i)?"important":""):n.removeProperty(i)}return n}function ca(n,e){let t=e?"":"none";Bd(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function u0(n,e,t){Bd(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function uc(n,e){return e&&e!="none"?n+" "+e:n}function f0(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=fc(e.left,e.top)}function fc(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function g0(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function UD(n){let e=getComputedStyle(n),t=Ad(e,"transition-property"),i=t.find(s=>s==="transform"||s==="all");if(!i)return 0;let o=t.indexOf(i),a=Ad(e,"transition-duration"),r=Ad(e,"transition-delay");return g0(a[o])+g0(r[o])}function Ad(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}var GD=new Set(["position"]),Ld=class{get element(){return this._preview}constructor(e,t,i,o,a,r,s,l,h){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=o,this._previewTemplate=a,this._previewClass=r,this._pickupPositionOnPage=s,this._initialTransform=l,this._zIndex=h}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),_0(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return UD(this._preview)}addEventListener(e,t){this._preview.addEventListener(e,t)}removeEventListener(e,t){this._preview.removeEventListener(e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,i=e?e.template:null,o;if(i&&e){let a=e.matchSize?this._initialDomRect:null,r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),o=P0(r,this._document),this._previewEmbeddedView=r,e.matchSize?f0(o,a):o.style.transform=fc(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else o=S0(this._rootElement),f0(o,this._initialDomRect),this._initialTransform&&(o.style.transform=this._initialTransform);return Bd(o.style,{"pointer-events":"none",margin:_0(o)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},GD),ca(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("popover","manual"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(a=>o.classList.add(a)):o.classList.add(t)),o}};function _0(n){return"showPopover"in n}var b0=Un({passive:!0}),dc=Un({passive:!1}),v0=Un({passive:!1,capture:!0}),$D=800,x0=new Set(["position"]),jd=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>ca(t,e)))}constructor(e,t,i,o,a,r){this._config=t,this._document=i,this._ngZone=o,this._viewportRuler=a,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=nl(!1),this._moveEvents=new lt,this._pointerMoveSubscription=xi.EMPTY,this._pointerUpSubscription=xi.EMPTY,this._scrollSubscription=xi.EMPTY,this._resizeSubscription=xi.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new lt,this.started=new lt,this.released=new lt,this.ended=new lt,this.entered=new lt,this.exited=new lt,this.dropped=new lt,this.moved=this._moveEvents,this._pointerDown=s=>{if(this.beforeStarted.next(),this._handles.length){let l=this._getTargetHandle(s);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,s)}else this.disabled||this._initializeDragSequence(this._rootElement,s)},this._pointerMove=s=>{let l=this._getPointerPositionOnPage(s);if(!this._hasStartedDragging()){let p=Math.abs(l.x-this._pickupPositionOnPage.x),g=Math.abs(l.y-this._pickupPositionOnPage.y);if(p+g>=this._config.dragStartThreshold){let k=Date.now()>=this._dragStartTime+this._getDragStartDelay(s),x=this._dropContainer;if(!k){this._endDragSequence(s);return}(!x||!x.isDragging()&&!x.isReceiving())&&(s.cancelable&&s.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(s)))}return}s.cancelable&&s.preventDefault();let h=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,l);else{let p=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,g=this._activeTransform;g.x=h.x-p.x+this._passiveTransform.x,g.y=h.y-p.y+this._passiveTransform.y,this._applyRootElementTransform(g.x,g.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:s,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=s=>{this._endDragSequence(s)},this._nativeDragStart=s=>{if(this._handles.length){let l=this._getTargetHandle(s);l&&!this._disabledHandles.has(l)&&!this.disabled&&s.preventDefault()}else this.disabled||s.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new pc(i),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>un(i)),this._handles.forEach(i=>ca(i,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=un(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,dc),t.addEventListener("touchstart",this._pointerDown,b0),t.addEventListener("dragstart",this._nativeDragStart,dc)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?un(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),ca(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),ca(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",k0,v0)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){hr(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",k0,v0)}),i){let o=this._rootElement,a=o.parentNode,r=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");a.insertBefore(s,o),this._initialTransform=o.style.transform||"",this._preview=new Ld(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(a,t)),u0(o,!1,x0),this._document.body.appendChild(a.replaceChild(r,o)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let i=this.isDragging(),o=hr(t),a=!o&&t.button!==0,r=this._rootElement,s=Da(t),l=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+$D>Date.now(),h=o?Pm(t):Sm(t);if(s&&s.draggable&&t.type==="mousedown"&&t.preventDefault(),i||a||l||h)return;if(this._handles.length){let v=r.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=zd(this._boundaryElement));let p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let g=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:g.x,y:g.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){u0(this._rootElement,!0,x0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,i=t.getItemIndex(this),o=this._getPointerPositionOnPage(e),a=this._getDragDistance(o),r=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:a,dropPoint:o,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:a,dropPoint:o,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,r,a,o,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:o}){let a=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,e,t,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let o=r=>{(!r||this._preview&&Da(r)===this._preview.element&&r.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",o),i(),clearTimeout(a))},a=setTimeout(o,t*1.5);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=P0(this._placeholderRef,this._document)):i=S0(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){let o=t===this._rootElement?null:t,a=o?o.getBoundingClientRect():e,r=hr(i)?i.targetTouches[0]:i,s=this._getViewportScrollPosition(),l=r.pageX-a.left-s.left,h=r.pageY-a.top-s.top;return{x:a.left-e.left+l,y:a.top-e.top+h}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),i=hr(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,o=i.pageX-t.left,a=i.pageY-t.top;if(this._ownerSVGElement){let r=this._ownerSVGElement.getScreenCTM();if(r){let s=this._ownerSVGElement.createSVGPoint();return s.x=o,s.y=a,s.matrixTransform(r.inverse())}}return{x:o,y:a}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:o}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?o=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:a,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:l,height:h}=this._getPreviewRect(),p=s.top+r,g=s.bottom-(h-r),v=s.left+a,k=s.right-(l-a);i=y0(i,v,k),o=y0(o,p,g)}return{x:i,y:o}}_updatePointerDirectionDelta(e){let{x:t,y:i}=e,o=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-a.x),s=Math.abs(i-a.y);return r>this._config.pointerDirectionChangeThreshold&&(o.x=t>a.x?1:-1,a.x=t),s>this._config.pointerDirectionChangeThreshold&&(o.y=i>a.y?1:-1,a.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,ca(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,dc),e.removeEventListener("touchstart",this._pointerDown,b0),e.removeEventListener("dragstart",this._nativeDragStart,dc)}_applyRootElementTransform(e,t){let i=1/this.scale,o=fc(e*i,t*i),a=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=a.transform&&a.transform!="none"?a.transform:""),a.transform=uc(o,this._initialTransform)}_applyPreviewTransform(e,t){let i=this._previewTemplate?.template?void 0:this._initialTransform,o=fc(e,t);this._preview.setTransform(uc(o,i))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),o=this._boundaryElement.getBoundingClientRect();if(o.width===0&&o.height===0||i.width===0&&i.height===0)return;let a=o.left-i.left,r=i.right-o.right,s=o.top-i.top,l=i.bottom-o.bottom;o.width>i.width?(a>0&&(e+=a),r>0&&(e-=r)):e=0,o.height>i.height?(s>0&&(t+=s),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:hr(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let i=Da(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&mr(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Wr(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return un(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function y0(n,e,t){return Math.max(e,Math.min(t,n))}function hr(n){return n.type[0]==="t"}function k0(n){n.preventDefault()}function bc(n,e,t){let i=gc(e,n.length-1),o=gc(t,n.length-1);if(i===o)return;let a=n[i],r=o<i?-1:1;for(let s=i;s!==o;s+=r)n[s]=n[s+r];n[o]=a}function D0(n,e,t,i){let o=gc(t,n.length-1),a=gc(i,e.length);n.length&&e.splice(a,0,n.splice(o,1)[0])}function gc(n,e){return Math.max(0,Math.min(e,n))}var _c=class{constructor(e){this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,o){let a=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,t,i,o);if(r===-1&&a.length>0)return null;let s=this.orientation==="horizontal",l=a.findIndex(P=>P.drag===e),h=a[r],p=a[l].clientRect,g=h.clientRect,v=l>r?1:-1,k=this._getItemOffsetPx(p,g,v),x=this._getSiblingOffsetPx(l,a,v),w=a.slice();return bc(a,l,r),a.forEach((P,D)=>{if(w[D]===P)return;let E=P.drag===e,F=E?k:x,R=E?e.getPlaceholderElement():P.drag.getRootElement();P.offset+=F;let A=Math.round(P.offset*(1/P.drag.scale));s?(R.style.transform=uc(`translate3d(${A}px, 0, 0)`,P.initialTransform),mr(P.clientRect,0,F)):(R.style.transform=uc(`translate3d(0, ${A}px, 0)`,P.initialTransform),mr(P.clientRect,F,0))}),this._previousSwap.overlaps=Rd(g,t,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=s?o.x:o.y,{previousIndex:l,currentIndex:r}}enter(e,t,i,o){let a=o==null||o<0?this._getItemIndexFromPointerPosition(e,t,i):o,r=this._activeDraggables,s=r.indexOf(e),l=e.getPlaceholderElement(),h=r[a];if(h===e&&(h=r[a+1]),!h&&(a==null||a===-1||a<r.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(h=r[0]),s>-1&&r.splice(s,1),h&&!this._dragDropRegistry.isDragging(h)){let p=h.getRootElement();p.parentElement.insertBefore(l,p),r.splice(a,0,e)}else this._element.appendChild(l),r.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let i=this._itemPositions.find(o=>o.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{mr(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:zd(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){let o=this.orientation==="horizontal",a=o?t.left-e.left:t.top-e.top;return i===-1&&(a+=o?t.width-e.width:t.height-e.height),a}_getSiblingOffsetPx(e,t,i){let o=this.orientation==="horizontal",a=t[e].clientRect,r=t[e+i*-1],s=a[o?"width":"height"]*i;if(r){let l=o?"left":"top",h=o?"right":"bottom";i===-1?s-=r.clientRect[l]-a[h]:s+=a[l]-r.clientRect[h]}return s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,o=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let r=i[i.length-1].clientRect;return o?e>=r.right:t>=r.bottom}else{let r=i[0].clientRect;return o?e<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(e,t,i,o){let a=this.orientation==="horizontal",r=this._itemPositions.findIndex(({drag:s,clientRect:l})=>{if(s===e)return!1;if(o){let h=a?o.x:o.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return a?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return r===-1||!this._sortPredicate(r,e)?-1:r}},Fd=class{constructor(e,t){this._document=e,this._dragDropRegistry=t,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){let o=t[i];this._relatedNodes.push([o,o.nextSibling])}this.withItems(e)}sort(e,t,i,o){let a=this._getItemIndexFromPointerPosition(e,t,i),r=this._previousSwap;if(a===-1||this._activeItems[a]===e)return null;let s=this._activeItems[a];if(r.drag===s&&r.overlaps&&r.deltaX===o.x&&r.deltaY===o.y)return null;let l=this.getItemIndex(e),h=e.getPlaceholderElement(),p=s.getRootElement();a>l?p.after(h):p.before(h),bc(this._activeItems,l,a);let g=this._getRootNode().elementFromPoint(t,i);return r.deltaX=o.x,r.deltaY=o.y,r.drag=s,r.overlaps=p===g||p.contains(g),{previousIndex:l,currentIndex:a}}enter(e,t,i,o){let a=o==null||o<0?this._getItemIndexFromPointerPosition(e,t,i):o;a===-1&&(a=this._getClosestItemIndexToPointer(e,t,i));let r=this._activeItems[a],s=this._activeItems.indexOf(e);s>-1&&this._activeItems.splice(s,1),r&&!this._dragDropRegistry.isDragging(r)?(this._activeItems.splice(a,0,e),r.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[o,a]=this._relatedNodes[i];o.parentNode===e&&o.nextSibling!==a&&(a===null?e.appendChild(o):a.parentNode===e&&e.insertBefore(o,a))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){let o=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),a=o?this._activeItems.findIndex(r=>{let s=r.getRootElement();return o===s||s.contains(o)}):-1;return a===-1||!this._sortPredicate(a,e)?-1:a}_getRootNode(){return this._rootNode||(this._rootNode=Wr(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let o=1/0,a=-1;for(let r=0;r<this._activeItems.length;r++){let s=this._activeItems[r];if(s!==e){let{x:l,y:h}=s.getRootElement().getBoundingClientRect(),p=Math.hypot(t-l,i-h);p<o&&(o=p,a=r)}}return a}},C0=.05,I0=.05,hi=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(hi||{}),Re=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(Re||{}),Nd=class{constructor(e,t,i,o,a){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new lt,this.entered=new lt,this.exited=new lt,this.dropped=new lt,this.sorted=new lt,this.receivingStarted=new lt,this.receivingStopped=new lt,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=xi.EMPTY,this._verticalScrollDirection=hi.NONE,this._horizontalScrollDirection=Re.NONE,this._stopScrollTimers=new lt,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),Er(0,Vh).pipe($e(this._stopScrollTimers)).subscribe(()=>{let s=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===hi.UP?s.scrollBy(0,-l):this._verticalScrollDirection===hi.DOWN&&s.scrollBy(0,l),this._horizontalScrollDirection===Re.LEFT?s.scrollBy(-l,0):this._horizontalScrollDirection===Re.RIGHT&&s.scrollBy(l,0)})};let r=this.element=un(e);this._document=i,this.withOrientation("vertical").withElementContainer(r),t.registerDropContainer(this),this._parentPositions=new pc(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,o){this._draggingStarted(),o==null&&this.sortingDisabled&&(o=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,o),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,o,a,r,s,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:a,distance:r,dropPoint:s,event:l})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>e.indexOf(o)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof _c&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new Fd(this._document,this._dragDropRegistry);else{let t=new _c(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=un(this.element),i=this._scrollableElements.indexOf(this._container),o=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),o>-1&&this._scrollableElements.splice(o,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,o){if(this.sortingDisabled||!this._domRect||!p0(this._domRect,C0,t,i))return;let a=this._sortStrategy.sort(e,t,i,o);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,o=hi.NONE,a=Re.NONE;if(this._parentPositions.positions.forEach((r,s)=>{s===this._document||!r.clientRect||i||p0(r.clientRect,C0,e,t)&&([o,a]=qD(s,r.clientRect,this._direction,e,t),(o||a)&&(i=s))}),!o&&!a){let{width:r,height:s}=this._viewportRuler.getViewportSize(),l={width:r,height:s,top:0,right:r,bottom:s,left:0};o=O0(l,t),a=T0(l,e),i=window}i&&(o!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=a,this._scrollNode=i,(o||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return this._domRect!=null&&Rd(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(o=>o._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!Rd(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;let o=this._getShadowRoot().elementFromPoint(t,i);return o?o===this._container||this._container.contains(o):!1}_startReceiving(e,t){let i=this._activeSiblings;!i.has(e)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Wr(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function O0(n,e){let{top:t,bottom:i,height:o}=n,a=o*I0;return e>=t-a&&e<=t+a?hi.UP:e>=i-a&&e<=i+a?hi.DOWN:hi.NONE}function T0(n,e){let{left:t,right:i,width:o}=n,a=o*I0;return e>=t-a&&e<=t+a?Re.LEFT:e>=i-a&&e<=i+a?Re.RIGHT:Re.NONE}function qD(n,e,t,i,o){let a=O0(e,o),r=T0(e,i),s=hi.NONE,l=Re.NONE;if(a){let h=n.scrollTop;a===hi.UP?h>0&&(s=hi.UP):n.scrollHeight-h>n.clientHeight&&(s=hi.DOWN)}if(r){let h=n.scrollLeft;t==="rtl"?r===Re.RIGHT?h<0&&(l=Re.RIGHT):n.scrollWidth+h>n.clientWidth&&(l=Re.LEFT):r===Re.LEFT?h>0&&(l=Re.LEFT):n.scrollWidth-h>n.clientWidth&&(l=Re.RIGHT)}return[s,l]}var hc=Un({passive:!1,capture:!0}),mc=new Set,XD=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[Q],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}}return n})(),KD=(()=>{class n{constructor(t,i){this._ngZone=t,this._appRef=_e(Br),this._environmentInjector=_e(jr),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=nl([]),this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new lt,this.pointerUp=new lt,this.scroll=new lt,this._preventDefaultWhileDragging=o=>{this._activeDragInstances().length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,hc)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,hc)}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._loadResets(),this._activeDragInstances.update(o=>[...o,t]),this._activeDragInstances().length===1)){let o=i.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:hc}),o||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:hc}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,r)=>{this._document.addEventListener(r,a.handler,a.options)})})}}stopDragging(t){this._activeDragInstances.update(i=>{let o=i.indexOf(t);return o>-1?(i.splice(o,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this.scroll];return t&&t!==this._document&&i.push(new Qc(o=>this._ngZone.runOutsideAngular(()=>{let r=s=>{this._activeDragInstances().length&&o.next(s)};return t.addEventListener("scroll",r,!0),()=>{t.removeEventListener("scroll",r,!0)}}))),mo(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}_loadResets(){if(!mc.has(this._appRef)){mc.add(this._appRef);let t=Vr(XD,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{mc.delete(this._appRef),mc.size===0&&t.destroy()})}}static{this.\u0275fac=function(i){return new(i||n)(me(De),me(oi))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZD={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Vd=(()=>{class n{constructor(t,i,o,a){this._document=t,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a}createDrag(t,i=ZD){return new jd(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Nd(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(i){return new(i||n)(me(oi),me(De),me(Fm),me(KD))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),w0=new St("CDK_DRAG_PARENT");var QD=new St("CdkDragHandle");var E0=new St("CDK_DRAG_CONFIG"),JD="cdk-drag",A0=new St("CdkDropList"),R0=(()=>{class n{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,i,o,a,r,s,l,h,p,g,v){this.element=t,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=p,this._selfHandle=g,this._parentDrag=v,this._destroyed=new lt,this._handles=new ho([]),this.scale=1,this.started=new mt,this.released=new mt,this.ended=new mt,this.entered=new mt,this.exited=new mt,this.dropped=new mt,this.moved=new Qc(k=>{let x=this._dragRef.moved.pipe(Yh(w=>({source:this,pointerPosition:w.pointerPosition,event:w.event,delta:w.delta,distance:w.distance}))).subscribe(k);return()=>{x.unsubscribe()}}),this._injector=_e(wa),this._dragRef=h.createDrag(t,{dragStartThreshold:s&&s.dragStartThreshold!=null?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&s.pointerDirectionChangeThreshold!=null?s.pointerDirectionChangeThreshold:5,zIndex:s?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),s&&this._assignDefaults(s),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe($e(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){Sa(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let i=t.rootElementSelector,o=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){let i=this._handles.getValue(),o=i.indexOf(t);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):un(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,o=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof o=="object"&&o?o:xo(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(Rr(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(JD)){t.withParent(n._dragInstances.find(o=>o.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){let{lockAxis:i,dragStartDelay:o,constrainPosition:a,previewClass:r,boundaryElement:s,draggingDisabled:l,rootElementSelector:h,previewContainer:p}=t;this.disabled=l??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),r&&(this.previewClass=r),s&&(this.boundaryElement=s),h&&(this.rootElementSelector=h),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.pipe(Gh(t=>{let i=t.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Lr(t=>mo(...t.map(i=>i._stateChanges.pipe(uo(i))))),$e(this._destroyed)).subscribe(t=>{let i=this._dragRef,o=t.element.nativeElement;t.disabled?i.disableHandle(o):i.enableHandle(o)})}static{this.\u0275fac=function(i){return new(i||n)(I(se),I(A0,12),I(oi),I(De),I(fo),I(E0,8),I(Ia,8),I(Vd),I(ne),I(QD,10),I(w0,12))}}static{this.\u0275dir=Ht({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){i&2&&ft("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Mt],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",ni]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Xt([{provide:w0,useExisting:n}]),pe,fi]})}}return n})(),M0=new St("CdkDropListGroup");var t2=0,L0=(()=>{class n{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,i,o,a,r,s,l){this.element=t,this._changeDetectorRef=o,this._scrollDispatcher=a,this._dir=r,this._group=s,this._destroyed=new lt,this.connectedTo=[],this.id=`cdk-drop-list-${t2++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new mt,this.entered=new mt,this.exited=new mt,this.sorted=new mt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(h,p)=>this.enterPredicate(h.data,p.data),this._dropListRef.sortPredicate=(h,p,g)=>this.sortPredicate(h,p.data,g.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),s&&s._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(uo(this._dir.value),$e(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{let i=Cm(this.connectedTo).map(o=>{if(typeof o=="string"){let a=n._dropLists.find(r=>r.id===o);return a}return o});if(this._group&&this._group._items.forEach(o=>{i.indexOf(o)===-1&&i.push(o)}),!this._scrollableParentsResolved){let o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(a=>a.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let o=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(o)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=xo(this.autoScrollStep,2),t.connectedTo(i.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),mo(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:i,draggingDisabled:o,sortingDisabled:a,listAutoScrollDisabled:r,listOrientation:s}=t;this.disabled=o??!1,this.sortingDisabled=a??!1,this.autoScrollDisabled=r??!1,this.orientation=s||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static{this.\u0275fac=function(i){return new(i||n)(I(se),I(Vd),I(ne),I(Kr),I(Ia,8),I(M0,12),I(E0,8))}}static{this.\u0275dir=Ht({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,o){i&2&&(Ie("id",o.id),ft("cdk-drop-list-disabled",o.disabled)("cdk-drop-list-dragging",o._dropListRef.isDragging())("cdk-drop-list-receiving",o._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Mt],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Mt],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Mt],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[Xt([{provide:M0,useValue:void 0},{provide:A0,useExisting:n}]),pe]})}}return n})();var j0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({providers:[Vd],imports:[Zr]})}}return n})();var i2=["*"];var n2=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],o2=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],a2=new St("MAT_CARD_CONFIG"),F0=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static{this.\u0275fac=function(i){return new(i||n)(I(a2,8))}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,o){i&2&&ft("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Q],ngContentSelectors:i2,decls:1,vars:0,template:function(i,o){i&1&&(Ci(),be(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return n})(),N0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ht({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}}return n})();var z0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Ht({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return n})();var B0=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[Q],ngContentSelectors:o2,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,o){i&1&&(Ci(n2),be(0),f(1,"div",0),be(2,1),_(),be(3,2))},encapsulation:2,changeDetection:0})}}return n})();var la=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({imports:[Zt,dt,Zt]})}}return n})();function s2(n,e){if(n&1){let t=K();f(0,"div",5),N("click",function(){let o=L(t).$implicit,a=O(2);return j(a.onTaskClick(o))}),f(1,"h4",6),y(2),_(),f(3,"p",7),y(4),_(),f(5,"div",8)(6,"span",9),y(7),_()()()}if(n&2){let t=e.$implicit,i=O(2);S("ngClass",i.getTaskBorderClass(t.priority)),C(2),it(t.title),C(),S("title",t.description),C(),W(" ",t.description," "),C(2),S("ngClass",i.getTaskPriorityClass(t.priority)),C(),W(" ",t.priority," ")}}function c2(n,e){if(n&1){let t=K();f(0,"div",2),N("cdkDropListDropped",function(o){L(t);let a=O();return j(a.drop(o))}),f(1,"h3",3),y(2),_(),B(3,s2,8,6,"div",4),_()}if(n&2){let t=e.$implicit,i=O();S("ngClass",i.getColumnClass(t.id))("cdkDropListData",t.tasks)("id",t.id)("cdkDropListConnectedTo",i.getConnectedList()),C(2),it(t.title),C(),S("ngForOf",t.tasks)}}var pr=class n{constructor(e,t,i){this.router=e;this.projectService=t;this.snackBar=i}_tasks=[];set tasks(e){this._tasks=e,this.distributeTasksToColumns()}get tasks(){return this._tasks}projectId;isProjectCreator=!1;taskMoved=new mt;taskClicked=new mt;columns=[{id:"not-started",title:"Not Started",tasks:[]},{id:"in-progress",title:"In Progress",tasks:[]},{id:"stuck",title:"Stuck",tasks:[]},{id:"done",title:"Done",tasks:[]}];ngOnInit(){this.distributeTasksToColumns()}distributeTasksToColumns(){this.columns.forEach(e=>e.tasks=[]),this.tasks.forEach(e=>{let t=this.columns.find(i=>i.title.toLowerCase()===e.status.toLowerCase());t&&t.tasks.push(e)})}drop(e){if(!this.isProjectCreator){this.snackBar.open("Only project creator can move tasks","Close",{duration:3e3,panelClass:["error-snackbar"],horizontalPosition:"center",verticalPosition:"bottom"});return}if(e.previousContainer===e.container)bc(e.container.data,e.previousIndex,e.currentIndex);else{let t=e.previousContainer.data[e.previousIndex],i=this.getStatusFromColumnId(e.container.id);t.status!==i&&(D0(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex),this.taskMoved.emit({task:t,newStatus:i}))}}getStatusFromColumnId(e){let t=this.columns.find(i=>i.id===e);return t?t.title:""}onTaskClick(e){this.taskClicked.emit(e)}getConnectedList(){return this.columns.map(e=>e.id)}getColumnClass(e){let t="dark:border-opacity-50";switch(e){case"not-started":return`${t} bg-gray-50 dark:bg-gray-900 border-t-4 border-gray-300 dark:border-gray-600`;case"in-progress":return`${t} bg-blue-50 dark:bg-blue-900/30 border-t-4 border-blue-400 dark:border-blue-500`;case"stuck":return`${t} bg-red-50 dark:bg-red-900/30 border-t-4 border-red-400 dark:border-red-500`;case"done":return`${t} bg-green-50 dark:bg-green-900/30 border-t-4 border-green-400 dark:border-green-500`;default:return`${t} bg-gray-50 dark:bg-gray-900`}}getTaskBorderClass(e){switch(e.toLowerCase()){case"critical":return"border-purple-500";case"high":return"border-red-500";case"medium":return"border-yellow-500";case"low":return"border-green-500";default:return"border-gray-300"}}getTaskPriorityClass(e){switch(e.toLowerCase()){case"critical":return"bg-purple-600 text-white dark:bg-purple-700";case"high":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100";case"low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-100"}}static \u0275fac=function(t){return new(t||n)(I(Wt),I(Ve),I(vn))};static \u0275cmp=Z({type:n,selectors:[["app-kanban-board"]],inputs:{tasks:"tasks",projectId:"projectId",isProjectCreator:"isProjectCreator"},outputs:{taskMoved:"taskMoved",taskClicked:"taskClicked"},standalone:!0,features:[Q],decls:2,vars:1,consts:[[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["class","p-4 rounded-lg shadow","cdkDropList","",3,"ngClass","cdkDropListData","id","cdkDropListConnectedTo","cdkDropListDropped",4,"ngFor","ngForOf"],["cdkDropList","",1,"p-4","rounded-lg","shadow",3,"cdkDropListDropped","ngClass","cdkDropListData","id","cdkDropListConnectedTo"],[1,"text-lg","font-semibold","mb-4","text-gray-700","dark:text-gray-200"],["cdkDrag","","class","bg-white dark:bg-gray-800 p-4 rounded shadow-sm mb-3 cursor-pointer hover:shadow-md transition-shadow duration-200 border-l-4",3,"ngClass","click",4,"ngFor","ngForOf"],["cdkDrag","",1,"bg-white","dark:bg-gray-800","p-4","rounded","shadow-sm","mb-3","cursor-pointer","hover:shadow-md","transition-shadow","duration-200","border-l-4",3,"click","ngClass"],[1,"font-medium","mb-2","text-gray-800","dark:text-gray-100"],[1,"text-sm","text-gray-600","dark:text-gray-300","mb-2","task-description",3,"title"],[1,"flex","justify-end","items-center","text-xs"],[1,"px-2","py-1","rounded","font-medium",3,"ngClass"]],template:function(t,i){t&1&&(f(0,"div",0),B(1,c2,4,6,"div",1),_()),t&2&&(C(),S("ngForOf",i.columns))},dependencies:[dt,ye,Lt,j0,L0,R0,la,xn],styles:['.kanban-board[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.kanban-column[_ngcontent-%COMP%]{width:200px;min-height:300px;border:1px solid #e5e7eb;padding:10px;box-shadow:0 2px 4px #0000000d}.dark[_ngcontent-%COMP%]   .kanban-column[_ngcontent-%COMP%]{border-color:#4b5563;box-shadow:0 2px 4px #0003}mat-card[_ngcontent-%COMP%]{margin-bottom:10px;cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.dark[_ngcontent-%COMP%]   .cdk-drag-preview[_ngcontent-%COMP%]{background:#1f2937;color:#f3f4f6}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.column-drop-zone[_ngcontent-%COMP%]{transition:background-color .2s ease}.column-drop-zone.cdk-drop-list-dragging[_ngcontent-%COMP%]{background-color:#0000000a}.dark[_ngcontent-%COMP%]   .column-drop-zone.cdk-drop-list-dragging[_ngcontent-%COMP%]{background-color:#ffffff0a}.line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;display:-moz-box;display:box;-webkit-line-clamp:3;-moz-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.task-description[_ngcontent-%COMP%]{display:-webkit-box;display:-moz-box;display:box;-webkit-line-clamp:3;-moz-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;white-space:pre-wrap;max-height:4.5em}.task-description[_ngcontent-%COMP%]:after{content:"...";position:absolute;right:0;bottom:0;background:#fff;padding-left:.25em}.dark[_ngcontent-%COMP%]   .task-description[_ngcontent-%COMP%]:after{background:#1f2937}@supports not ((-webkit-line-clamp: 3) or (line-clamp: 3)){.task-description[_ngcontent-%COMP%]{position:relative;max-height:4.5em;padding-right:1em}.task-description[_ngcontent-%COMP%]:after{content:"...";position:absolute;right:0;bottom:0;background:#fff;padding-left:.25em}}:is()   .bg-white[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is()   .text-gray-800[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}:is()   .text-gray-700[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is()   .text-gray-600[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is()   .bg-gray-50[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}:is()   .bg-blue-50[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(30 58 138 / var(--tw-bg-opacity))}:is()   .bg-red-50[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity))}:is()   .bg-green-50[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(20 83 45 / var(--tw-bg-opacity))}:is()   .column-drop-zone.cdk-drop-list-dragging[_ngcontent-%COMP%]{background-color:#ffffff0a}:is()   .task-description[_ngcontent-%COMP%]:after{background:#1f2937}']})};function l2(n,e){if(n&1){let t=K();f(0,"button",13),N("click",function(){L(t);let o=O().$implicit,a=O();return j(a.onRemoveMember(o))}),f(1,"mat-icon"),y(2,"delete"),_()()}}function d2(n,e){n&1&&(f(0,"span",14),y(1,"Creator"),_())}function h2(n,e){if(n&1&&(f(0,"li",7)(1,"div",8),U(2,"img",9),f(3,"span",10),y(4),_()(),B(5,l2,3,0,"button",11)(6,d2,2,0,"span",12),_()),n&2){let t=e.$implicit,i=O();C(2),cm("src","https://ui-avatars.com/api/?name=",t.username,"&background=random",qe),sm("alt",t.username),C(2),it(t.username),C(),S("ngIf",i.canRemoveMember(t)),C(),S("ngIf",i.isCreator(t))}}function m2(n,e){if(n&1){let t=K();f(0,"div")(1,"mat-form-field",15)(2,"mat-label"),y(3,"Username"),_(),f(4,"input",16),vt("ngModelChange",function(o){L(t);let a=O();return bt(a.newMemberUsername,o)||(a.newMemberUsername=o),j(o)}),_()(),f(5,"div",17)(6,"button",18),N("click",function(){L(t);let o=O();return j(o.onClose())}),y(7," Close "),_(),f(8,"button",19),N("click",function(){L(t);let o=O();return j(o.onAddMember())}),y(9," Add Member "),_()()()}if(n&2){let t=O();C(4),_t("ngModel",t.newMemberUsername),C(4),S("disabled",!t.newMemberUsername)}}function p2(n,e){if(n&1){let t=K();f(0,"div",20)(1,"button",18),N("click",function(){L(t);let o=O();return j(o.onClose())}),y(2," Close "),_()()}}var vc=class n{constructor(e,t){this.dialogRef=e;this.data=t}newMemberUsername="";onClose(){this.dialogRef.close()}onAddMember(){this.newMemberUsername&&this.dialogRef.close({action:"add",username:this.newMemberUsername})}onRemoveMember(e){this.isCurrentUserCreator()&&!this.isCreator(e)&&this.dialogRef.close({action:"remove",memberId:e._id})}isCreator(e){return e._id===this.data.creatorId}isCurrentUserCreator(){return this.data.currentUserId===this.data.creatorId}canRemoveMember(e){return this.isCurrentUserCreator()&&!this.isCreator(e)}static \u0275fac=function(t){return new(t||n)(I(Oi),I(bn))};static \u0275cmp=Z({type:n,selectors:[["app-project-members-dialog"]],standalone:!0,features:[Q],decls:8,vars:3,consts:[[1,"bg-white","p-6","rounded-lg","shadow-md"],[1,"text-2xl","font-bold","text-gray-800","mb-4"],[1,"max-h-60","overflow-y-auto","mb-4"],[1,"divide-y","divide-gray-200"],["class","py-3 flex items-center justify-between",4,"ngFor","ngForOf"],[4,"ngIf"],["class","flex justify-end",4,"ngIf"],[1,"py-3","flex","items-center","justify-between"],[1,"flex","items-center"],[1,"h-10","w-10","rounded-full","bg-gray-300",3,"src","alt"],[1,"ml-3","font-medium","text-gray-900"],["mat-icon-button","","color","warn","class","text-red-500 hover:text-red-700",3,"click",4,"ngIf"],["class","text-sm text-gray-500",4,"ngIf"],["mat-icon-button","","color","warn",1,"text-red-500","hover:text-red-700",3,"click"],[1,"text-sm","text-gray-500"],["appearance","outline",1,"w-full","mb-4","custom-form-field"],["matInput","","placeholder","Enter username",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-2"],["mat-button","",1,"text-gray-600","hover:bg-gray-100",3,"click"],["mat-raised-button","","color","primary",1,"bg-blue-500","text-white","hover:bg-blue-600",3,"click","disabled"],[1,"flex","justify-end"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"h2",1),y(2,"Project Members"),_(),f(3,"div",2)(4,"ul",3),B(5,h2,7,6,"li",4),_()(),B(6,m2,10,2,"div",5)(7,p2,3,0,"div",6),_()),t&2&&(C(5),S("ngForOf",i.data.members),C(),S("ngIf",i.isCurrentUserCreator()),C(),S("ngIf",!i.isCurrentUserCreator()))},dependencies:[dt,Lt,yt,ri,_n,jt,ce,Fe,we,Ce,ze,Be,si,Qt,le,de,Ne,Ut,Yt],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:400px}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}  .custom-form-field .mdc-notched-outline__leading,   .custom-form-field .mdc-notched-outline__notch,   .custom-form-field .mdc-notched-outline__trailing{border-color:transparent!important}  .custom-form-field .mat-mdc-text-field-wrapper{background-color:#f3f4f6;border-radius:.375rem}  .custom-form-field .mat-mdc-form-field-flex{padding-left:.75rem;padding-right:.75rem}:is()   .custom-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#1f2937}:is()   .mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#9ca3af}:is()   input[_ngcontent-%COMP%]{color:#d1d5db}:is()   .bg-white[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is()   :is(.text-gray-800[_ngcontent-%COMP%], .text-gray-900[_ngcontent-%COMP%]){--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}:is()   :is(.text-gray-600[_ngcontent-%COMP%], .text-gray-500[_ngcontent-%COMP%]){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is()   .divide-gray-200[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]) > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(55 65 81 / var(--tw-divide-opacity))}:is()   .hover\\:bg-gray-100[_ngcontent-%COMP%]:hover:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}"]})};var u2=new St("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var xc=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=zt({type:n})}static{this.\u0275inj=Nt({providers:[Im,{provide:u2,useValue:{separatorKeyCodes:[13]}}],imports:[Zt,Om,Zt]})}}return n})();function f2(n,e){n&1&&(f(0,"div",25),U(1,"mat-spinner",26),_())}function g2(n,e){if(n&1&&(f(0,"div",27)(1,"div",28),U(2,"img",29),f(3,"span",30),y(4),_()(),f(5,"span",31),y(6,"Member"),_()()),n&2){let t=e.$implicit;C(2),S("src","https://ui-avatars.com/api/?name="+t.username+"&background=random",qe)("alt",t.username),C(2),it(t.username)}}function _2(n,e){n&1&&(f(0,"div",32),y(1," No members assigned "),_())}var yc=class n{constructor(e,t,i,o){this.dialogRef=e;this.data=t;this.router=i;this.projectService=o}isLoading=!0;taskDetails;ngOnInit(){this.loadTaskDetails()}loadTaskDetails(){this.isLoading=!0,this.projectService.getTaskDetails(this.data.projectId,this.data.task._id).subscribe({next:e=>{this.taskDetails=e,this.isLoading=!1},error:e=>{console.error("Error loading task details:",e),this.isLoading=!1}})}close(){this.dialogRef.close()}viewFullDetails(){this.dialogRef.close(),this.router.navigate(["/projects",this.data.projectId,"tasks",this.data.task._id])}getStatusClass(e){switch(e){case"Not Started":return"bg-gray-500 text-gray-100";case"In Progress":return"bg-blue-500 text-gray-100";case"Stuck":return"bg-red-500 text-gray-100";case"Done":return"bg-green-500 text-gray-100";default:return"bg-gray-500 text-gray-100"}}getPriorityClass(e){switch(e){case"low":return"bg-green-500 text-gray-100";case"medium":return"bg-yellow-500 text-gray-900";case"high":return"bg-orange-500 text-gray-100";case"critical":return"bg-red-500 text-gray-100";default:return"bg-gray-500 text-gray-100"}}getAssignedMembers(){let e=this.taskDetails||this.data.task;return!e||!e.assignedTo?[]:e.assignedTo.map(t=>typeof t=="object"&&t!==null?t:this.data.projectMembers.find(o=>o._id===t)||{_id:t,username:"Unknown User"})}static \u0275fac=function(t){return new(t||n)(I(Oi),I(bn),I(Wt),I(Ve))};static \u0275cmp=Z({type:n,selectors:[["app-task-details-dialog"]],standalone:!0,features:[Q],decls:52,vars:23,consts:[[1,"task-details-dialog","w-full","max-w-3xl","mx-auto","overflow-y-auto","bg-white","dark:bg-gray-800"],["class","absolute inset-0 bg-white dark:bg-gray-800 bg-opacity-90 dark:bg-opacity-90 z-50 flex items-center justify-center",4,"ngIf"],[1,"sticky","top-0","bg-white","dark:bg-gray-800","z-10","p-4","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","justify-between","items-start","gap-4"],[1,"flex-1","min-w-0"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-800","dark:text-gray-100","mb-2","truncate"],[1,"flex","flex-wrap","items-center","gap-2"],[1,"px-2","sm:px-3","py-1","rounded-full","text-xs","sm:text-sm","font-semibold","whitespace-nowrap"],["mat-icon-button","",1,"text-gray-500","dark:text-gray-400","hover:text-gray-700","dark:hover:text-gray-200","flex-shrink-0",3,"click"],[1,"p-4"],[1,"mb-6"],[1,"text-xs","sm:text-sm","font-semibold","text-gray-700","dark:text-gray-300","mb-2","uppercase","tracking-wider"],[1,"bg-gray-50","dark:bg-gray-700","p-3","sm:p-4","rounded-lg"],[1,"text-sm","sm:text-base","text-gray-600","dark:text-gray-300","break-words"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4","sm:gap-6"],[1,"bg-gray-50","dark:bg-gray-700","p-3","sm:p-4","rounded-lg","space-y-2"],[1,"flex","items-center","gap-2"],[1,"text-gray-400","dark:text-gray-500","text-sm"],[1,"text-xs","sm:text-sm","text-gray-600","dark:text-gray-300"],[1,"flex","flex-col","gap-2"],["class","flex items-center justify-between bg-white dark:bg-gray-800 p-2 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-blue-400 dark:hover:border-blue-500 transition-colors",4,"ngFor","ngForOf"],["class","text-gray-500 text-sm italic p-2 text-center",4,"ngIf"],[1,"sticky","bottom-0","bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700","p-4","flex","justify-end","gap-3"],["mat-button","",1,"text-gray-600","dark:text-gray-300","text-sm","sm:text-base",3,"click","disabled"],["mat-raised-button","","color","primary",1,"px-4","sm:px-6","text-sm","sm:text-base","dark:bg-blue-600","dark:text-white","dark:hover:bg-blue-700",3,"click","disabled"],[1,"absolute","inset-0","bg-white","dark:bg-gray-800","bg-opacity-90","dark:bg-opacity-90","z-50","flex","items-center","justify-center"],["diameter","40"],[1,"flex","items-center","justify-between","bg-white","dark:bg-gray-800","p-2","rounded-lg","border","border-gray-200","dark:border-gray-700","hover:border-blue-400","dark:hover:border-blue-500","transition-colors"],[1,"flex","items-center","gap-3"],[1,"w-8","h-8","rounded-full",3,"src","alt"],[1,"text-sm","text-gray-700","dark:text-gray-300","font-medium"],[1,"text-xs","text-gray-500","dark:text-gray-400","bg-gray-100","dark:bg-gray-700","px-2","py-1","rounded"],[1,"text-gray-500","text-sm","italic","p-2","text-center"]],template:function(t,i){t&1&&(f(0,"div",0),B(1,f2,2,0,"div",1),f(2,"div")(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2",5),y(7),_(),f(8,"div",6)(9,"span",7),y(10),_(),f(11,"span",7),y(12),_()()(),f(13,"button",8),N("click",function(){return i.close()}),f(14,"mat-icon"),y(15,"close"),_()()()(),f(16,"div",9)(17,"div",10)(18,"h3",11),y(19," Description "),_(),f(20,"div",12)(21,"p",13),y(22),_()()(),f(23,"div",14)(24,"div")(25,"h3",11),y(26," Timeline "),_(),f(27,"div",15)(28,"div",16)(29,"mat-icon",17),y(30,"calendar_today"),_(),f(31,"span",18),y(32),Kt(33,"date"),_()(),f(34,"div",16)(35,"mat-icon",17),y(36,"event"),_(),f(37,"span",18),y(38),Kt(39,"date"),_()()()(),f(40,"div")(41,"h3",11),y(42," Assigned Members "),_(),f(43,"div",12)(44,"div",19),B(45,g2,7,3,"div",20)(46,_2,2,0,"div",21),_()()()()(),f(47,"div",22)(48,"button",23),N("click",function(){return i.close()}),y(49," Close "),_(),f(50,"button",24),N("click",function(){return i.viewFullDetails()}),y(51," View Full Details "),_()()()()),t&2&&(C(),S("ngIf",i.isLoading),C(),ft("opacity-50",i.isLoading),C(5),W(" ",(i.taskDetails==null?null:i.taskDetails.title)||i.data.task.title," "),C(2),ki(i.getStatusClass((i.taskDetails==null?null:i.taskDetails.status)||i.data.task.status)),C(),W(" ",(i.taskDetails==null?null:i.taskDetails.status)||i.data.task.status," "),C(),ki(i.getPriorityClass((i.taskDetails==null?null:i.taskDetails.priority)||i.data.task.priority)),C(),W(" ",(i.taskDetails==null?null:i.taskDetails.priority)||i.data.task.priority," "),C(10),W(" ",(i.taskDetails==null?null:i.taskDetails.description)||i.data.task.description," "),C(10),W(" Start: ",wi(33,17,(i.taskDetails==null||i.taskDetails.timeline==null?null:i.taskDetails.timeline.start)||(i.data.task.timeline==null?null:i.data.task.timeline.start),"mediumDate")," "),C(6),W(" End: ",wi(39,20,(i.taskDetails==null||i.taskDetails.timeline==null?null:i.taskDetails.timeline.end)||(i.data.task.timeline==null?null:i.data.task.timeline.end),"mediumDate")," "),C(7),S("ngForOf",i.getAssignedMembers()),C(),S("ngIf",i.getAssignedMembers().length===0),C(2),S("disabled",i.isLoading),C(2),S("disabled",i.isLoading))},dependencies:[dt,Lt,yt,ai,ri,jt,ce,Fe,Ut,Yt,xc,Pi,he,ke],styles:["[_nghost-%COMP%]{display:block;max-height:90vh}.task-details-dialog[_ngcontent-%COMP%]{max-height:90vh;display:flex;flex-direction:column;position:relative;min-height:200px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#666}.mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}.dark[_ngcontent-%COMP%]   .task-details-dialog[_ngcontent-%COMP%]   .bg-white[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.dark[_ngcontent-%COMP%]   .task-details-dialog[_ngcontent-%COMP%]   :is(.text-gray-600[_ngcontent-%COMP%], .text-gray-700[_ngcontent-%COMP%]){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}.dark[_ngcontent-%COMP%]   .task-details-dialog[_ngcontent-%COMP%]   .text-gray-400[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.dark[_ngcontent-%COMP%]   .task-details-dialog[_ngcontent-%COMP%]   .bg-gray-100[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}.dark[_ngcontent-%COMP%]   .task-details-dialog[_ngcontent-%COMP%]   .border-gray-200[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}.dark[_ngcontent-%COMP%]   .task-details-dialog[_ngcontent-%COMP%]   .hover\\:border-blue-400[_ngcontent-%COMP%]:hover:hover{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity))}.dark[_ngcontent-%COMP%]   .bg-opacity-90[_ngcontent-%COMP%]{--tw-bg-opacity: .8}@media (max-width: 640px){.task-details-dialog[_ngcontent-%COMP%]{max-height:100vh}}  .mat-spinner circle{stroke:#3b82f6}"]})};var v2=["sidenav"],x2=()=>[5,10,25],y2=()=>({"dark:text-gray-300":!0}),k2=(n,e,t)=>({"bg-red-600":n,"bg-yellow-600":e,"bg-green-600":t});function C2(n,e){n&1&&(f(0,"div",6),U(1,"mat-spinner",7),_())}function w2(n,e){if(n&1){let t=K();f(0,"button",40),N("click",function(){L(t);let o=O(3);return j(o.deleteProject())}),f(1,"mat-icon",15),y(2,"delete"),_()()}}function M2(n,e){if(n&1&&(f(0,"div",27)(1,"h3",28),y(2," Project Progress "),_(),f(3,"div",41)(4,"div",42)(5,"span",43),y(6,"Overall Progress"),_(),f(7,"span",43),y(8),_()(),f(9,"div",44),U(10,"div",45),_()(),f(11,"div",46)(12,"div",47)(13,"p",48),y(14," Total Tasks "),_(),f(15,"p",49),y(16),_()(),f(17,"div",47)(18,"p",48),y(19," Completed Tasks "),_(),f(20,"p",49),y(21),_()()(),f(22,"div",50),U(23,"canvas",51),_()()),n&2){let t=O(3);C(8),W("",t.getCompletionRate(),"%"),C(2),go("width",t.getCompletionRate()+"%"),S("ngClass",dm(9,k2,t.getCompletionRate()<30,t.getCompletionRate()>=30&&t.getCompletionRate()<70,t.getCompletionRate()>=70)),C(6),W(" ",(t.project.tasks==null?null:t.project.tasks.length)||0," "),C(5),W(" ",t.getTaskCountByStatus("Done")," "),C(2),S("data",t.chartData)("options",t.chartOptions)("type","bar")}}function S2(n,e){n&1&&(f(0,"div",52),U(1,"mat-spinner",7),_())}function P2(n,e){n&1&&U(0,"span",67)}function D2(n,e){if(n&1&&(f(0,"li")(1,"div",56),B(2,P2,1,0,"span",57),f(3,"div",58)(4,"div",59),U(5,"img",60),_(),f(6,"div",61)(7,"div")(8,"div",62)(9,"a",63),y(10),_()(),f(11,"div",64),y(12),Kt(13,"date"),_()(),f(14,"div",65),U(15,"p",66),_()()()()()),n&2){let t=e.$implicit,i=e.last,o=O(4);C(2),S("ngIf",!i),C(3),S("src","https://ui-avatars.com/api/?name="+((t.performedBy==null?null:t.performedBy.username)||"User")+"&background=random",qe)("alt",(t.performedBy==null?null:t.performedBy.username)||"User"),C(5),W(" ",(t.performedBy==null?null:t.performedBy.username)||"Unknown User"," "),C(2),W(" ",wi(13,6,t.timestamp,"dd/MM/yyyy HH:mm")," "),C(3),S("innerHTML",o.formatActivityAction(t.action),zr)}}function I2(n,e){if(n&1&&(f(0,"div",53)(1,"ul",54),B(2,D2,16,9,"li",55),_()()),n&2){let t=O(3);C(2),S("ngForOf",t.activityLog)}}function O2(n,e){if(n&1){let t=K();f(0,"div",10)(1,"div",11)(2,"h2",12),y(3),_(),f(4,"div",13)(5,"button",14),N("click",function(){L(t);let o=O(2);return j(o.openEditProjectDialog())}),f(6,"mat-icon",15),y(7,"edit"),_()(),f(8,"button",16),N("click",function(){L(t);let o=O(2);return j(o.openMembersDialog())}),f(9,"mat-icon",15),y(10,"group"),_()(),B(11,w2,3,0,"button",17),_()(),f(12,"p",18),y(13),_(),f(14,"div",19)(15,"p"),y(16),_(),f(17,"p"),y(18),Kt(19,"date"),_()(),f(20,"div",20)(21,"div",21)(22,"h3",22),y(23," Tasks "),_(),f(24,"button",23),N("click",function(){L(t);let o=O(2);return j(o.openCreateTaskDialog())}),f(25,"mat-icon",3),y(26,"add"),_(),y(27," Create Task "),_()(),f(28,"app-kanban-board",24),N("taskMoved",function(o){L(t);let a=O(2);return j(a.onTaskMoved(o))})("taskClicked",function(o){L(t);let a=O(2);return j(a.openTaskDetailsDialog(o))}),_()(),f(29,"div",25),B(30,M2,24,13,"div",26),f(31,"div",27)(32,"h3",28),y(33," Project Summary "),_(),f(34,"ul",29)(35,"li",30)(36,"span"),y(37,"Total Tasks:"),_(),f(38,"span",31),y(39),_()(),f(40,"li",30)(41,"span"),y(42,"In Progress:"),_(),f(43,"span",31),y(44),_()(),f(45,"li",30)(46,"span"),y(47,"Completed:"),_(),f(48,"span",31),y(49),_()(),f(50,"li",30)(51,"span"),y(52,"Team Members:"),_(),f(53,"span",31),y(54),_()(),f(55,"li",30)(56,"span"),y(57,"Project Duration:"),_(),f(58,"span",31),y(59),_()(),f(60,"li",30)(61,"span"),y(62,"Completion Rate:"),_(),f(63,"span",31),y(64),_()()()()(),f(65,"div",32)(66,"button",33),N("click",function(){L(t);let o=O(2);return j(o.toggleActivityLog())}),f(67,"mat-icon",3),y(68),_(),f(69,"span"),y(70),_()()(),f(71,"div",34)(72,"div",35)(73,"h2",36),y(74," Activity Log "),_(),B(75,S2,2,0,"div",37)(76,I2,3,1,"div",38),f(77,"mat-paginator",39),N("page",function(o){L(t);let a=O(2);return j(a.onPageChange(o))}),_()()()()}if(n&2){let t=O(2);C(3),W(" ",t.project.name," "),C(8),S("ngIf",t.isProjectCreator),C(2),W(" ",t.project.description," "),C(3),W("Created by: ",t.getCreatorUsername(),""),C(2),W("Created at: ",gi(19,26,t.project.createdAt),""),C(10),S("tasks",t.project.tasks)("projectId",t.project._id)("isProjectCreator",t.isProjectCreator),C(2),S("ngIf",t.chartData),C(9),it((t.project.tasks==null?null:t.project.tasks.length)||0),C(5),it(t.getTaskCountByStatus("In Progress")),C(5),it(t.getTaskCountByStatus("Done")),C(5),it((t.project.members==null?null:t.project.members.length)||0),C(5),it(t.getProjectDuration()),C(5),W("",t.getCompletionRate(),"%"),C(4),it(t.isActivityLogVisible?"visibility_off":"visibility"),C(2),it(t.isActivityLogVisible?"Hide Activity Log":"Show Activity Log"),C(),ft("hidden",!t.isActivityLogVisible),C(4),S("ngIf",t.isLoadingActivityLog),C(),S("ngIf",!t.isLoadingActivityLog),C(),S("length",t.totalLogs)("pageSize",t.pageSize)("pageSizeOptions",pn(28,x2))("pageIndex",t.currentPage-1)("ngClass",pn(29,y2))}}function T2(n,e){if(n&1&&(f(0,"div",8),B(1,O2,78,30,"div",9),_()),n&2){let t=O();C(),S("ngIf",t.project)}}var kc=class n{constructor(e,t,i,o,a,r,s,l,h,p){this.route=e;this.projectService=t;this.dialog=i;this.snackBar=o;this.router=a;this.sanitizer=r;this.datePipe=s;this.authService=l;this.changeDetectorRef=h;this.themeService=p;this.themeService.darkMode$.subscribe(g=>{this.updateChartTheme(g)})}isLoading=!0;project;error=null;sidebarOpen=!1;editMode=!1;editedProject={name:"",description:""};sidenav;kanbanBoard;activityLog=[];currentPage=1;totalPages=1;totalLogs=0;pageSize=5;currentUser=null;isActivityLogVisible=!1;chartData={labels:["Not Started","In Progress","Stuck","Done"],datasets:[{data:[],backgroundColor:["#D1D5DB","#61A5FA","#F87071","#4BDE80"],borderColor:["#9CA3AF","#3B82F6","#EF4444","#34D399"],borderWidth:1,borderRadius:4,hoverBackgroundColor:["#D1D5DB","#61A5FA","#F87071","#4BDE80"],hoverBorderColor:["#9CA3AF","#3B82F6","#EF4444","#34D399"],hoverBorderWidth:1}]};chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",cornerRadius:4,padding:10}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1},grid:{drawBorder:!1,color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{display:!1}}},animation:{duration:750,easing:"easeInOutQuart"},transitions:{active:{animation:{duration:750}}},hover:{mode:"index",intersect:!1},elements:{bar:{hoverBackgroundColor:["#D1D5DB","#61A5FA","#F87071","#4BDE80"],borderRadius:4}}};chart;isLoadingActivityLog=!1;itemSize=0;isProjectCreator=!1;isChartLoading=!1;ngOnInit(){this.isLoading=!0,this.route.params.subscribe(e=>{let t=e.id;t&&this.projectService.getProjectDetails(t).subscribe({next:i=>{this.project=i;let o=this.authService.getCurrentUserId();this.isProjectCreator=o===i.createdBy._id,this.prepareChartData(),this.isLoading=!1,this.changeDetectorRef.detectChanges()},error:i=>{console.error("Error loading project:",i),this.error="Error loading project details",this.isLoading=!1,this.changeDetectorRef.detectChanges()}})}),this.currentUser={_id:this.authService.getCurrentUserId()??"",username:this.authService.getCurrentUsername()},this.prepareChartData()}getCreatorUsername(){return this.project?.createdBy?typeof this.project.createdBy=="object"?this.project.createdBy.username:this.project.createdBy:"Unknown"}toggleSidebar(){this.sidenav.toggle()}goBack(){this.router.navigate(["/dashboard"])}toggleEditMode(){this.editMode=!this.editMode,this.editMode||(this.editedProject={name:this.project.name,description:this.project.description})}openAddMemberDialog(){this.dialog.open(sc,{width:"250px"}).afterClosed().subscribe(t=>{t&&this.addMemberToProject(t)})}addMemberToProject(e){this.projectService.addMemberToProject(this.project._id,e).subscribe({next:t=>{if(this.project=t,this.snackBar.open("Member added successfully","Close",{duration:3e3}),this.currentUser){let i={action:`Member ${e} added to the project`,performedBy:this.currentUser,timestamp:new Date};this.activityLog.unshift(i),this.activityLog.length>this.pageSize&&this.activityLog.pop(),this.totalLogs++}},error:t=>{console.error("Error adding member:",t),this.snackBar.open("Error adding member","Close",{duration:3e3})}})}openMembersDialog(){this.dialog.open(vc,{width:"300px",data:{members:this.project.members,creatorId:this.project.createdBy._id}}).afterClosed().subscribe(t=>{t&&(t.action==="add"?this.addMemberToProject(t.username):t.action==="remove"&&(t.memberId!==this.project.createdBy._id?this.removeMemberFromProject(t.memberId):this.snackBar.open("Cannot remove the project creator","Close",{duration:3e3})))})}removeMemberFromProject(e){let t=this.project.members.find(o=>o._id===e),i=t?t.username:"Unknown user";this.projectService.removeMemberFromProject(this.project._id,e).subscribe({next:o=>{if(this.project=o,this.snackBar.open("Member removed successfully","Close",{duration:3e3}),this.currentUser){let a={action:`Member ${i} removed from the project`,performedBy:this.currentUser,timestamp:new Date};this.activityLog.unshift(a),this.activityLog.length>this.pageSize&&this.activityLog.pop(),this.totalLogs++}},error:o=>{console.error("Error removing member:",o),this.snackBar.open("Error removing member","Close",{duration:3e3})}})}openEditProjectDialog(){this.dialog.open(np,{width:"300px",data:{name:this.project.name,description:this.project.description}}).afterClosed().subscribe(t=>{t&&this.saveChanges(t)})}saveChanges(e){let t=Le({},this.project);this.projectService.updateProject(this.project._id,e).subscribe({next:i=>{this.project=i,typeof this.project.createdBy=="object"&&this.project.createdBy!==null&&(this.project.createdBy={_id:this.project.createdBy._id,username:this.project.createdBy.username}),this.snackBar.open("Project updated successfully","Close",{duration:3e3});let o=[];if(t.name!==e.name&&o.push(`name changed from "${t.name}" to "${e.name}"`),t.description!==e.description&&o.push(`description changed from "${t.description}" to "${e.description}"`),this.currentUser){let a={action:`Project updated: ${o.join(", ")}`,performedBy:this.currentUser,timestamp:new Date};this.activityLog.unshift(a),this.activityLog.length>this.pageSize&&this.activityLog.pop(),this.totalLogs++}else console.error("Current user information is not available")},error:i=>{console.error("Error updating project:",i),this.snackBar.open("Error updating project","Close",{duration:3e3})}})}openCreateTaskDialog(){this.dialog.open(lc,{width:"500px",data:{members:this.project.members}}).afterClosed().subscribe(t=>{t&&this.createTask(t)})}createTask(e){this.projectService.createTask(this.project._id,e).subscribe({next:t=>{t&&t._id?(this.project.tasks.push(t),this.updateKanbanBoard(),this.snackBar.open("Task created successfully","Close",{duration:3e3}),this.loadActivityLog(1)):this.snackBar.open("Task created, but no _id returned","Close",{duration:3e3})},error:t=>{this.snackBar.open("Error creating task","Close",{duration:3e3})}})}getAssignedUsername(e){let t=this.project.members.find(i=>i._id===e);return t?t.username:"Unassigned"}onTaskMoved(e){if(!this.isProjectCreator){this.snackBar.open("Only project creator can move tasks","Close",{duration:3e3,panelClass:["error-snackbar"]}),this.updateKanbanBoard();return}let{task:t,newStatus:i}=e;this.projectService.updateTaskStatus(this.project._id,t._id,i).subscribe({next:o=>{let a=this.project.tasks.findIndex(r=>r._id===t._id);a!==-1&&(this.project.tasks[a]=Wn(Le(Le({},this.project.tasks[a]),o),{assignedTo:this.project.tasks[a].assignedTo}),this.updateChartData(),this.loadActivityLog(1),this.kanbanBoard&&this.kanbanBoard.distributeTasksToColumns(),this.changeDetectorRef.detectChanges())},error:o=>{console.error("Error updating task status:",o),this.updateKanbanBoard(),this.snackBar.open("Failed to update task status","Close",{duration:3e3,panelClass:["error-snackbar"]})}})}updateKanbanBoard(){this.kanbanBoard&&this.project&&(this.kanbanBoard.tasks=this.project.tasks,this.kanbanBoard.distributeTasksToColumns(),this.updateChartData())}updateChartData(){this.prepareChartData()}prepareChartData(){if(!this.project||!this.project.tasks){console.warn("Project or tasks not loaded yet");return}this.isChartLoading=!0,this.changeDetectorRef.detectChanges();try{let t=["Not Started","In Progress","Stuck","Done"].map(i=>this.project.tasks.filter(o=>o.status===i).length);this.chartData.datasets[0].data=t,this.chart&&this.chart.update()}finally{this.isChartLoading=!1,this.changeDetectorRef.detectChanges()}}loadActivityLog(e=this.currentPage){this.project&&this.project._id&&!this.isLoadingActivityLog&&(this.isLoadingActivityLog=!0,this.changeDetectorRef.detectChanges(),this.projectService.getProjectActivityLog(this.project._id,e,this.pageSize).subscribe({next:t=>{this.activityLog=t.logs,this.currentPage=t.currentPage,this.totalPages=t.totalPages,this.totalLogs=t.totalLogs,this.isLoadingActivityLog=!1,this.changeDetectorRef.detectChanges()},error:t=>{console.error("Error loading activity log:",t),this.isLoadingActivityLog=!1,this.snackBar.open("Error loading activity log","Close",{duration:3e3}),this.changeDetectorRef.detectChanges()}}))}onPageChange(e){this.currentPage=e.pageIndex+1,this.pageSize=e.pageSize,this.loadActivityLog(this.currentPage)}formatActivityAction(e){return e.split(". ").map(o=>{if(o.includes("changed from")){let[a,r]=o.split(" changed from "),[s,l]=r.split(" to ");return`<strong class="text-gray-900 dark:text-gray-100">${a}</strong> changed from <span class="text-red-500 dark:text-red-400">${this.formatDateIfNeeded(s)}</span> to <span class="text-green-500 dark:text-green-400">${this.formatDateIfNeeded(l)}</span>`}else return o.includes("Added members:")?o.replace("Added members:",'<strong class="text-gray-900 dark:text-gray-100">Added members:</strong> <span class="text-green-500 dark:text-green-400">')+"</span>":o.includes("Removed members:")?o.replace("Removed members:",'<strong class="text-gray-900 dark:text-gray-100">Removed members:</strong> <span class="text-red-500 dark:text-red-400">')+"</span>":`<strong class="text-gray-900 dark:text-gray-100">${o}</strong>`}).join("<br>")}formatDateIfNeeded(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)&&this.datePipe.transform(e,"dd/MM/yyyy")||e}toggleActivityLog(){this.isActivityLogVisible=!this.isActivityLogVisible,this.isActivityLogVisible&&(!this.activityLog||this.activityLog.length===0)&&this.loadActivityLog()}getTaskCountByStatus(e){return this.project.tasks.filter(t=>t.status===e).length}getProjectDuration(){let e=new Date(this.project.createdAt);return`${Math.floor((new Date().getTime()-e.getTime())/(1e3*3600*24))} days`}getCompletionRate(){let e=this.getTaskCountByStatus("Done"),t=this.project.tasks.length;return t>0?Math.round(e/t*100):0}getDaysRemaining(){if(!this.project.dueDate)return 0;let e=new Date,i=new Date(this.project.dueDate).getTime()-e.getTime();return Math.ceil(i/(1e3*3600*24))}trackByActivityId(e,t){return t._id}trackByTaskId(e,t){return t._id}openTaskDetailsDialog(e){let t=this.dialog.open(yc,{width:"95vw",maxWidth:"800px",panelClass:"task-details-dialog",data:{task:e,projectId:this.project._id,projectMembers:this.project.members,isProjectCreator:this.isProjectCreator}})}updateChartTheme(e){this.chartOptions||(this.chartOptions={}),this.chartOptions={responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:10,right:10,top:10,bottom:10}},plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:e?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.8)",titleColor:e?"#fff":"#000",bodyColor:e?"#fff":"#000",cornerRadius:4,padding:10}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1,color:e?"#9CA3AF":"#4B5563"},grid:{drawBorder:!1,color:e?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},x:{grid:{display:!1},ticks:{color:e?"#9CA3AF":"#4B5563"}}},animation:{duration:750,easing:"easeInOutQuart"},transitions:{active:{animation:{duration:750}}},hover:{mode:"index",intersect:!1},elements:{bar:{hoverBackgroundColor:["#D1D5DB","#61A5FA","#F87071","#4BDE80"],borderRadius:4}}},this.chart&&this.chart.update()}deleteProject(){this.dialog.open(La,{data:{title:"Delete Project",message:"Are you sure you want to delete this project? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel"}}).afterClosed().subscribe(t=>{t&&this.projectService.deleteProject(this.project._id).subscribe({next:()=>{this.snackBar.open("Project deleted successfully","Close",{duration:3e3}),this.router.navigate(["/dashboard"])},error:i=>{this.snackBar.open("Error deleting project","Close",{duration:3e3})}})})}static \u0275fac=function(t){return new(t||n)(I(vo),I(Ve),I(Po),I(vn),I(Wt),I(Hr),I(ai),I(Jt),I(ne),I(Oo))};static \u0275cmp=Z({type:n,selectors:[["app-project-details"]],viewQuery:function(t,i){if(t&1&&(Xe(v2,5),Xe(pr,5),Xe(rc,5)),t&2){let o;ve(o=xe())&&(i.sidenav=o.first),ve(o=xe())&&(i.kanbanBoard=o.first),ve(o=xe())&&(i.chart=o.first)}},standalone:!0,features:[Xt([ai]),Q],decls:8,vars:2,consts:[[1,"bg-gray-100","dark:bg-gray-900","min-h-screen","p-4","sm:p-6","lg:p-8"],[1,"max-w-7xl","mx-auto"],["mat-button","",1,"mb-4","flex","items-center","text-gray-600","dark:text-gray-300","hover:text-gray-800","dark:hover:text-gray-100",3,"click"],[1,"mr-2"],["class","flex justify-center items-center min-h-screen",4,"ngIf"],["class","container mx-auto px-4 py-8",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen"],["diameter","40"],[1,"container","mx-auto","px-4","py-8"],["class","bg-white dark:bg-gray-800 shadow rounded-lg p-6",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-800","dark:text-gray-100"],[1,"flex","space-x-3"],["mat-mini-fab","","color","primary","matTooltip","Edit Project",1,"action-button","rounded-full",3,"click"],[2,"margin-right","0"],["mat-mini-fab","","color","accent","matTooltip","Manage Members",1,"action-button","rounded-full",3,"click"],["mat-mini-fab","","color","warn","class","action-button rounded-full","matTooltip","Delete Project",3,"click",4,"ngIf"],[1,"text-gray-600","dark:text-gray-300","mb-4"],[1,"flex","justify-between","text-sm","text-gray-500","dark:text-gray-400","mb-6"],[1,"mb-8"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-semibold","text-gray-700","dark:text-gray-200"],["mat-raised-button","","color","primary",3,"click"],[3,"taskMoved","taskClicked","tasks","projectId","isProjectCreator"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-8"],["class","bg-white dark:bg-gray-800 p-6 rounded-lg shadow",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","p-6","rounded-lg","shadow"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-200","mb-4"],[1,"space-y-3","text-gray-600","dark:text-gray-300"],[1,"flex","justify-between"],[1,"font-medium"],[1,"flex","justify-end","mt-6"],["mat-raised-button","","color","primary",1,"flex","items-center","justify-center","space-x-2","px-4","py-2",3,"click"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","overflow-hidden","mt-8"],[1,"p-4","sm:p-6"],[1,"text-xl","sm:text-2xl","font-semibold","text-gray-800","dark:text-gray-100","mb-6"],["class","flex justify-center items-center h-20",4,"ngIf"],["class","flow-root",4,"ngIf"],["aria-label","Select page",1,"bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700",3,"page","length","pageSize","pageSizeOptions","pageIndex","ngClass"],["mat-mini-fab","","color","warn","matTooltip","Delete Project",1,"action-button","rounded-full",3,"click"],[1,"mb-4"],[1,"flex","justify-between","mb-1"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"w-full","bg-gray-200","dark:bg-gray-700","rounded-full","h-2.5"],[1,"h-2.5","rounded-full",3,"ngClass"],[1,"grid","grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","dark:bg-gray-700","p-3","rounded-lg"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"text-lg","font-semibold","text-gray-700","dark:text-gray-200"],[1,"chart-container","h-64"],["baseChart","",3,"data","options","type"],[1,"flex","justify-center","items-center","h-20"],[1,"flow-root"],["role","list",1,"-mb-8"],[4,"ngFor","ngForOf"],[1,"relative","pb-8"],["class","absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden","true",4,"ngIf"],[1,"relative","flex","items-start","space-x-3"],[1,"relative"],[1,"h-10","w-10","rounded-full","bg-gray-400","flex","items-center","justify-center","ring-8","ring-white","dark:ring-gray-800",3,"src","alt"],[1,"min-w-0","flex-1"],[1,"text-sm"],[1,"font-medium","text-gray-900","dark:text-gray-100"],[1,"mt-0.5","text-sm","text-gray-500","dark:text-gray-400"],[1,"mt-2","text-sm","text-gray-700","dark:text-gray-300"],[3,"innerHTML"],["aria-hidden","true",1,"absolute","top-5","left-5","-ml-px","h-full","w-0.5","bg-gray-200","dark:bg-gray-700"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1)(2,"button",2),N("click",function(){return i.goBack()}),f(3,"mat-icon",3),y(4,"arrow_back"),_(),y(5," Back to Dashboard "),_(),B(6,C2,2,0,"div",4)(7,T2,2,1,"div",5),_()()),t&2&&(C(6),S("ngIf",i.isLoading),C(),S("ngIf",!i.isLoading))},dependencies:[dt,ye,Lt,yt,ai,jt,ce,Em,Ut,Yt,Be,we,Qt,xn,_n,pr,ms,ja,r0,rc,Nm,he,ke,Ao,Eo],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:250px}.content[_ngcontent-%COMP%], .project-details-container[_ngcontent-%COMP%]{padding:20px}.back-button[_ngcontent-%COMP%]{margin-bottom:20px}h2[_ngcontent-%COMP%]{margin-bottom:10px}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}button[_ngcontent-%COMP%]{margin-right:10px;margin-bottom:20px}mat-list-item[_ngcontent-%COMP%]{height:auto!important;margin-bottom:16px;padding:16px!important}mat-list-item[_ngcontent-%COMP%]   div[mat-line][_ngcontent-%COMP%]{white-space:normal!important}.mat-mdc-list-item-icon[_ngcontent-%COMP%]{margin-right:16px}mat-icon[_ngcontent-%COMP%]{margin-right:10px}.activity-log-container[_ngcontent-%COMP%]{max-height:1000px;overflow:hidden;transition:max-height .3s ease-out;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.activity-log-container[_ngcontent-%COMP%]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.activity-log-container.hidden[_ngcontent-%COMP%]{max-height:0}.mat-paginator-sticky[_ngcontent-%COMP%]{position:sticky;bottom:0;background-color:#fff;z-index:10;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.mat-paginator-sticky[_ngcontent-%COMP%]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}@media (max-width: 600px){  .mat-paginator-container{justify-content:center;flex-wrap:wrap}  .mat-paginator-range-label{margin:0 10px 10px 0}  .mat-paginator-navigation-previous,   .mat-paginator-navigation-next{margin-top:10px}.edit-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}.edit-button[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]{min-width:0;padding:0 8px;width:36px;height:36px}.edit-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}}.edit-button[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.button-text[_ngcontent-%COMP%]{margin-left:8px}.activity-log-toggle-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:1rem}.activity-log-toggle[_ngcontent-%COMP%]{display:flex;align-items:center}.activity-log-toggle[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{margin-left:8px}@media (max-width: 600px){.activity-log-toggle[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{display:none}.activity-log-toggle[_ngcontent-%COMP%]{min-width:0;padding:0 8px;width:36px;height:36px}.activity-log-toggle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}}.chart-container[_ngcontent-%COMP%]{width:100%;position:relative}.edit-button[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]{transition:all .3s ease}@media (max-width: 768px){.button-text[_ngcontent-%COMP%]{display:none}}.activity-log-viewport[_ngcontent-%COMP%]{height:400px;width:100%}:is()   .mat-mdc-paginator[_ngcontent-%COMP%]{background:#1f2937}:is()   .mat-mdc-paginator-container[_ngcontent-%COMP%]{color:#f3f4f6}:is()   :is(.mat-mdc-paginator-range-label[_ngcontent-%COMP%], .mat-mdc-paginator-page-size-label[_ngcontent-%COMP%], .mat-mdc-paginator-navigation-previous[_ngcontent-%COMP%], .mat-mdc-paginator-navigation-next[_ngcontent-%COMP%]){color:#d1d5db}:is()   .mat-mdc-form-field[_ngcontent-%COMP%]   :is(.mat-mdc-select-value-text[_ngcontent-%COMP%], .mat-mdc-select-arrow[_ngcontent-%COMP%]){color:#d1d5db}:is()   .mat-mdc-select-panel[_ngcontent-%COMP%]{background:#1f2937}:is()   .mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]{--mat-option-label-text-color: #d1d5db;color:#d1d5db!important}:is()   .mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{color:#d1d5db!important}:is()   :is(.mat-mdc-paginator-page-size-label[_ngcontent-%COMP%], .mat-mdc-paginator-range-label[_ngcontent-%COMP%]){color:#d1d5db}:is()   .mat-mdc-paginator-page-size-select[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%]{color:#d1d5db}:is()   .mat-mdc-select-panel[_ngcontent-%COMP%]{--mat-option-label-text-color: #d1d5db;--mat-option-hover-state-layer-color: #374151;--mat-option-focus-state-layer-color: #374151;--mat-option-selected-state-layer-color: #374151}:is()   .mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]:hover:not(.mat-mdc-option-disabled){background:#374151}:is()   .mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option.mat-mdc-option-active[_ngcontent-%COMP%]{background:#374151}:is()   .mat-mdc-select-panel[_ngcontent-%COMP%]   .mat-mdc-option[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{color:#d1d5db}:is()   .mat-mdc-option.mdc-list-item--selected[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: #f3f4f6;background:#374151}:is()   .mat-mdc-option.mdc-list-item--selected[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%]{color:#f3f4f6!important}.mat-paginator-sticky[_ngcontent-%COMP%]{border-top-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.mat-paginator-sticky[_ngcontent-%COMP%]:is(.dark *){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity));--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.mat-paginator-sticky[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:10}.mat-mdc-paginator[_ngcontent-%COMP%]{transition:background-color .2s ease-in-out,color .2s ease-in-out}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}button.mat-raised-button.mat-accent[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}button.mat-raised-button.mat-accent[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity))}:is()   button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}:is()   button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}:is()   button.mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}:is()   button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{box-shadow:0 2px 4px #0000004d}:is()   button.mat-raised-button.mat-accent[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity))}:is()   button.mat-raised-button.mat-accent[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}:is()   button.mat-raised-button.mat-accent[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity))}:is()   button.mat-raised-button.mat-accent[_ngcontent-%COMP%]{box-shadow:0 2px 4px #0000004d}:is()   button.mat-button[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is()   button.mat-button[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}:is()   :is(.edit-button[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is()   :is(.edit-button[_ngcontent-%COMP%]:hover, .members-button[_ngcontent-%COMP%]:hover){--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity))}:is()   :is(.edit-button[_ngcontent-%COMP%], .members-button[_ngcontent-%COMP%]){box-shadow:0 2px 4px #0003}:is()   :is(.edit-button[_ngcontent-%COMP%]:hover, .members-button[_ngcontent-%COMP%]:hover){transform:translateY(-2px);box-shadow:0 4px 6px #0006}.edit-button[_ngcontent-%COMP%]:hover, .members-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px #0000001a}.dark[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .members-button[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px #0000004d}.action-button[_ngcontent-%COMP%]{border-radius:9999px;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;box-shadow:0 2px 4px #0000001a}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px #0003}:is()   .action-button.mat-mini-fab.mat-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}:is()   .action-button.mat-mini-fab.mat-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity))}:is()   .action-button.mat-mini-fab.mat-accent[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity))}:is()   .action-button.mat-mini-fab.mat-accent[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(126 34 206 / var(--tw-bg-opacity))}:is()   .action-button.mat-mini-fab.mat-warn[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}:is()   .action-button.mat-mini-fab.mat-warn[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity))}:is()   .action-button.mat-mini-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity))}:is()   .action-button.mat-mini-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}.action-button.mat-mini-fab[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;padding:0}.action-button.mat-mini-fab.mat-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.action-button.mat-mini-fab.mat-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.action-button.mat-mini-fab.mat-accent[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity))}.action-button.mat-mini-fab.mat-accent[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(147 51 234 / var(--tw-bg-opacity))}.action-button.mat-mini-fab.mat-warn[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity))}.action-button.mat-mini-fab.mat-warn[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity))}.action-button.mat-mini-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.action-button.mat-mini-fab[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin:0}.action-button.mat-mini-fab[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 6px #0003}"],changeDetection:0})};var E2=zh(Yd(),1),V0=zh(Yd(),1),eo=V0.default||E2,Ud=new St("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:A2});function A2(){return{useUtc:!1}}function R2(n,e){let t=Array(n);for(let i=0;i<n;i++)t[i]=e(i);return t}var H0=(()=>{class n extends yo{constructor(t,i){super(),this._options=i,this.setLocale(t||eo.locale())}setLocale(t){super.setLocale(t);let i=eo.localeData(t);this._localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:R2(31,o=>this.createDate(2017,0,o+1).format("D")),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return t=="long"?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return t=="long"?this._localeData.longDaysOfWeek:t=="short"?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,i,o){let a=this._createMoment({year:t,month:i,date:o}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(t,i){return t&&typeof t=="string"?this._createMoment(t,i,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,i){return t=this.clone(t),this.isValid(t),t.format(i)}addCalendarYears(t,i){return this.clone(t).add({years:i})}addCalendarMonths(t,i){return this.clone(t).add({months:i})}addCalendarDays(t,i){return this.clone(t).add({days:i})}toIso8601(t){return this.clone(t).format()}deserialize(t){let i;if(t instanceof Date)i=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if(typeof t=="string"){if(!t)return null;i=this._createMoment(t,eo.ISO_8601).locale(this.locale)}return i&&this.isValid(i)?this._createMoment(i).locale(this.locale):super.deserialize(t)}isDateInstance(t){return eo.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return eo.invalid()}_createMoment(t,i,o){let{strict:a,useUtc:r}=this._options||{};return r?eo.utc(t,i,o,a):eo(t,i,o,a)}static{this.\u0275fac=function(i){return new(i||n)(me(Oa,8),me(Ud,8))}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})();function L2(n,e){if(n&1&&(f(0,"div",28),y(1),_()),n&2){let t=O();C(),W(" ",t.dateError," ")}}function j2(n,e){if(n&1&&(f(0,"mat-option",29),y(1),_()),n&2){let t=e.$implicit;S("value",t._id),C(),W(" ",t.username," ")}}var F2={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Cc=class n{constructor(e,t,i,o){this.dialogRef=e;this.data=t;this.projectService=i;this.dateAdapter=o;this.dateAdapter.setLocale("en-GB")}projectMembers=[];dateError="";ngOnInit(){this.loadProjectMembers()}loadProjectMembers(){this.projectService.getProjectDetails(this.data.projectId).subscribe(e=>{this.projectMembers=e.members,this.data.assignedTo=(this.data.assignedTo||[]).filter(t=>t!=null).map(t=>typeof t=="object"&&t._id?t._id:typeof t=="string"?t:null).filter(t=>t!=null)},e=>{console.error("Error loading project members:",e)})}validateDates(){if(!this.data.timeline.start||!this.data.timeline.end)return this.dateError="Both start and end dates are required",!1;let e=new Date(this.data.timeline.start),t=new Date(this.data.timeline.end);return new Date().setHours(0,0,0,0),isNaN(e.getTime())||isNaN(t.getTime())?(this.dateError="Invalid date format",!1):t<e?(this.dateError="End date cannot be before start date",!1):(this.dateError="",!0)}onNoClick(){this.dialogRef.close()}onSaveClick(){this.validateDates()&&this.dialogRef.close(this.data)}static \u0275fac=function(t){return new(t||n)(I(Oi),I(bn),I(Ve),I(yo))};static \u0275cmp=Z({type:n,selectors:[["app-edit-task-dialog"]],standalone:!0,features:[Xt([{provide:cl,useValue:F2},{provide:yo,useClass:H0,deps:[Oa]},{provide:Ud,useValue:{useUtc:!0}},{provide:Oa,useValue:"en-GB"}]),Q],decls:77,vars:13,consts:[["startPicker",""],["endPicker",""],[1,"edit-task-dialog"],["mat-dialog-title","",1,"dialog-title"],["mat-dialog-content","",1,"dialog-content"],["appearance","fill",1,"full-width"],["matInput","","placeholder","Enter task title",3,"ngModelChange","ngModel"],["matSuffix",""],["matInput","","rows","3","placeholder","Enter task description",3,"ngModelChange","ngModel"],[1,"form-row"],["appearance","fill",1,"half-width"],[3,"ngModelChange","ngModel"],["value","Not Started"],["value","In Progress"],["value","Stuck"],["value","Done"],["value","low"],["value","medium"],["value","high"],["value","critical"],["matInput","",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["class","error-message","style","color: red; margin-bottom: 16px;",4,"ngIf"],["multiple","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"dialog-actions"],["mat-stroked-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"error-message",2,"color","red","margin-bottom","16px"],[3,"value"]],template:function(t,i){if(t&1){let o=K();f(0,"div",2)(1,"h1",3),y(2,"Edit Task"),_(),f(3,"div",4)(4,"mat-form-field",5)(5,"mat-label"),y(6,"Title"),_(),f(7,"input",6),vt("ngModelChange",function(r){return L(o),bt(i.data.title,r)||(i.data.title=r),j(r)}),_(),f(8,"mat-icon",7),y(9,"title"),_()(),f(10,"mat-form-field",5)(11,"mat-label"),y(12,"Description"),_(),f(13,"textarea",8),vt("ngModelChange",function(r){return L(o),bt(i.data.description,r)||(i.data.description=r),j(r)}),_(),f(14,"mat-icon",7),y(15,"description"),_()(),f(16,"div",9)(17,"mat-form-field",10)(18,"mat-label"),y(19,"Status"),_(),f(20,"mat-select",11),vt("ngModelChange",function(r){return L(o),bt(i.data.status,r)||(i.data.status=r),j(r)}),f(21,"mat-option",12),y(22,"Not Started"),_(),f(23,"mat-option",13),y(24,"In Progress"),_(),f(25,"mat-option",14),y(26,"Stuck"),_(),f(27,"mat-option",15),y(28,"Done"),_()(),f(29,"mat-icon",7),y(30,"flag"),_()(),f(31,"mat-form-field",10)(32,"mat-label"),y(33,"Priority"),_(),f(34,"mat-select",11),vt("ngModelChange",function(r){return L(o),bt(i.data.priority,r)||(i.data.priority=r),j(r)}),f(35,"mat-option",16),y(36,"Low"),_(),f(37,"mat-option",17),y(38,"Medium"),_(),f(39,"mat-option",18),y(40,"High"),_(),f(41,"mat-option",19),y(42,"Critical"),_()(),f(43,"mat-icon",7),y(44,"priority_high"),_()()(),f(45,"div",9)(46,"mat-form-field",10)(47,"mat-label"),y(48,"Start Date"),_(),f(49,"input",20),vt("ngModelChange",function(r){return L(o),bt(i.data.timeline.start,r)||(i.data.timeline.start=r),j(r)}),_(),U(50,"mat-datepicker-toggle",21)(51,"mat-datepicker",null,0),_(),f(53,"mat-form-field",10)(54,"mat-label"),y(55,"End Date"),_(),f(56,"input",20),vt("ngModelChange",function(r){return L(o),bt(i.data.timeline.end,r)||(i.data.timeline.end=r),j(r)}),_(),U(57,"mat-datepicker-toggle",21)(58,"mat-datepicker",null,1),_()(),B(60,L2,2,1,"div",22),f(61,"mat-form-field",5)(62,"mat-label"),y(63,"Assigned Members"),_(),f(64,"mat-select",23),vt("ngModelChange",function(r){return L(o),bt(i.data.assignedTo,r)||(i.data.assignedTo=r),j(r)}),B(65,j2,2,2,"mat-option",24),_(),f(66,"mat-icon",7),y(67,"group"),_()()(),f(68,"div",25)(69,"button",26),N("click",function(){return L(o),j(i.onNoClick())}),f(70,"mat-icon"),y(71,"cancel"),_(),y(72," Cancel "),_(),f(73,"button",27),N("click",function(){return L(o),j(i.onSaveClick())}),f(74,"mat-icon"),y(75,"save"),_(),y(76," Save Changes "),_()()()}if(t&2){let o=qt(52),a=qt(59);C(7),_t("ngModel",i.data.title),C(6),_t("ngModel",i.data.description),C(7),_t("ngModel",i.data.status),C(14),_t("ngModel",i.data.priority),C(15),S("matDatepicker",o),_t("ngModel",i.data.timeline.start),C(),S("for",o),C(6),S("matDatepicker",a),_t("ngModel",i.data.timeline.end),C(),S("for",a),C(3),S("ngIf",i.dateError),C(4),_t("ngModel",i.data.assignedTo),C(),S("ngForOf",i.projectMembers)}},dependencies:[dt,Lt,yt,Qt,le,de,Ne,ri,es,ns,is,we,Ce,ze,Do,Be,si,Ei,Ti,Si,as,Zm,Qm,os,qr,jt,ce,Ut,Yt],styles:['.edit-task-dialog[_ngcontent-%COMP%]{max-width:500px;width:100%}.dialog-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin-bottom:24px;color:#3f51b5;text-align:center}.dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.full-width[_ngcontent-%COMP%]{width:100%}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px}.half-width[_ngcontent-%COMP%]{width:calc(50% - 10px)}.dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:32px}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#f0f4ff;border-radius:8px;padding:.75em .75em 0}  .mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-label{color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{background-color:#e8eeff}  .mat-select-value-text{color:#3f51b5}  .mat-select-arrow{color:#3f51b5}  .mat-option{color:#3f51b5}  .mat-option:hover:not(.mat-option-disabled){background:#e8eeff}  .mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:#3f51b5;color:#fff}  .mat-calendar-body-selected{background-color:#3f51b5}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}button.mat-stroked-button.mat-warn[_ngcontent-%COMP%]{color:#f44336;border-color:#f44336}  .mat-option[ng-reflect-value=low]{color:#4caf50}  .mat-option[ng-reflect-value=medium]{color:#ff9800}  .mat-option[ng-reflect-value=high]{color:#f44336}  .mat-option[ng-reflect-value=critical]{color:#9c27b0}  .mat-option[ng-reflect-value="Not Started"]{color:#9e9e9e}  .mat-option[ng-reflect-value="In Progress"]{color:#2196f3}  .mat-option[ng-reflect-value=Stuck]{color:#f44336}  .mat-option[ng-reflect-value=Done]{color:#4caf50}.dark[_nghost-%COMP%]   .edit-task-dialog[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .edit-task-dialog[_ngcontent-%COMP%]{background-color:#1f2937}.dark[_nghost-%COMP%]   .dialog-title[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .dialog-title[_ngcontent-%COMP%]{color:#f3f4f6}.dark[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex, .dark   [_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#374151}.dark[_nghost-%COMP%]     .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex, .dark   [_nghost-%COMP%]     .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{background-color:#4b5563}.dark[_nghost-%COMP%]     .mat-select-value-text, .dark   [_nghost-%COMP%]     .mat-select-value-text{color:#f3f4f6}.dark[_nghost-%COMP%]     .mat-select-arrow, .dark   [_nghost-%COMP%]     .mat-select-arrow{color:#d1d5db}.dark[_nghost-%COMP%]     .mat-option, .dark   [_nghost-%COMP%]     .mat-option{color:#f3f4f6;background:#1f2937}.dark[_nghost-%COMP%]     .mat-option:hover:not(.mat-option-disabled), .dark   [_nghost-%COMP%]     .mat-option:hover:not(.mat-option-disabled){background:#374151}.dark[_nghost-%COMP%]     .mat-option[ng-reflect-value=low], .dark   [_nghost-%COMP%]     .mat-option[ng-reflect-value=low]{color:#4ade80}.dark[_nghost-%COMP%]     .mat-option[ng-reflect-value=medium], .dark   [_nghost-%COMP%]     .mat-option[ng-reflect-value=medium]{color:#facc15}.dark[_nghost-%COMP%]     .mat-option[ng-reflect-value=high], .dark   [_nghost-%COMP%]     .mat-option[ng-reflect-value=high]{color:#f87171}.dark[_nghost-%COMP%]     .mat-option[ng-reflect-value=critical], .dark   [_nghost-%COMP%]     .mat-option[ng-reflect-value=critical]{color:#c084fc}.dark[_nghost-%COMP%]     .mat-option[ng-reflect-value="Not Started"], .dark   [_nghost-%COMP%]     .mat-option[ng-reflect-value="Not Started"]{color:#9ca3af}.dark[_nghost-%COMP%]     .mat-option[ng-reflect-value="In Progress"], .dark   [_nghost-%COMP%]     .mat-option[ng-reflect-value="In Progress"]{color:#60a5fa}.dark[_nghost-%COMP%]     .mat-option[ng-reflect-value=Stuck], .dark   [_nghost-%COMP%]     .mat-option[ng-reflect-value=Stuck]{color:#f87171}.dark[_nghost-%COMP%]     .mat-option[ng-reflect-value=Done], .dark   [_nghost-%COMP%]     .mat-option[ng-reflect-value=Done]{color:#4ade80}']})};var N2=(n,e)=>({"text-purple-800 dark:text-purple-200":n,"text-red-600 font-bold dark:text-red-400":e}),z2=()=>[5,10,25],B2=()=>({"dark:text-gray-300":!0});function V2(n,e){n&1&&(f(0,"div",8),U(1,"mat-spinner",9),_())}function H2(n,e){if(n&1){let t=K();f(0,"div",77)(1,"button",78),N("click",function(){L(t);let o=O(3);return j(o.editTask())}),f(2,"mat-icon"),y(3,"edit"),_()(),f(4,"button",79),N("click",function(){L(t);let o=O(3);return j(o.deleteTask())}),f(5,"mat-icon"),y(6,"delete"),_()()()}}function W2(n,e){if(n&1){let t=K();f(0,"div",61)(1,"div",62)(2,"h1",63),y(3),_(),B(4,H2,7,0,"div",64),_(),f(5,"div",65)(6,"button",66)(7,"span",67),y(8),_(),f(9,"mat-icon",68),y(10,"arrow_drop_down"),_()(),f(11,"mat-menu",69,1)(13,"button",70),N("click",function(){L(t);let o=O(2);return j(o.updateTaskStatus("Not Started"))}),U(14,"span",71),y(15," Not Started "),_(),f(16,"button",70),N("click",function(){L(t);let o=O(2);return j(o.updateTaskStatus("In Progress"))}),U(17,"span",72),y(18," In Progress "),_(),f(19,"button",70),N("click",function(){L(t);let o=O(2);return j(o.updateTaskStatus("Stuck"))}),U(20,"span",73),y(21," Stuck "),_(),f(22,"button",70),N("click",function(){L(t);let o=O(2);return j(o.updateTaskStatus("Done"))}),U(23,"span",74),y(24," Done "),_()(),f(25,"span",75),y(26),_(),f(27,"span",76),y(28),_()()()}if(n&2){let t=qt(12),i=O(2);C(3),it(i.task==null?null:i.task.title),C(),S("ngIf",i.isProjectCreator),C(2),S("matMenuTriggerFor",t)("ngClass",i.getStatusClass(i.task.status)),C(2),it(i.task==null?null:i.task.status),C(17),S("ngClass",i.getPriorityClass(i.task.priority)),C(),W(" ",i.task==null?null:i.task.priority," "),C(2),W(" ",i.task==null?null:i.task.type," ")}}function Y2(n,e){n&1&&(f(0,"div",80)(1,"mat-icon",81),y(2,"person_off"),_(),f(3,"p",68),y(4,"No members assigned to this task"),_()())}function U2(n,e){if(n&1){let t=K();f(0,"div",82),N("mouseenter",function(o){let a=L(t).$implicit,r=O(2);return j(r.showMemberInfo(o,a._id))})("mouseleave",function(){L(t);let o=O(2);return j(o.hideMemberInfo())}),U(1,"img",83),f(2,"div",84)(3,"p",85),y(4),_(),f(5,"span",86),y(6),_()()()}if(n&2){let t=e.$implicit;C(),S("src","https://ui-avatars.com/api/?name="+(t.username||"User")+"&background=random",qe)("alt",t.username),C(3),W(" ",t.username," "),C(2),W(" ",t.status||"member"," ")}}function G2(n,e){n&1&&(f(0,"div",87),U(1,"mat-spinner",9),f(2,"p",88),y(3,"Loading activity log..."),_()())}function $2(n,e){n&1&&(f(0,"div",89)(1,"mat-icon",90),y(2,"history"),_(),f(3,"p"),y(4,"No activity recorded yet"),_()())}function q2(n,e){if(n&1&&(f(0,"li")(1,"div",94)(2,"div",95)(3,"div",96),U(4,"img",97),_(),f(5,"div",98)(6,"div")(7,"div",68)(8,"a",99),y(9),_()(),f(10,"div",100),y(11),Kt(12,"date"),_()(),f(13,"div",101),U(14,"p",102),_()()()()()),n&2){let t=e.$implicit,i=O(3);C(4),S("src","https://ui-avatars.com/api/?name="+((t.performedBy==null?null:t.performedBy.username)||"User")+"&background=random",qe)("alt",(t.performedBy==null?null:t.performedBy.username)||"User"),C(5),W(" ",(t.performedBy==null?null:t.performedBy.username)||"Unknown User"," "),C(2),W(" ",wi(12,5,t.timestamp,"dd/MM/yyyy HH:mm")," "),C(3),S("innerHTML",i.formatActivityAction(t.action),zr)}}function X2(n,e){if(n&1&&(f(0,"div",91)(1,"ul",92),B(2,q2,15,8,"li",93),_()()),n&2){let t=O(2);C(2),S("ngForOf",t.activityLog)}}function K2(n,e){if(n&1){let t=K();f(0,"mat-paginator",103),N("page",function(o){L(t);let a=O(2);return j(a.onPageChange(o))}),_()}if(n&2){let t=O(2);S("length",t.totalLogs)("pageSize",t.pageSize)("pageSizeOptions",pn(5,z2))("pageIndex",t.currentPage-1)("ngClass",pn(6,B2))}}function Z2(n,e){n&1&&(f(0,"div",104)(1,"mat-icon",90),y(2,"chat_bubble_outline"),_(),f(3,"p"),y(4,"No comments yet. Be the first to comment!"),_()())}function Q2(n,e){if(n&1){let t=K();f(0,"div",121)(1,"button",122)(2,"mat-icon",123),y(3,"more_vert"),_()(),f(4,"mat-menu",null,3)(6,"button",124),N("click",function(){L(t);let o=O().$implicit,a=O(2);return j(a.editComment(o))}),f(7,"mat-icon",125),y(8,"edit"),_(),f(9,"span"),y(10,"Edit"),_()(),f(11,"button",124),N("click",function(){L(t);let o=O().$implicit,a=O(2);return j(a.deleteComment(o))}),f(12,"mat-icon",126),y(13,"delete"),_(),f(14,"span"),y(15,"Delete"),_()()()()}if(n&2){let t=qt(5);C(),S("matMenuTriggerFor",t)}}function J2(n,e){if(n&1){let t=K();am(0),f(1,"mat-form-field",127)(2,"textarea",128,4),vt("ngModelChange",function(o){L(t);let a=O(3);return bt(a.editCommentText,o)||(a.editCommentText=o),j(o)}),_(),f(4,"mat-hint",55),y(5),_()(),f(6,"div",129)(7,"button",130),N("click",function(){L(t);let o=O(3);return j(o.cancelEdit())}),y(8," Cancel "),_(),f(9,"button",131),N("click",function(){L(t);let o=O().$implicit,a=O(2);return j(a.saveEdit(o))}),y(10," Save "),_()(),rm()}if(n&2){let t=O(3);C(2),_t("ngModel",t.editCommentText),C(3),W("",t.editCommentText.length||0," / 1000"),C(4),S("disabled",!t.editCommentText.trim())}}function tI(n,e){if(n&1&&(f(0,"p",132),y(1),_()),n&2){let t=O().$implicit;C(),W(" ",t.content," ")}}function eI(n,e){if(n&1){let t=K();f(0,"div",135),N("click",function(){let o=L(t).$implicit,a=O(2).$implicit,r=O(2);return j(r.toggleReaction(a,o))}),f(1,"span"),y(2),_(),f(3,"span"),y(4),_()()}if(n&2){let t=e.$implicit,i=O(2).$implicit,o=O(2);ft("active",o.hasUserReacted(i,t)),C(2),it(t),C(2),it(o.getReactionCount(i,t))}}function iI(n,e){if(n&1&&(f(0,"div",133),B(1,eI,5,4,"div",134),_()),n&2){let t=O().$implicit,i=O(2);C(),S("ngForOf",i.getExistingReactionTypes(t))}}function nI(n,e){if(n&1){let t=K();f(0,"button",136),N("click",function(o){let a=L(t).$implicit,r=O().$implicit;return O(2).toggleReaction(r,a),j(o.stopPropagation())}),y(1),_()}if(n&2){let t=e.$implicit,i=O().$implicit,o=O(2);ft("active",o.hasUserReacted(i,t)),C(),W(" ",t," ")}}function oI(n,e){if(n&1&&(f(0,"div",105)(1,"div",106),U(2,"img",107),f(3,"div",108)(4,"div",109)(5,"div")(6,"p",110),y(7),_(),f(8,"p",111),y(9),Kt(10,"date"),_()(),B(11,Q2,16,1,"div",112),_(),B(12,J2,11,3,"ng-container",113)(13,tI,2,1,"ng-template",null,2,hm),_()(),f(15,"div",114)(16,"div",115),B(17,iI,2,1,"div",116),f(18,"div",117)(19,"button",118)(20,"mat-icon"),y(21,"add_reaction"),_()(),f(22,"div",119),B(23,nI,2,3,"button",120),_()()()()()),n&2){let t=e.$implicit,i=qt(14),o=O(2);C(2),S("src","https://ui-avatars.com/api/?name="+((t.author==null?null:t.author.username)||"User")+"&background=random",qe)("alt",(t.author==null?null:t.author.username)||"User"),C(5),W(" ",(t.author==null?null:t.author.username)||"Unknown User"," "),C(2),W(" ",wi(10,9,t.createdAt,"MMM d, y, h:mm a")," "),C(2),S("ngIf",o.isCommentAuthor(t)),C(),S("ngIf",o.editingCommentId===t._id)("ngIfElse",i),C(5),S("ngIf",o.hasAnyReactions(t)),C(6),S("ngForOf",o.reactionTypes)}}function aI(n,e){n&1&&(f(0,"div",137),U(1,"mat-spinner",9),_())}function rI(n,e){if(n&1){let t=K();f(0,"div",10)(1,"button",11),N("click",function(){L(t);let o=O();return j(o.goBack())}),f(2,"mat-icon",12),y(3,"arrow_back"),_(),y(4," Back to Project "),_(),f(5,"div",13)(6,"div",14),B(7,W2,29,8,"div",15),f(8,"div",16)(9,"div",17)(10,"h2",18),y(11,"Description"),_(),f(12,"p",19),y(13),_()(),f(14,"div",20)(15,"h2",18),y(16,"Timeline"),_(),f(17,"div",21)(18,"div",22)(19,"div",23)(20,"mat-icon",24),y(21,"event"),_(),f(22,"span",25),y(23,"Start Date"),_()(),f(24,"p",26),y(25),Kt(26,"date"),_()(),f(27,"div",27)(28,"div",23)(29,"mat-icon",28),y(30,"event"),_(),f(31,"span",29),y(32,"End Date"),_()(),f(33,"p",30),y(34),Kt(35,"date"),_()(),f(36,"div",31)(37,"div",23)(38,"mat-icon",32),y(39,"timer"),_(),f(40,"span",33),y(41,"Remaining Time"),_()(),f(42,"p",34),y(43),_()()()(),f(44,"div",35)(45,"h2",36)(46,"mat-icon",37),y(47,"group"),_(),y(48," Assigned Members "),_(),f(49,"div",38),B(50,Y2,5,0,"div",39),f(51,"div",40),B(52,U2,7,4,"div",41),_()()()(),f(53,"div",42)(54,"div",17)(55,"h2",43),y(56," Activity Log "),_(),B(57,G2,4,0,"div",44)(58,$2,5,0,"div",45)(59,X2,3,1,"div",46)(60,K2,1,7,"mat-paginator",47),_()()(),f(61,"div",48)(62,"div",49)(63,"div",17)(64,"h2",50)(65,"mat-icon",37),y(66,"chat"),_(),y(67," Comments "),_(),f(68,"form",51)(69,"mat-form-field",52)(70,"mat-label"),y(71,"Add a comment"),_(),f(72,"textarea",53,0),vt("ngModelChange",function(o){L(t);let a=O();return bt(a.newComment,o)||(a.newComment=o),j(o)}),_(),f(74,"mat-hint",54)(75,"strong"),y(76,"Share your thoughts about this task"),_()(),f(77,"mat-hint",55),y(78),_()(),f(79,"button",56),N("click",function(){L(t);let o=O();return j(o.addComment())}),f(80,"mat-icon"),y(81,"send"),_(),y(82," Add Comment "),_()(),f(83,"div",57),B(84,Z2,5,0,"div",58)(85,oI,24,12,"div",59),_(),B(86,aI,2,0,"div",60),_()()()()()}if(n&2){let t=qt(73),i=O();C(7),S("ngIf",i.task),C(6),it(i.task==null?null:i.task.description),C(12),W(" ",wi(26,19,i.task==null||i.task.timeline==null?null:i.task.timeline.start,"dd/MM/yyyy")," "),C(9),W(" ",wi(35,22,i.task==null||i.task.timeline==null?null:i.task.timeline.end,"dd/MM/yyyy")," "),C(8),S("ngClass",bo(25,N2,i.remainingTime!=="Overdue",i.remainingTime==="Overdue")),C(),W(" ",i.remainingTime," "),C(7),S("ngIf",!(!(i.task==null||i.task.assignedTo==null)&&i.task.assignedTo.length)),C(2),S("ngForOf",i.getAssignedMembers()),C(5),S("ngIf",i.isLoadingActivity),C(),S("ngIf",!i.isLoadingActivity&&(!i.activityLog||i.activityLog.length===0)),C(),S("ngIf",!i.isLoadingActivity&&i.activityLog&&i.activityLog.length>0),C(),S("ngIf",!i.isLoadingActivity&&i.activityLog&&i.activityLog.length>0),C(12),_t("ngModel",i.newComment),C(6),lm("",t.value.length||0," / ",i.maxCommentLength,""),C(),S("disabled",!i.newComment.trim()),C(5),S("ngIf",i.comments.length===0),C(),S("ngForOf",i.comments),C(),S("ngIf",i.isLoadingComments)}}function sI(n,e){if(n&1&&(f(0,"div",138)(1,"div",106),U(2,"img",139),f(3,"div",140)(4,"h3",99),y(5),_(),f(6,"p",141),y(7),_(),f(8,"p",142),y(9),_()()()()),n&2){let t,i,o,a,r,s=O();go("left",s.tooltipPosition.x,"px")("top",s.tooltipPosition.y,"px"),C(2),S("src","https://ui-avatars.com/api/?name="+(((t=s.getMemberDetails(s.hoveredMemberId))==null?null:t.username)||"User")+"&background=random",qe)("alt",(i=s.getMemberDetails(s.hoveredMemberId))==null?null:i.username),C(3),W(" ",(o=s.getMemberDetails(s.hoveredMemberId))==null?null:o.username," "),C(2),W(" ",((a=s.getMemberDetails(s.hoveredMemberId))==null?null:a.name)||"No name available"," "),C(2),W(" ",((r=s.getMemberDetails(s.hoveredMemberId))==null?null:r.email)||"No email available"," ")}}var wc=class n{constructor(e,t,i,o,a,r,s,l){this.route=e;this.router=t;this.projectService=i;this.dialog=o;this.authService=a;this.sanitizer=r;this.datePipe=s;this.cdr=l}task;projectId=null;taskId=null;projectMembers=[];isProjectCreator=!1;remainingTime="";alive=!0;activityLog=[];currentPage=1;totalPages=1;totalLogs=0;pageSize=10;comments=[];newComment="";isLoadingComments=!1;maxCommentLength=1e3;editingCommentId=null;editCommentText="";isLoading=!1;hoveredMemberId=null;tooltipPosition={x:0,y:0};isLoadingActivity=!1;reactionTypes=["\u{1F44D}","\u{1F44E}","\u{1F604}","\u{1F389}","\u{1F615}","\u2764\uFE0F"];ngOnInit(){this.isLoading=!0,this.route.params.subscribe(e=>{this.projectId=e.projectId,this.taskId=e.taskId,this.projectId&&this.taskId&&(this.loadTaskDetails(),this.loadProjectMembers(),this.checkProjectCreator(),this.updateRemainingTime(),this.startRemainingTimeCounter(),this.loadActivityLog(),this.loadComments())})}ngOnDestroy(){this.alive=!1}loadTaskDetails(){this.projectId&&this.taskId&&(this.isLoading=!0,this.cdr.detectChanges(),this.projectService.getTaskDetails(this.projectId,this.taskId).pipe(ka(()=>{this.isLoading=!1,this.cdr.detectChanges()})).subscribe({next:e=>{this.task=e,this.updateRemainingTime(),this.startRemainingTimeCounter(),this.loadActivityLog()},error:e=>{console.error("Error loading task details:",e)}}))}loadActivityLog(e=this.currentPage){this.projectId&&this.taskId&&(this.isLoadingActivity=!0,this.cdr.detectChanges(),this.projectService.getTaskActivityLog(this.projectId,this.taskId,e).pipe(ka(()=>{this.isLoadingActivity=!1,this.cdr.detectChanges()})).subscribe({next:t=>{this.activityLog=t.logs,this.currentPage=t.currentPage,this.totalPages=t.totalPages,this.totalLogs=t.totalLogs},error:t=>{console.error("Error loading activity log:",t)}}))}onPageChange(e){this.currentPage=e.pageIndex+1,this.loadActivityLog(this.currentPage)}loadProjectMembers(){this.projectId&&this.projectService.getProjectDetails(this.projectId).subscribe({next:e=>{this.projectMembers=e.members,console.log("Loaded Project Members:",this.projectMembers)},error:e=>{console.error("Error loading project members:",e)}})}getStatusColor(e){switch(e){case"Not Started":return"gray";case"In Progress":return"blue";case"Stuck":return"red";case"Done":return"green";default:return"gray"}}getPriorityColor(e){switch(e){case"low":return"green";case"medium":return"orange";case"high":return"red";case"critical":return"purple";default:return"gray"}}formatDate(e){return new Date(e).toLocaleDateString()}deleteTask(){this.dialog.open(La,{width:"250px",data:{title:"Confirm Delete",message:"Are you sure you want to delete this task?"}}).afterClosed().subscribe(t=>{t&&this.projectId&&this.taskId&&this.projectService.deleteTask(this.projectId,this.taskId).subscribe(()=>{this.router.navigate(["/projects",this.projectId])},i=>{console.error("Error deleting task:",i)})})}editTask(){this.dialog.open(Cc,{width:"500px",data:Wn(Le({},this.task),{projectId:this.projectId})}).afterClosed().subscribe(t=>{t&&this.projectService.updateTask(this.projectId,this.taskId,t).subscribe(i=>{this.task=i,this.loadActivityLog()},i=>{console.error("Error updating task:",i)})})}getAssignedMemberNames(){return!this.task||!this.task.assignedTo||!Array.isArray(this.task.assignedTo)?"No members assigned":this.task.assignedTo.filter(e=>e!=null).map(e=>{if(typeof e=="object"&&e!==null&&e.username)return e.username;if(typeof e=="string"){let t=this.projectMembers.find(i=>i._id===e);return t?t.username:"Unknown"}return"Unknown"}).join(", ")}checkProjectCreator(){this.projectId&&this.projectService.getProjectDetails(this.projectId).subscribe({next:e=>{let t=this.authService.getCurrentUserId(),i=typeof e.createdBy=="object"?e.createdBy._id:e.createdBy;t?this.isProjectCreator=i.toString()===t.toString():this.isProjectCreator=!1},error:e=>{console.error("Error checking project creator:",e)}})}updateTaskStatus(e){this.projectId&&this.taskId&&this.task&&this.projectService.updateTaskStatus(this.projectId,this.taskId,e).subscribe(t=>{this.task.status=t.status,this.updateRemainingTime(),this.loadActivityLog(1)},t=>{console.error("Error updating task status:",t)})}getStatusClass(e){switch(e){case"Not Started":return"bg-gray-500 text-white";case"In Progress":return"bg-blue-500 text-white";case"Stuck":return"bg-red-500 text-white";case"Done":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}}getPriorityClass(e){switch(e){case"low":return"bg-green-500 text-white";case"medium":return"bg-yellow-500 text-white";case"high":return"bg-orange-500 text-white";case"critical":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}}updateRemainingTime(){if(this.task&&this.task.timeline&&this.task.timeline.end){let e=new Date(this.task.timeline.end),t=new Date,i=e.getTime()-t.getTime();if(i>0){let o=Math.floor(i/864e5),a=Math.floor(i%(1e3*60*60*24)/(1e3*60*60)),r=Math.floor(i%(1e3*60*60)/(1e3*60));this.remainingTime=`${o}d ${a}h ${r}m`}else this.remainingTime="Overdue"}else this.remainingTime="No end date set"}startRemainingTimeCounter(){Er(6e4).pipe(Uh(()=>this.alive)).subscribe(()=>{this.updateRemainingTime()})}formatActivityAction(e){return e?e.includes("timeline updated:")?this.sanitizer.bypassSecurityTrustHtml(e.replace(/(from\s)([^,\s]+)(\sto\s)([^,\s]+)/g,'$1<span class="text-red-500">$2</span>$3<span class="text-green-500">$4</span>')):e.includes("changed from")?this.sanitizer.bypassSecurityTrustHtml(e.replace(/(changed from\s")(.*?)("\sto\s")(.*?)(")/g,'$1<span class="text-red-500">$2</span>$3<span class="text-green-500">$4</span>$5')):e:""}formatDateIfNeeded(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)&&this.datePipe.transform(e,"dd/MM/yyyy")||e}goBack(){this.projectId?this.router.navigate(["/projects",this.projectId]):this.router.navigate(["/dashboard"])}loadComments(){this.projectId&&this.taskId&&(this.isLoadingComments=!0,this.projectService.getTaskComments(this.projectId,this.taskId).subscribe(e=>{this.comments=e,this.isLoadingComments=!1},e=>{console.error("Error loading comments:",e),this.isLoadingComments=!1}))}addComment(){if(this.projectId&&this.taskId&&this.newComment?.trim()){let e=this.newComment.trim();this.newComment="",this.projectService.addTaskComment(this.projectId,this.taskId,{content:e}).subscribe(t=>{this.comments.unshift(t),this.loadActivityLog()},t=>{console.error("Error adding comment:",t),this.newComment=e})}}isCommentAuthor(e){return e.author?._id===this.authService.getCurrentUserId()}editComment(e){this.editingCommentId=e._id,this.editCommentText=e.content}cancelEdit(){this.editingCommentId=null,this.editCommentText=""}saveEdit(e){this.editCommentText?.trim()&&this.projectService.updateTaskComment(this.projectId,this.taskId,e._id,{content:this.editCommentText.trim()}).subscribe(t=>{let i=this.comments.findIndex(o=>o._id===e._id);i!==-1&&(this.comments[i]=t),this.cancelEdit()},t=>{console.error("Error updating comment:",t)})}deleteComment(e){this.dialog.open(La,{width:"300px",data:{title:"Delete Comment",message:"Are you sure you want to delete this comment?"}}).afterClosed().subscribe(i=>{i&&this.projectService.deleteTaskComment(this.projectId,this.taskId,e._id).subscribe(()=>{this.comments=this.comments.filter(o=>o._id!==e._id)},o=>{console.error("Error deleting comment:",o)})})}getAssignedMembers(){return!this.task?.assignedTo||!Array.isArray(this.task.assignedTo)?[]:this.task.assignedTo.filter(e=>e!=null).map(e=>typeof e=="object"&&e!==null&&e.username?e:typeof e=="string"?this.projectMembers.find(i=>i._id===e)||{_id:e,username:"Unknown User",email:"",name:"",status:"unknown"}:{username:"Unknown User",email:"",name:"",status:"unknown"})}getMemberDetails(e){if(!e)return null;let t=this.projectMembers.find(i=>i._id===e);return t?{_id:t._id,username:t.username,email:t.email||"No email available",name:t.name||"No name available"}:null}showMemberInfo(e,t){this.hoveredMemberId=t;let i=10,o=e.clientX+i,a=e.clientY+i,r=288,s=200,l=window.innerWidth,h=window.innerHeight;o+r>l&&(o=e.clientX-r-i),a+s>h&&(a=e.clientY-s-i),this.tooltipPosition={x:o,y:a}}hideMemberInfo(){this.hoveredMemberId=null}getReactionIcon(e){return e}hasUserReacted(e,t){let i=this.authService.getCurrentUserId();return e.reactions?.some(o=>o.user._id===i&&o.type===t)||!1}getReactionCount(e,t){return e.reactions?.filter(i=>i.type===t).length||0}toggleReaction(e,t){if(!this.projectId||!this.taskId)return;let i=this.authService.getCurrentUserId();e.reactions?.find(a=>a.user._id===i&&a.type===t)?e.reactions=e.reactions.filter(a=>!(a.user._id===i&&a.type===t)):(e.reactions||(e.reactions=[]),e.reactions.push({type:t,user:{_id:i}})),this.projectService.toggleCommentReaction(this.projectId,this.taskId,e._id,t).subscribe(a=>{let r=this.comments.findIndex(s=>s._id===e._id);r!==-1&&(this.comments[r]=a)},a=>{console.error("Error toggling reaction:",a),this.loadComments()})}hasAnyReactions(e){return e.reactions?.length>0}getExistingReactionTypes(e){return e.reactions?Array.from(new Set(e.reactions.map(t=>t.type))):[]}getTotalReactions(e){return e.reactions?.length||0}getActivityClass(e){return e.type==="status_change"?`status-change to-${e.newValue.toLowerCase().replace(" ","-")}`:e.type==="priority_change"?`priority-change to-${e.newValue.toLowerCase()}`:""}static \u0275fac=function(t){return new(t||n)(I(vo),I(Wt),I(Ve),I(Po),I(Jt),I(Hr),I(ai),I(ne))};static \u0275cmp=Z({type:n,selectors:[["app-task-details"]],standalone:!0,features:[Xt([ai]),Q],decls:3,vars:3,consts:[["commentInput",""],["statusMenu","matMenu"],["displayComment",""],["commentMenu","matMenu"],["editInput","ngModel"],["class","flex justify-center items-center min-h-screen dark:bg-gray-900",4,"ngIf"],["class","max-w-7xl mx-auto p-6 relative dark:bg-gray-900",4,"ngIf"],["class","fixed z-[1000] bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 w-72 border border-gray-200 dark:border-gray-700",3,"left","top",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-screen","dark:bg-gray-900"],["diameter","40"],[1,"max-w-7xl","mx-auto","p-6","relative","dark:bg-gray-900"],["mat-button","",1,"mb-4","flex","items-center","text-gray-600","hover:text-gray-800","dark:text-gray-400","dark:hover:text-gray-200",3,"click"],[1,"mr-2"],[1,"flex","flex-col","lg:flex-row","gap-6"],[1,"lg:w-2/3","lg:flex-shrink-0","lg:basis-2/3"],["class","mb-8",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","overflow-hidden","mb-8"],[1,"p-6"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200","mb-4"],[1,"text-gray-600","dark:text-gray-300"],[1,"border-t","border-gray-200","dark:border-gray-700","p-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"bg-blue-50","dark:bg-blue-900/50","p-4","rounded-lg"],[1,"flex","items-center","mb-2"],[1,"text-blue-500","dark:text-blue-400","mr-2"],[1,"font-semibold","text-blue-700","dark:text-blue-300"],[1,"text-blue-800","dark:text-blue-200"],[1,"bg-green-50","dark:bg-green-900/50","p-4","rounded-lg"],[1,"text-green-500","dark:text-green-400","mr-2"],[1,"font-semibold","text-green-700","dark:text-green-300"],[1,"text-green-800","dark:text-green-200"],[1,"bg-purple-50","dark:bg-purple-900/50","p-4","rounded-lg"],[1,"text-purple-500","dark:text-purple-400","mr-2"],[1,"font-semibold","text-purple-700","dark:text-purple-300"],[3,"ngClass"],[1,"border-t","border-gray-200","dark:border-gray-700","p-6","overflow-visible"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200","mb-3","flex","items-center"],[1,"mr-2","text-gray-600","dark:text-gray-400"],[1,"overflow-visible"],["class","text-center text-gray-500 py-3",4,"ngIf"],[1,"grid","grid-cols-2","sm:grid-cols-3","gap-2","relative","overflow-visible"],["class","flex items-center p-2 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200 relative",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","overflow-hidden"],[1,"text-2xl","font-semibold","text-gray-800","dark:text-gray-200","mb-6"],["class","flex flex-col items-center justify-center py-8",4,"ngIf"],["class","flex flex-col items-center justify-center py-8 text-gray-500 dark:text-gray-400",4,"ngIf"],["class","flow-root",4,"ngIf"],["class","bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","ngClass","page",4,"ngIf"],[1,"lg:w-1/3","lg:flex-shrink-0","lg:basis-1/3"],[1,"bg-white","dark:bg-gray-800","shadow","rounded-lg","overflow-hidden","lg:sticky","lg:top-6"],[1,"text-xl","font-semibold","text-gray-800","dark:text-gray-200","mb-4","flex","items-center"],[1,"comment-form","mb-6"],[1,"comment-full-width"],["matInput","","name","comment","maxlength","1000","rows","3","placeholder","Write your comment here...",1,"resize-none",3,"ngModelChange","ngModel"],["align","start"],["align","end"],["mat-raised-button","","color","primary",1,"w-full","mt-3","flex","items-center","justify-center","gap-2",3,"click","disabled"],[1,"space-y-4","max-h-[calc(100vh-300px)]","overflow-y-auto","custom-scrollbar"],["class","text-center text-gray-500 py-4",4,"ngIf"],["class","border-b border-gray-200 dark:border-gray-700 last:border-0 pb-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors duration-200 p-3 rounded-lg",4,"ngFor","ngForOf"],["class","flex justify-center items-center py-4",4,"ngIf"],[1,"mb-8"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-3xl","font-bold","text-gray-800","dark:text-gray-100"],["class","flex space-x-2",4,"ngIf"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","rounded-full","text-sm","font-medium","flex","items-center","transition-colors","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"matMenuTriggerFor","ngClass"],[1,"mr-1"],[1,"text-sm"],[1,"custom-menu"],["mat-menu-item","",1,"flex","items-center",3,"click"],[1,"w-3","h-3","rounded-full","bg-gray-500","mr-2"],[1,"w-3","h-3","rounded-full","bg-blue-500","mr-2"],[1,"w-3","h-3","rounded-full","bg-red-500","mr-2"],[1,"w-3","h-3","rounded-full","bg-green-500","mr-2"],[1,"px-3","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"bg-gray-200","text-gray-800","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"flex","space-x-2"],["mat-icon-button","","color","primary",1,"bg-blue-100","hover:bg-blue-200","text-blue-700","dark:bg-blue-900","dark:hover:bg-blue-800","dark:text-blue-200","p-2","rounded-full",3,"click"],["mat-icon-button","","color","warn",1,"bg-red-100","hover:bg-red-200","text-red-700","dark:bg-red-900","dark:hover:bg-red-800","dark:text-red-200","p-2","rounded-full",3,"click"],[1,"text-center","text-gray-500","py-3"],[1,"text-3xl","mb-1"],[1,"flex","items-center","p-2","bg-gray-50","dark:bg-gray-700","rounded-lg","hover:bg-gray-100","dark:hover:bg-gray-600","transition-colors","duration-200","relative",3,"mouseenter","mouseleave"],[1,"w-8","h-8","rounded-full","shadow-sm",3,"src","alt"],[1,"ml-2","min-w-0","flex-1"],[1,"text-sm","font-medium","text-gray-900","dark:text-gray-100","truncate"],[1,"inline-block","text-xs","text-gray-500","dark:text-gray-400","truncate"],[1,"flex","flex-col","items-center","justify-center","py-8"],[1,"mt-4","text-gray-600","dark:text-gray-400"],[1,"flex","flex-col","items-center","justify-center","py-8","text-gray-500","dark:text-gray-400"],[1,"text-4xl","mb-2"],[1,"flow-root"],["role","list",1,"-mb-8"],[4,"ngFor","ngForOf"],[1,"relative","pb-8"],[1,"relative","flex","items-start","space-x-3"],[1,"relative"],[1,"h-10","w-10","rounded-full","bg-gray-400","flex","items-center","justify-center","ring-8","ring-white","dark:ring-gray-800",3,"src","alt"],[1,"min-w-0","flex-1"],[1,"font-medium","text-gray-900","dark:text-gray-100"],[1,"mt-0.5","text-sm","text-gray-500","dark:text-gray-400"],[1,"mt-2","text-sm","text-gray-700","dark:text-gray-300"],[3,"innerHTML"],["aria-label","Select page",1,"bg-white","dark:bg-gray-800","border-t","border-gray-200","dark:border-gray-700",3,"page","length","pageSize","pageSizeOptions","pageIndex","ngClass"],[1,"text-center","text-gray-500","py-4"],[1,"border-b","border-gray-200","dark:border-gray-700","last:border-0","pb-4","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-200","p-3","rounded-lg"],[1,"flex","items-start","space-x-3"],[1,"w-10","h-10","rounded-full","shadow-sm",3,"src","alt"],[1,"flex-1","min-w-0"],[1,"flex","justify-between","items-start"],[1,"font-medium","text-sm","text-gray-900","dark:text-gray-100","truncate"],[1,"text-xs","text-gray-500","dark:text-gray-400"],["class","flex space-x-1",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"comment-container","relative"],[1,"mt-2"],["class","reactions-summary",4,"ngIf"],[1,"reaction-trigger"],["mat-icon-button","",1,"text-gray-500","hover:text-gray-700"],[1,"reaction-bubble"],["class","reaction-bubble-button",3,"active","click",4,"ngFor","ngForOf"],[1,"flex","space-x-1"],["mat-icon-button","",1,"w-8","h-8","text-gray-500","hover:text-gray-700",3,"matMenuTriggerFor"],[1,"text-lg"],["mat-menu-item","",3,"click"],[1,"text-blue-600"],[1,"text-red-600"],[1,"w-full","mt-2"],["matInput","","maxlength","1000","rows","2",1,"resize-none",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-2","mt-2"],["mat-button","",1,"text-gray-600",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"text-sm","text-gray-600","mt-1","break-words","whitespace-pre-wrap","max-w-full","overflow-hidden"],[1,"reactions-summary"],["class","reaction-pill",3,"active","click",4,"ngFor","ngForOf"],[1,"reaction-pill",3,"click"],[1,"reaction-bubble-button",3,"click"],[1,"flex","justify-center","items-center","py-4"],[1,"fixed","z-[1000]","bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","p-4","w-72","border","border-gray-200","dark:border-gray-700"],[1,"w-12","h-12","rounded-full","shadow",3,"src","alt"],[1,"flex-1"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-1"],[1,"text-sm","text-gray-500","dark:text-gray-400"]],template:function(t,i){t&1&&B(0,V2,2,0,"div",5)(1,rI,87,28,"div",6)(2,sI,10,9,"div",7),t&2&&(S("ngIf",i.isLoading),C(),S("ngIf",!i.isLoading),C(),S("ngIf",i.hoveredMemberId))},dependencies:[dt,ye,Lt,yt,ai,la,xc,Ut,Yt,jt,ce,Fe,ri,Pi,fn,wo,gn,ms,ja,we,Ce,ze,qm,Be,si,Qt,Ii,le,de,Di,Ym,Ne,Mo,he,ke],styles:['[_nghost-%COMP%]{display:block;width:100%;overflow:visible}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:0}.mat-mdc-form-field[_ngcontent-%COMP%] + .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:8px}.custom-scrollbar[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5) transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#9ca3afb3}.comment-text[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word;hyphens:auto;max-width:100%}.comment-container[_ngcontent-%COMP%]{max-width:100%;min-width:0;width:100%;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.fixed[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out}.fixed[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:#ffffffb3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:inherit;z-index:-1}@keyframes _ngcontent-%COMP%_tooltipFadeIn{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.overflow-visible[_ngcontent-%COMP%]{overflow:visible!important}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute;z-index:1000}.reaction-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;min-width:32px;height:32px;padding:4px 8px;border:none;background:transparent;cursor:pointer;font-size:16px;line-height:1;opacity:.6;transition:all .2s ease;border-radius:16px}.reaction-button[_ngcontent-%COMP%]:hover, .reaction-button.active[_ngcontent-%COMP%]{opacity:1;background:#f3f4f6}.reaction-emoji[_ngcontent-%COMP%]{font-size:16px}.reaction-count[_ngcontent-%COMP%]{font-size:12px;color:#666;font-weight:500}.total-reactions[_ngcontent-%COMP%]{margin-bottom:8px;padding:4px 8px;background:#f9fafb;border-radius:16px;display:inline-block}.existing-reactions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.reaction-group[_ngcontent-%COMP%]{display:flex;align-items:center;background:#f3f4f6;padding:2px 8px;border-radius:12px;font-size:14px}.comment-reactions[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s ease-in-out}.comment-container[_ngcontent-%COMP%]:hover   .comment-reactions[_ngcontent-%COMP%]{opacity:1}.reaction-bubble[_ngcontent-%COMP%]{position:absolute;left:100%;top:50%;transform:translateY(-50%) translate(8px);background:#fff;border:1px solid #e5e7eb;border-radius:24px;padding:4px;box-shadow:0 4px 6px -1px #0000001a;display:flex;gap:4px;opacity:0;visibility:hidden;transition:all .2s ease;z-index:10}.reaction-trigger[_ngcontent-%COMP%]{position:relative;display:inline-block}.reaction-trigger[_ngcontent-%COMP%]:hover   .reaction-bubble[_ngcontent-%COMP%]{opacity:1;visibility:visible}.reaction-bubble-button[_ngcontent-%COMP%]{padding:6px;border-radius:50%;border:none;background:transparent;cursor:pointer;transition:transform .2s ease;font-size:16px;line-height:1}.reaction-bubble-button[_ngcontent-%COMP%]:hover{transform:scale(1.2);background:#f3f4f6}.reactions-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px;margin-top:4px}.reaction-pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:2px 8px;background:#f3f4f6;border-radius:12px;font-size:12px;color:#4b5563}.reaction-pill.active[_ngcontent-%COMP%]{background:#e0e7ff;color:#4f46e5}.dark[_nghost-%COMP%]   .bg-white[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .bg-white[_ngcontent-%COMP%]{background-color:#1f2937;color:#f3f4f6}.dark   [_nghost-%COMP%]{background-color:#111827}.dark[_nghost-%COMP%]   .max-w-7xl[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .max-w-7xl[_ngcontent-%COMP%]{background-color:#111827}.dark[_nghost-%COMP%]   :is(.description-sectio[_ngcontent-%COMP%]), .dark   [_nghost-%COMP%]   :is(.description-section[_ngcontent-%COMP%], .timeline-section[_ngcontent-%COMP%], .activity-log-section[_ngcontent-%COMP%], .comments-section[_ngcontent-%COMP%]){background-color:#1f2937}.dark[_nghost-%COMP%]   .comment-container[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .comment-container[_ngcontent-%COMP%]:hover{background-color:#374151!important}.dark[_nghost-%COMP%]   .comment-text[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .comment-text[_ngcontent-%COMP%]{color:#f3f4f6}.dark[_nghost-%COMP%]   .reaction-button[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-button[_ngcontent-%COMP%]{color:#d1d5db}.dark[_nghost-%COMP%]   .reaction-button[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .reaction-button[_ngcontent-%COMP%]:hover{background:#374151}.dark[_nghost-%COMP%]   .reaction-button.active[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-button.active[_ngcontent-%COMP%]{background:#374151;color:#60a5fa}.dark[_nghost-%COMP%]   .reaction-count[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-count[_ngcontent-%COMP%]{color:#9ca3af}.dark[_nghost-%COMP%]   .total-reactions[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .total-reactions[_ngcontent-%COMP%]{background:#374151}.dark[_nghost-%COMP%]   .reaction-group[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-group[_ngcontent-%COMP%]{background:#374151;color:#f3f4f6}.dark[_nghost-%COMP%]   .reaction-bubble[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-bubble[_ngcontent-%COMP%]{background:#1f2937;border-color:#4b5563}.dark[_nghost-%COMP%]   .reaction-bubble-button[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .reaction-bubble-button[_ngcontent-%COMP%]:hover{background:#374151}.dark[_nghost-%COMP%]   .reaction-pill[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-pill[_ngcontent-%COMP%]{background:#374151;color:#d1d5db}.dark[_nghost-%COMP%]   .reaction-pill.active[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-pill.active[_ngcontent-%COMP%]{background:#1e3a8a;color:#93c5fd}.dark[_nghost-%COMP%]   .fixed[_ngcontent-%COMP%]:before, .dark   [_nghost-%COMP%]   .fixed[_ngcontent-%COMP%]:before{background:#1f2937b3}.dark[_nghost-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]{scrollbar-color:rgba(156,163,175,.3) transparent}.dark[_nghost-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .dark   [_nghost-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af4d}.dark[_nghost-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .dark   [_nghost-%COMP%]   .custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#9ca3af80}.dark[_nghost-%COMP%]   .comment-input[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .comment-input[_ngcontent-%COMP%]{background-color:#374151;border-color:#4b5563}.dark[_nghost-%COMP%]   .comment-input[_ngcontent-%COMP%]:focus, .dark   [_nghost-%COMP%]   .comment-input[_ngcontent-%COMP%]:focus{border-color:#3b82f6;background-color:#4b5563}.dark[_nghost-%COMP%]   .comment-container[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .comment-container[_ngcontent-%COMP%]{border-color:#374151}.dark[_nghost-%COMP%]   .comment-container[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .comment-container[_ngcontent-%COMP%]:hover{background-color:#374151}.dark[_nghost-%COMP%]   .reaction-bubble[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-bubble[_ngcontent-%COMP%]{background-color:#1f2937;border-color:#4b5563}.dark[_nghost-%COMP%]   .reaction-bubble-button[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-bubble-button[_ngcontent-%COMP%]{color:#d1d5db}.dark[_nghost-%COMP%]   .reaction-bubble-button[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .reaction-bubble-button[_ngcontent-%COMP%]:hover{background-color:#374151;color:#f3f4f6}.dark[_nghost-%COMP%]   .reactions-summary[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reactions-summary[_ngcontent-%COMP%]{color:#9ca3af}.dark[_nghost-%COMP%]   .reaction-group[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .reaction-group[_ngcontent-%COMP%]{background-color:#374151;color:#d1d5db}.dark[_nghost-%COMP%]   .reaction-group[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .reaction-group[_ngcontent-%COMP%]:hover{background-color:#4b5563}.dark[_nghost-%COMP%]   :is(.comment-tim[_ngcontent-%COMP%]), .dark   [_nghost-%COMP%]   :is(.comment-time[_ngcontent-%COMP%], .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]){color:#9ca3af}.dark[_nghost-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#e5e7eb;background-color:#374151}.dark[_nghost-%COMP%]   :is(.edit-butto[_ngcontent-%COMP%]), .dark   [_nghost-%COMP%]   :is(.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]){color:#9ca3af}.dark[_nghost-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{color:#60a5fa;background-color:#374151}.dark[_nghost-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover{color:#f87171;background-color:#374151}.dark[_nghost-%COMP%]   .character-count[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .character-count[_ngcontent-%COMP%]{color:#9ca3af}.dark[_nghost-%COMP%]   .character-count.near-limit[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .character-count.near-limit[_ngcontent-%COMP%]{color:#facc15}.dark[_nghost-%COMP%]   .character-count.at-limit[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .character-count.at-limit[_ngcontent-%COMP%]{color:#f87171}.activity-log-container[_ngcontent-%COMP%]{max-height:1000px;overflow:hidden;transition:max-height .3s ease-out,background-color .2s;background-color:#fff}.dark[_ngcontent-%COMP%]   .activity-log-container[_ngcontent-%COMP%]{background-color:#1f2937}.activity-log-container.hidden[_ngcontent-%COMP%]{max-height:0}.mat-paginator-sticky[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:10;background-color:#fff}.dark[_ngcontent-%COMP%]   .mat-paginator-sticky[_ngcontent-%COMP%]{background-color:#1f2937}.activity-timeline[_ngcontent-%COMP%]{position:relative}.activity-item[_ngcontent-%COMP%]{position:relative;padding-bottom:2rem}.activity-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.timeline-connector[_ngcontent-%COMP%]{position:absolute;top:1.25rem;left:1.25rem;height:calc(100% - 1.25rem);width:2px;background-color:#e5e7eb}.dark[_ngcontent-%COMP%]   .timeline-connector[_ngcontent-%COMP%]{background-color:#374151}@media (max-width: 600px){  .mat-paginator-container{justify-content:center;flex-wrap:wrap}  .mat-paginator-range-label{margin:0 10px 10px 0}  .mat-paginator-navigation-previous,   .mat-paginator-navigation-next{margin-top:10px}}']})};var cI=()=>({"text-primary":!0}),lI=n=>({"rotate-180":n}),dI=(n,e)=>["/projects",n,"tasks",e];function hI(n,e){n&1&&(f(0,"div",4),U(1,"mat-spinner",5),_())}function mI(n,e){if(n&1&&(f(0,"mat-option",25)(1,"div",17),y(2),_()()),n&2){let t=e.$implicit;S("value",t.value),C(2),W(" ",t.label," ")}}function pI(n,e){if(n&1){let t=K();f(0,"mat-card",31)(1,"div",32)(2,"mat-card-header",33)(3,"mat-card-title",34),y(4),_()(),f(5,"button",35)(6,"mat-icon",36),y(7,"visibility"),_()()(),f(8,"mat-card-content",37)(9,"p",38),y(10),_()(),f(11,"div",39)(12,"div",40)(13,"button",41)(14,"span",42),y(15),_(),f(16,"mat-icon",43),y(17,"arrow_drop_down"),_()(),f(18,"mat-menu",44,0)(20,"div",27)(21,"button",45),N("click",function(){let o=L(t).$implicit,a=O().$implicit,r=O(2);return j(r.updateTaskStatus(a,o._id,"Not Started"))}),U(22,"span",46),y(23," Not Started "),_(),f(24,"button",45),N("click",function(){let o=L(t).$implicit,a=O().$implicit,r=O(2);return j(r.updateTaskStatus(a,o._id,"In Progress"))}),U(25,"span",47),y(26," In Progress "),_(),f(27,"button",45),N("click",function(){let o=L(t).$implicit,a=O().$implicit,r=O(2);return j(r.updateTaskStatus(a,o._id,"Stuck"))}),U(28,"span",48),y(29," Stuck "),_(),f(30,"button",45),N("click",function(){let o=L(t).$implicit,a=O().$implicit,r=O(2);return j(r.updateTaskStatus(a,o._id,"Done"))}),U(31,"span",49),y(32," Done "),_()()(),f(33,"span",50),y(34),_()()()()}if(n&2){let t=e.$implicit,i=qt(19),o=O(3);C(4),it(t.title),C(),S("routerLink",bo(8,dI,t.projectId,t._id)),C(5),it(t.description),C(3),S("matMenuTriggerFor",i)("ngClass",o.getStatusClass(t.status)),C(2),it(t.status),C(18),S("ngClass",o.getPriorityClass(t.priority)),C(),W(" ",t.priority," ")}}function uI(n,e){if(n&1&&(f(0,"mat-expansion-panel",26)(1,"mat-expansion-panel-header",27)(2,"mat-panel-title",28),y(3),_()(),f(4,"div",29),B(5,pI,35,11,"mat-card",30),_()()),n&2){let t=e.$implicit,i=O(2);S("expanded",!0),C(3),W(" ",i.tasksByProject[t].projectName," "),C(2),S("ngForOf",i.tasksByProject[t].tasks)}}function fI(n,e){if(n&1){let t=K();f(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2",9),y(4," Tasks Assigned to You "),_(),f(5,"div",10)(6,"mat-form-field",11)(7,"mat-label"),y(8,"Sort by"),_(),f(9,"mat-select",12),N("selectionChange",function(o){L(t);let a=O();return j(a.onSortChange(o))}),B(10,mI,3,2,"mat-option",13),_()(),f(11,"button",14),N("click",function(){L(t);let o=O();return j(o.toggleSortDirection())}),f(12,"mat-icon",15),y(13," sort "),_()()()(),f(14,"div",16)(15,"div",17)(16,"mat-icon",18),y(17,"assignment"),_(),f(18,"span"),y(19),_()(),f(20,"div",17)(21,"mat-icon",19),y(22,"check_circle"),_(),f(23,"span"),y(24),_()(),f(25,"div",17)(26,"mat-icon",20),y(27,"cancel"),_(),f(28,"span"),y(29),_()(),f(30,"div",17)(31,"mat-icon",21),y(32,"pending"),_(),f(33,"span"),y(34),_()(),f(35,"div",17)(36,"mat-icon",22),y(37,"not_started"),_(),f(38,"span"),y(39),_()()()(),f(40,"mat-accordion",23),B(41,uI,6,3,"mat-expansion-panel",24),_()()}if(n&2){let t=O();C(9),S("value",t.sortBy),C(),S("ngForOf",t.sortOptions),C(),S("matTooltip","Sort "+(t.sortDirection==="asc"?"Ascending":"Descending"))("ngClass",pn(11,cI)),C(),S("ngClass",_o(12,lI,t.sortDirection==="desc")),C(7),W("Total Tasks: ",t.getTotalTasks(),""),C(5),W("Completed: ",t.getCompletedTasks(),""),C(5),W("Stuck: ",t.getStuckTasks(),""),C(5),W("In Progress: ",t.getInProgressTasks(),""),C(5),W("Not Started: ",t.getNotStartedTasks(),""),C(2),S("ngForOf",t.objectKeys(t.tasksByProject))}}var Mc=class n{constructor(e){this.projectService=e}tasksByProject={};statuses=["Not Started","In Progress","Stuck","Done"];priorities=["Critical","High","Medium","Low"];sortBy="status";sortDirection="asc";sortOptions=[{value:"status",label:"Status",icon:"list_alt"},{value:"priority",label:"Priority",icon:"priority_high"},{value:"title",label:"Title",icon:"sort_by_alpha"}];isLoading=!1;isUpdatingTask=null;ngOnInit(){this.loadAssignedTasks()}loadAssignedTasks(){this.isLoading=!0,this.projectService.getAssignedTasks().subscribe({next:e=>{this.organizeTasksByProject(e),this.sortTasks(),this.isLoading=!1},error:e=>{console.error("Error loading assigned tasks:",e),this.isLoading=!1}})}organizeTasksByProject(e){this.tasksByProject=e.reduce((t,i)=>(t[i.projectId]||(t[i.projectId]={projectName:i.projectName,tasks:[]}),t[i.projectId].tasks.push(i),t),{})}sortTasks(){Object.values(this.tasksByProject).forEach(e=>{e.tasks.sort((t,i)=>{let o=0;switch(this.sortBy){case"status":o=this.compareStatus(t.status,i.status);break;case"priority":o=this.comparePriority(t.priority,i.priority);break;case"title":o=t.title.localeCompare(i.title);break}return this.sortDirection==="asc"?o:-o})})}compareStatus(e,t){let i={"Not Started":0,"In Progress":1,Stuck:2,Done:3};return(i[e]??0)-(i[t]??0)}comparePriority(e,t){let i={critical:0,high:1,medium:2,low:3},o=e.toLowerCase(),a=t.toLowerCase();return(i[o]??999)-(i[a]??999)}onSortChange(e){this.sortBy=e.value,this.sortTasks()}toggleSortDirection(){this.sortDirection=this.sortDirection==="asc"?"desc":"asc",this.sortTasks()}get objectKeys(){return Object.keys}updateTaskStatus(e,t,i){this.isUpdatingTask=t,this.projectService.updateTaskStatus(e,t,i).subscribe({next:o=>{let a=this.tasksByProject[e].tasks.find(r=>r._id===t);a&&(a.status=i),this.isUpdatingTask=null},error:o=>{console.error("Error updating task status:",o),this.isUpdatingTask=null}})}getStatusClass(e){switch(e){case"Not Started":return"bg-gray-500 text-white";case"In Progress":return"bg-blue-500 text-white";case"Stuck":return"bg-red-500 text-white";case"Done":return"bg-green-500 text-white";default:return"bg-gray-500 text-white"}}getPriorityClass(e){switch(e.toLowerCase()){case"low":return"bg-green-500 text-white";case"medium":return"bg-yellow-500 text-white";case"high":return"bg-orange-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}}getSortIcon(e){return{status:"list_alt",priority:"priority_high",title:"sort_by_alpha"}[e]||"sort"}getTotalTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.length,0)}getCompletedTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.filter(i=>i.status==="Done").length,0)}getStuckTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.filter(i=>i.status==="Stuck").length,0)}getInProgressTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.filter(i=>i.status==="In Progress").length,0)}getNotStartedTasks(){return Object.values(this.tasksByProject).reduce((e,t)=>e+t.tasks.filter(i=>i.status==="Not Started").length,0)}static \u0275fac=function(t){return new(t||n)(I(Ve))};static \u0275cmp=Z({type:n,selectors:[["app-assigned-tasks"]],standalone:!0,features:[Q],decls:3,vars:2,consts:[["statusMenu","matMenu"],[1,"content","w-full","min-h-screen","mx-auto","p-2","sm:p-4","md:p-6","dark:bg-gray-900"],["class","flex max-w-6xl mx-auto justify-center items-center min-h-[calc(100vh-64px)]",4,"ngIf"],["class","container mx-auto px-2 sm:px-4 md:px-6 py-4 sm:py-6 md:py-8",4,"ngIf"],[1,"flex","max-w-6xl","mx-auto","justify-center","items-center","min-h-[calc(100vh-64px)]"],["diameter","40"],[1,"container","mx-auto","px-2","sm:px-4","md:px-6","py-4","sm:py-6","md:py-8"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","p-3","sm:p-4","md:p-6","mb-4","sm:mb-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-3","sm:gap-4"],[1,"text-lg","sm:text-xl","md:text-2xl","lg:text-3xl","font-bold","text-gray-800","dark:text-gray-100"],[1,"flex","items-center","gap-3","w-full","sm:w-auto"],["appearance","fill",1,"w-full","sm:w-48","sorting-field"],["panelClass","sort-select-panel",3,"selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],["mat-icon-button","",1,"sort-direction-btn",3,"click","matTooltip","ngClass"],[1,"transform","transition-transform","duration-200",3,"ngClass"],[1,"mt-4","flex","flex-wrap","gap-4","text-sm","text-gray-600"],[1,"flex","items-center","gap-2"],[1,"text-gray-400"],[1,"text-green-500"],[1,"text-red-500"],[1,"text-blue-500"],[1,"text-gray-500"],["multi",""],["class","mb-3 sm:mb-4 dark:bg-gray-800",3,"expanded",4,"ngFor","ngForOf"],[3,"value"],[1,"mb-3","sm:mb-4","dark:bg-gray-800",3,"expanded"],[1,"dark:bg-gray-800"],[1,"project-title","text-sm","sm:text-base","md:text-lg","font-semibold","text-gray-800","dark:text-gray-100","truncate"],[1,"task-list","dark:bg-gray-800"],["class","task-card flex flex-col h-full dark:bg-gray-700",4,"ngFor","ngForOf"],[1,"task-card","flex","flex-col","h-full","dark:bg-gray-700"],[1,"flex","justify-between","items-start","mb-2"],[1,"p-0"],[1,"text-base","sm:text-lg","md:text-xl","font-semibold"],["mat-icon-button","","aria-label","View task details",1,"text-gray-400","dark:text-gray-400","hover:text-blue-600","dark:hover:text-blue-400","transition-colors","duration-200","-mt-2","-mr-2",3,"routerLink"],[1,"text-sm","sm:text-base","md:text-lg"],[1,"flex-grow","mb-2","sm:mb-3"],[1,"text-xs","sm:text-sm","md:text-base","text-gray-600"],[1,"task-details","mt-auto"],[1,"flex","items-center","justify-between"],[1,"px-3","py-1","rounded-tl-full","rounded-bl-full","text-xs","sm:text-sm","font-medium","flex","items-center","transition-colors","duration-200","ease-in-out","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"matMenuTriggerFor","ngClass"],[1,"mr-1"],[1,"text-xs","sm:text-sm"],[1,"custom-menu"],["mat-menu-item","",1,"flex","items-center","dark:text-gray-100","dark:hover:bg-gray-700",3,"click"],[1,"w-3","h-3","rounded-full","bg-gray-500","mr-3"],[1,"w-3","h-3","rounded-full","bg-blue-500","mr-3"],[1,"w-3","h-3","rounded-full","bg-red-500","mr-3"],[1,"w-3","h-3","rounded-full","bg-green-500","mr-3"],[1,"px-3","py-2","sm:py-1.5","rounded-tr-full","rounded-br-full","text-xs","sm:text-sm","font-medium",3,"ngClass"]],template:function(t,i){t&1&&(f(0,"div",1),B(1,hI,2,0,"div",2)(2,fI,42,14,"div",3),_()),t&2&&(C(),S("ngIf",i.isLoading),C(),S("ngIf",!i.isLoading))},dependencies:[dt,ye,Lt,yt,_n,Ut,Yt,la,F0,z0,B0,N0,jt,Fe,cs,yp,fl,gl,xp,Ei,Ce,ze,Ti,Si,we,Qt,je,Mi,Pi,fn,wo,gn,Ao,Eo,he,ke],styles:[".content[_ngcontent-%COMP%]{padding:20px;min-height:calc(100vh - 64px)}.task-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px;padding:16px;border-radius:8px}.task-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1.5rem}.task-card[_ngcontent-%COMP%]:hover{box-shadow:0 5px 15px #0000004d}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex-grow:1;overflow:hidden;margin-bottom:1.5rem}.task-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-height:4.5em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.task-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.status[_ngcontent-%COMP%], .priority[_ngcontent-%COMP%]{padding:5px 10px;border-radius:15px;font-size:12px;font-weight:700}.sort-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}mat-form-field.sort-select[_ngcontent-%COMP%]{width:120px}.project-title[_ngcontent-%COMP%]{flex:1;white-space:normal;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.dark[_nghost-%COMP%]   .content[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#111827}.dark[_nghost-%COMP%]   .bg-white[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .bg-white[_ngcontent-%COMP%]{background-color:#1f2937}.dark[_nghost-%COMP%]   .text-gray-800[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .text-gray-800[_ngcontent-%COMP%]{color:#f3f4f6}.dark[_nghost-%COMP%]   .text-gray-600[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .text-gray-600[_ngcontent-%COMP%]{color:#9ca3af}.dark[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{background-color:#374151!important;border:1px solid #4b5563}.dark[_nghost-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{background-color:#1f2937!important}.dark[_nghost-%COMP%]   .sorting-field[_ngcontent-%COMP%]   :is(.mat-mdc-form-field-focus-overla[_ngcontent-%COMP%]), .dark   [_nghost-%COMP%]   .sorting-field[_ngcontent-%COMP%]   :is(.mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%], .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]){background-color:#374151}.dark[_nghost-%COMP%]   .sorting-field[_ngcontent-%COMP%]   :is(.mat-mdc-form-field-labe[_ngcontent-%COMP%]), .dark   [_nghost-%COMP%]   .sorting-field[_ngcontent-%COMP%]   :is(.mat-mdc-form-field-label[_ngcontent-%COMP%], .mat-mdc-select-arrow[_ngcontent-%COMP%]){color:#d1d5db}.dark[_nghost-%COMP%]   .sorting-field[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .sorting-field[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%]{color:#f3f4f6}.dark[_nghost-%COMP%]   .not-started[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .not-started[_ngcontent-%COMP%]{background-color:#4b5563}.dark[_nghost-%COMP%]   .in-progress[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .in-progress[_ngcontent-%COMP%]{background-color:#2563eb}.dark[_nghost-%COMP%]   .stuck[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .stuck[_ngcontent-%COMP%]{background-color:#dc2626}.dark[_nghost-%COMP%]   :is(.don[_ngcontent-%COMP%]), .dark   [_nghost-%COMP%]   :is(.done[_ngcontent-%COMP%], .low[_ngcontent-%COMP%]){background-color:#16a34a}.dark[_nghost-%COMP%]   .medium[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .medium[_ngcontent-%COMP%]{background-color:#ca8a04;color:#111827}.dark[_nghost-%COMP%]   .high[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .high[_ngcontent-%COMP%]{background-color:#ea580c}.dark[_nghost-%COMP%]   .critical[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .critical[_ngcontent-%COMP%]{background-color:#9333ea}.dark[_nghost-%COMP%]   .mat-icon-button.text-gray-400[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .mat-icon-button.text-gray-400[_ngcontent-%COMP%]{color:#9ca3af}.dark[_nghost-%COMP%]   .mat-icon-button.text-gray-400[_ngcontent-%COMP%]:hover, .dark   [_nghost-%COMP%]   .mat-icon-button.text-gray-400[_ngcontent-%COMP%]:hover{color:#60a5fa}@media (max-width: 640px){.sort-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:.5rem}mat-form-field.sort-select[_ngcontent-%COMP%]{width:100%}.project-title[_ngcontent-%COMP%]{-webkit-line-clamp:1}}"]})};var gI=(n,e,t,i)=>({"bg-gray-400":n,"bg-blue-400":e,"bg-red-400":t,"bg-green-400":i}),_I=(n,e,t,i,o)=>({"text-gray-400":n,"text-green-400":e,"text-yellow-400":t,"text-orange-400":i,"text-red-400":o}),bI=(n,e,t,i)=>({"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300":n,"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300":e,"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300":t,"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300":i}),vI=(n,e,t,i,o)=>({"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300":n,"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300":e,"bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300":t,"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-300":i,"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300":o});function xI(n,e){if(n&1&&(f(0,"mat-option",26)(1,"div",27),U(2,"span",28),y(3),_()()),n&2){let t=e.$implicit;S("value",t),C(2),S("ngClass",al(3,gI,t==="Not Started",t==="In Progress",t==="Stuck",t==="Done")),C(),W(" ",t," ")}}function yI(n,e){if(n&1&&(f(0,"mat-option",26)(1,"div",27)(2,"mat-icon",29),y(3),_(),y(4),Kt(5,"titlecase"),_()()),n&2){let t=e.$implicit;S("value",t),C(3),it(t==="task"?"task_alt":"bug_report"),C(),W(" ",gi(5,3,t)," ")}}function kI(n,e){if(n&1&&(f(0,"mat-option",26)(1,"div",27)(2,"mat-icon",30),y(3),_(),y(4),Kt(5,"titlecase"),_()()),n&2){let t=e.$implicit;S("value",t),C(2),S("ngClass",rl(6,_I,t==="none",t==="low",t==="medium",t==="high",t==="critical")),C(),it(t==="none"?"remove":"priority_high"),C(),W(" ",gi(5,4,t)," ")}}function CI(n,e){if(n&1&&(f(0,"div",18)(1,"div",19)(2,"mat-form-field",20)(3,"mat-label"),y(4,"Status"),_(),f(5,"mat-select",21)(6,"mat-option",22),y(7,"All Statuses"),_(),B(8,xI,4,8,"mat-option",23),_(),f(9,"mat-icon",9),y(10,"flag"),_()(),f(11,"mat-form-field",20)(12,"mat-label"),y(13,"Type"),_(),f(14,"mat-select",24)(15,"mat-option",22),y(16,"All Types"),_(),B(17,yI,6,5,"mat-option",23),_(),f(18,"mat-icon",9),y(19,"category"),_()(),f(20,"mat-form-field",20)(21,"mat-label"),y(22,"Priority"),_(),f(23,"mat-select",25)(24,"mat-option",22),y(25,"All Priorities"),_(),B(26,kI,6,12,"mat-option",23),_(),f(27,"mat-icon",9),y(28,"priority_high"),_()()()()),n&2){let t=O();S("@slideInOut",t.isFiltersVisible),C(8),S("ngForOf",t.statusOptions),C(9),S("ngForOf",t.typeOptions),C(9),S("ngForOf",t.priorityOptions)}}function wI(n,e){n&1&&(f(0,"div",31),U(1,"mat-spinner",32),_())}function MI(n,e){if(n&1&&(f(0,"div",33)(1,"h3",34),y(2),_(),f(3,"div",35),y(4," Showing all matches "),_()()),n&2){let t=O();C(2),W(" Results (",t.searchResults.length,") ")}}function SI(n,e){if(n&1&&(f(0,"span",47),y(1),_()),n&2){let t=O().$implicit;S("ngClass",al(2,bI,t.status==="Not Started",t.status==="In Progress",t.status==="Stuck",t.status==="Done")),C(),W(" ",t.status," ")}}function PI(n,e){if(n&1&&(f(0,"span",47),y(1),Kt(2,"titlecase"),_()),n&2){let t=O().$implicit;S("ngClass",rl(4,vI,t.priority==="none",t.priority==="low",t.priority==="medium",t.priority==="high",t.priority==="critical")),C(),W(" ",gi(2,2,t.priority)," ")}}function DI(n,e){if(n&1){let t=K();f(0,"div",36)(1,"div",37)(2,"div",38)(3,"div",39)(4,"mat-icon",40),y(5),_(),f(6,"h3",41),y(7),_()(),f(8,"p",42),y(9),_(),f(10,"div",43),B(11,SI,2,7,"span",44)(12,PI,3,10,"span",44),f(13,"span",45),y(14),Kt(15,"titlecase"),_()()(),f(16,"button",46),N("click",function(){let o=L(t).$implicit,a=O();return j(o.type==="project"?a.navigateToProject(o._id):a.navigateToTask(o.projectId,o._id))}),f(17,"mat-icon",29),y(18),_(),y(19),Kt(20,"titlecase"),_()()()}if(n&2){let t=e.$implicit;C(5),W(" ",t.type==="task"?"task_alt":"folder"," "),C(2),W(" ",t.type==="task"||t.type==="bug"?t.title:t.name," "),C(2),it(t.description),C(2),S("ngIf",t.status),C(),S("ngIf",t.priority),C(2),W(" ",gi(15,8,t.type)," "),C(4),it(t.type==="project"?"visibility":"task"),C(),W(" View ",gi(20,10,t.type)," ")}}function II(n,e){n&1&&(f(0,"div",48)(1,"mat-icon",49),y(2,"search_off"),_(),f(3,"p",50),y(4,"No results found"),_(),f(5,"p",51),y(6,"Try adjusting your search or filters"),_()())}var Sc=class n{constructor(e,t){this.searchService=e;this.router=t}searchForm=new Wm({searchTerm:new Ra(""),status:new Ra(""),priority:new Ra(""),type:new Ra("")});searchResults=[];searchSubscription=null;unsubscribe$=new lt;statusOptions=["Not Started","In Progress","Stuck","Done"];priorityOptions=["none","low","medium","high","critical"];typeOptions=["task","bug"];isFiltersVisible=!1;isLoading=!1;ngOnInit(){this.searchSubscription=this.searchForm.valueChanges.pipe(Ar(300),po(),Lr(e=>e.searchTerm&&e.searchTerm.trim()!==""?(this.isLoading=!0,this.searchService.searchProjectsAndTasks(e.searchTerm,e.status||void 0,e.priority||void 0,e.type||void 0).pipe(ka(()=>this.isLoading=!1))):Wh([]))).subscribe({next:e=>{this.searchResults=e},error:e=>{console.error("Error searching:",e)}})}ngOnDestroy(){this.searchSubscription&&this.searchSubscription.unsubscribe(),this.unsubscribe$.next(),this.unsubscribe$.complete()}navigateToProject(e){this.router.navigate(["/projects",e])}navigateToTask(e,t){this.router.navigate(["/projects",e,"tasks",t])}toggleFilters(){this.isFiltersVisible=!this.isFiltersVisible}static \u0275fac=function(t){return new(t||n)(I(Io),I(Wt))};static \u0275cmp=Z({type:n,selectors:[["app-search"]],standalone:!0,features:[Q],decls:25,vars:11,consts:[[1,"bg-gradient-to-br","from-gray-50","to-gray-100","dark:from-gray-900","dark:to-gray-800","min-h-screen","p-4","sm:p-6","lg:p-8"],[1,"max-w-7xl","mx-auto"],[1,"bg-white","dark:bg-gray-800","backdrop-blur-lg","rounded-2xl","p-8","shadow-lg","border","border-gray-100","dark:border-gray-700"],[1,"text-3xl","font-bold","text-gray-800","dark:text-gray-100","mb-2","text-center"],[1,"text-gray-500","dark:text-gray-400","text-center","mb-8"],[1,"space-y-6",3,"formGroup"],[1,"flex","justify-center","items-center","max-w-2xl","mx-auto","relative"],["appearance","fill",1,"w-full"],["matInput","","formControlName","searchTerm","placeholder","Type to search..."],["matSuffix",""],["mat-icon-button","","type","button",1,"ml-2","filter-toggle-btn",3,"click","color"],["class","bg-gray-50 dark:bg-gray-700 rounded-xl p-6",4,"ngIf"],["class","flex justify-center items-center py-8",4,"ngIf"],[1,"mt-8","space-y-4"],["class","flex items-center justify-between mb-6",4,"ngIf"],[1,"space-y-4"],["class","bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-all duration-200",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[1,"bg-gray-50","dark:bg-gray-700","rounded-xl","p-6"],[1,"flex","space-x-4"],["appearance","fill",1,"w-1/3"],["formControlName","status"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","type"],["formControlName","priority"],[3,"value"],[1,"flex","items-center"],[1,"w-2","h-2","rounded-full","mr-2",3,"ngClass"],[1,"mr-2"],[1,"mr-2","text-sm",3,"ngClass"],[1,"flex","justify-center","items-center","py-8"],["diameter","40"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-medium","text-gray-700"],[1,"text-sm","text-gray-500"],[1,"bg-white","dark:bg-gray-800","border","dark:border-gray-700","rounded-lg","p-4","hover:shadow-md","transition-all","duration-200"],[1,"flex","justify-between","items-start"],[1,"flex-1"],[1,"flex","items-center","mb-2"],[1,"mr-2","text-gray-400"],[1,"text-lg","font-semibold","text-gray-800","dark:text-gray-100"],[1,"text-gray-600","dark:text-gray-300","mb-3"],[1,"flex","gap-2"],["class","px-2 py-1 text-sm rounded-full",3,"ngClass",4,"ngIf"],[1,"px-2","py-1","text-sm","rounded-full","bg-gray-100","dark:bg-gray-700","text-gray-600","dark:text-gray-300"],["mat-flat-button","","color","primary",1,"ml-4",3,"click"],[1,"px-2","py-1","text-sm","rounded-full",3,"ngClass"],[1,"text-center","py-12"],[1,"text-gray-300","dark:text-gray-600","text-6xl","mb-4"],[1,"text-gray-500","dark:text-gray-400","text-lg"],[1,"text-gray-400","dark:text-gray-500","text-sm","mt-2"]],template:function(t,i){if(t&1&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4,"Search"),_(),f(5,"p",4),y(6,"Find projects and tasks across your workspace"),_(),f(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),y(11,"Search projects & tasks"),_(),U(12,"input",8),f(13,"mat-icon",9),y(14,"search"),_()(),f(15,"button",10),N("click",function(){return i.toggleFilters()}),f(16,"mat-icon"),y(17,"filter_list"),_()()(),B(18,CI,29,4,"div",11),_(),B(19,wI,2,0,"div",12),f(20,"div",13),B(21,MI,5,1,"div",14),f(22,"div",15),B(23,DI,21,12,"div",16),_(),B(24,II,7,0,"div",17),_()()()()),t&2){let o;C(7),S("formGroup",i.searchForm),C(8),S("color",i.isFiltersVisible?"primary":""),C(3),S("ngIf",i.isFiltersVisible),C(),S("ngIf",i.isLoading),C(),ft("opacity-50",i.isLoading),C(),S("ngIf",i.searchResults.length>0),C(),ft("pointer-events-none",i.isLoading),C(),S("ngForOf",i.searchResults),C(),S("ngIf",!i.isLoading&&i.searchResults.length===0&&((o=i.searchForm.get("searchTerm"))==null?null:o.value))}},dependencies:[dt,ye,Lt,yt,pm,Be,si,Ce,ze,Do,we,Ei,Ti,Si,Qt,Ii,le,de,Di,ts,Qr,Jr,jt,ce,Fe,Ut,Yt,he,ke],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:250px}.content[_ngcontent-%COMP%]{padding:20px}mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:500px}  .mat-flat-button{line-height:46px!important}.filter-button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.filter-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.dark[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{--mdc-filled-text-field-container-color: #374151;--mdc-filled-text-field-label-text-color: #d1d5db;--mdc-filled-text-field-input-text-color: #fff}.dark[_nghost-%COMP%]   .mat-mdc-select-panel[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .mat-mdc-select-panel[_ngcontent-%COMP%]{background:#1f2937;color:#fff}"],data:{animation:[Ta("slideInOut",[Co(":enter",[Zi({opacity:0,height:0}),ko("200ms ease-out",Zi({opacity:1,height:"*"}))]),Co(":leave",[ko("200ms ease-in",Zi({opacity:0,height:0}))])])]}})};function OI(n,e){n&1&&U(0,"mat-spinner",15),n&2&&S("diameter",20)}var Pc=class n{constructor(e,t,i){this.authService=e;this.router=t;this.snackBar=i}email="";isLoading=!1;onSubmit(){if(!this.email){this.showMessage("Please enter your email address");return}this.isLoading=!0,this.authService.forgotPassword(this.email).subscribe({next:()=>{this.isLoading=!1,this.showMessage("Password reset link has been sent to your email"),setTimeout(()=>this.router.navigate(["/login"]),3e3)},error:e=>{this.isLoading=!1,this.showMessage(e.error?.message||"Failed to send reset link")}})}showMessage(e){this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top"})}static \u0275fac=function(t){return new(t||n)(I(Jt),I(Wt),I(vn))};static \u0275cmp=Z({type:n,selectors:[["app-forgot-password"]],standalone:!0,features:[Q],decls:22,vars:5,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],["src","https://res.cloudinary.com/db2tvcbza/image/upload/v1730869163/logo_sfhhhd.png","alt","logo","crossorigin","anonymous",1,"mx-auto","h-12","w-auto"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"mt-2","text-center","text-sm","text-gray-600"],[1,"space-y-4","w-full",3,"ngSubmit"],[1,"flex","flex-col"],["for","email",1,"text-sm","font-medium","text-gray-600","mb-1"],["id","email","name","email","type","email","required","",1,"px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","mt-4",3,"disabled"],[1,"flex","items-center","justify-center"],["class","mr-2",3,"diameter",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-600"],["routerLink","/login",1,"font-medium","text-indigo-600","hover:text-indigo-500"],[1,"mr-2",3,"diameter"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1)(2,"div"),U(3,"img",2),f(4,"h2",3),y(5," Forgot Password "),_(),f(6,"p",4),y(7," Enter your email address and we'll send you a link to reset your password. "),_()(),f(8,"form",5),N("ngSubmit",function(){return i.onSubmit()}),f(9,"div",6)(10,"label",7),y(11,"Email Address"),_(),f(12,"input",8),vt("ngModelChange",function(a){return bt(i.email,a)||(i.email=a),a}),_()(),f(13,"button",9)(14,"span",10),B(15,OI,1,1,"mat-spinner",11),y(16),_()()(),f(17,"div",12)(18,"p",13),y(19," Remember your password? "),f(20,"a",14),y(21," Back to Login "),_()()()()()),t&2&&(C(12),_t("ngModel",i.email),S("disabled",i.isLoading),C(),S("disabled",i.isLoading),C(2),S("ngIf",i.isLoading),C(),W(" ",i.isLoading?"Sending...":"Send Reset Link \u2192"," "))},dependencies:[dt,yt,Qt,Ii,le,de,Di,So,Ne,Mo,xn,he,ke,je,Mi],encapsulation:2})};function TI(n,e){n&1&&U(0,"mat-spinner",16),n&2&&S("diameter",20)}var Dc=class n{constructor(e,t,i,o){this.authService=e;this.route=t;this.router=i;this.snackBar=o}newPassword="";confirmPassword="";token="";isLoading=!1;ngOnInit(){this.route.queryParams.subscribe(e=>{this.token=e.token,this.token||(this.showMessage("Invalid token"),setTimeout(()=>this.router.navigate(["/login"]),3e3))})}onSubmit(){if(!this.newPassword||!this.confirmPassword){this.showMessage("Please enter both passwords");return}if(this.newPassword!==this.confirmPassword){this.showMessage("Passwords do not match");return}this.isLoading=!0,this.authService.resetPassword(this.token,this.newPassword).subscribe({next:()=>{this.isLoading=!1,this.showMessage("Password has been reset successfully"),setTimeout(()=>this.router.navigate(["/login"]),3e3)},error:e=>{this.isLoading=!1,this.showMessage(e.error?.message||"Failed to reset password")}})}showMessage(e){this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top"})}static \u0275fac=function(t){return new(t||n)(I(Jt),I(vo),I(Wt),I(vn))};static \u0275cmp=Z({type:n,selectors:[["app-reset-password"]],standalone:!0,features:[Q],decls:24,vars:7,consts:[[1,"min-h-screen","flex","flex-col","items-center","justify-center","bg-gray-50","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],["src","https://res.cloudinary.com/db2tvcbza/image/upload/v1730869163/logo_sfhhhd.png","alt","logo","crossorigin","anonymous",1,"mx-auto","h-12","w-auto"],[1,"mt-6","text-center","text-3xl","font-extrabold","text-gray-900"],[1,"space-y-4","w-full",3,"ngSubmit"],[1,"flex","flex-col"],["for","password",1,"text-sm","font-medium","text-gray-600","mb-1"],["id","password","name","password","type","password","required","",1,"px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","disabled"],["for","confirmPassword",1,"text-sm","font-medium","text-gray-600","mb-1"],["id","confirmPassword","name","confirmPassword","type","password","required","",1,"px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel","disabled"],["type","submit",1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","mt-4",3,"disabled"],[1,"flex","items-center","justify-center"],["class","mr-2",3,"diameter",4,"ngIf"],[1,"mt-6","text-center"],[1,"text-sm","text-gray-600"],["routerLink","/login",1,"font-medium","text-indigo-600","hover:text-indigo-500"],[1,"mr-2",3,"diameter"]],template:function(t,i){t&1&&(f(0,"div",0)(1,"div",1)(2,"div"),U(3,"img",2),f(4,"h2",3),y(5," Reset Password "),_()(),f(6,"form",4),N("ngSubmit",function(){return i.onSubmit()}),f(7,"div",5)(8,"label",6),y(9,"New Password"),_(),f(10,"input",7),vt("ngModelChange",function(a){return bt(i.newPassword,a)||(i.newPassword=a),a}),_()(),f(11,"div",5)(12,"label",8),y(13,"Confirm Password"),_(),f(14,"input",9),vt("ngModelChange",function(a){return bt(i.confirmPassword,a)||(i.confirmPassword=a),a}),_()(),f(15,"button",10)(16,"span",11),B(17,TI,1,1,"mat-spinner",12),y(18),_()()(),f(19,"div",13)(20,"p",14),y(21," Remember your password? "),f(22,"a",15),y(23," Back to Login "),_()()()()()),t&2&&(C(10),_t("ngModel",i.newPassword),S("disabled",i.isLoading),C(4),_t("ngModel",i.confirmPassword),S("disabled",i.isLoading),C(),S("disabled",i.isLoading),C(2),S("ngIf",i.isLoading),C(),W(" ",i.isLoading?"Resetting...":"Reset Password \u2192"," "))},dependencies:[dt,yt,Qt,Ii,le,de,Di,So,Ne,Mo,xn,he,ke,je,Mi],encapsulation:2})};var W0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-KB5YGI4S.js").then(n=>n.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-UXA6ZQT7.js").then(n=>n.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-SW2HHXGM.js").then(n=>n.RegisterComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-BQ3CWKVC.js").then(n=>n.DashboardComponent),canActivate:[Cn]},{path:"projects/:id",component:kc,canActivate:[Cn]},{path:"projects/:projectId/tasks/:taskId",component:wc,canActivate:[Cn]},{path:"assigned-tasks",component:Mc,canActivate:[Cn]},{path:"search",component:Sc,canActivate:[Cn]},{path:"forgot-password",component:Pc,title:"Forgot Password"},{path:"reset-password",component:Dc,title:"Reset Password"},{path:"profile",loadComponent:()=>import("./chunk-YEWPMKRW.js").then(n=>n.ProfileComponent)}];var EI="@",AI=(()=>{class n{constructor(t,i,o,a,r){this.doc=t,this.delegate=i,this.zone=o,this.animationType=a,this.moduleImpl=r,this._rendererFactoryPromise=null,this.scheduler=_e(Qh,{optional:!0}),this.loadingSchedulerFn=_e(RI,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-FTIKZEAE.js").then(o=>o),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(o=>{throw new $h(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc);let r=new a(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(t,i){let o=this.delegate.createRenderer(t,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new Gd(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(r=>{let s=r.createRenderer(t,i);a.use(s),this.scheduler?.notify(10)}).catch(r=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){Zh()}}static{this.\u0275prov=re({token:n,factory:n.\u0275fac})}}return n})(),Gd=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,o){this.delegate.insertBefore(e,t,i,o)}removeChild(e,t,i){this.delegate.removeChild(e,t,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(e,t,i)),this.delegate.listen(e,t,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(EI)}},RI=new St("");function Y0(n="animations"){return em("NgAsyncAnimations"),Kh([{provide:Jh,useFactory:(e,t,i)=>new AI(e,t,i,n),deps:[oi,bm,De]},{provide:ii,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var U0=(n,e)=>{let t=localStorage.getItem("token");if(t){let i=n.clone({headers:n.headers.set("Authorization",`Bearer ${t}`)});return e(i)}return e(n)};vm(ds,{providers:[tl(Jt),tl(je.forRoot(W0)),fm(gm([U0])),Y0()]}).catch(n=>console.error(n));
