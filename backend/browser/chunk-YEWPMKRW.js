import{b as Z,c as te,d as ie,e as ne,f as ae,k as re}from"./chunk-IBFKEOVN.js";import{a as B,b as V,c as G,d as H,e as A,g as Y,h as q,k as J,l as K,n as Q,o as X}from"./chunk-XSM6QQML.js";import{Ba as R,Ca as j,H as L,Ia as z,La as $,Ma as ee,U as D,X as W,ra as U,wa as T,xa as F,za as N}from"./chunk-EUDFLDIN.js";import{m as O,n as I}from"./chunk-SRORKJFO.js";import"./chunk-EJJBCPAK.js";import{$a as k,Hb as t,Ib as e,Jb as x,Nb as y,Qb as P,Sb as c,Xc as v,ad as E,bc as S,cb as l,cc as a,db as _,ec as M,gc as p,hc as u,ic as h,kc as w,oa as C,ub as b,xa as f,ya as g,yb as s}from"./chunk-65NVJTBR.js";function le(d,m){d&1&&(t(0,"div",5),x(1,"mat-spinner",6),e())}function me(d,m){d&1&&(t(0,"mat-icon"),a(1,"save"),e())}function de(d,m){d&1&&x(0,"mat-spinner",41)}function se(d,m){if(d&1){let r=y();t(0,"div",7)(1,"div",8)(2,"button",9)(3,"mat-icon",10),a(4,"arrow_back"),e(),a(5," Back to Dashboard "),e(),t(6,"div",11)(7,"h2",12),a(8," Profile Settings "),e(),t(9,"div",13)(10,"div",14)(11,"div",15),x(12,"img",16),e(),t(13,"div",17)(14,"h2",18),a(15),e(),t(16,"p",19),a(17),e()()()(),t(18,"form",20,0),P("ngSubmit",function(){f(r);let i=c();return g(i.onSubmit())}),t(20,"div",21)(21,"div",22)(22,"h3",23),a(23," Basic Information "),e(),t(24,"mat-form-field",24)(25,"mat-label"),a(26,"Username"),e(),x(27,"input",25),t(28,"mat-icon",26),a(29,"person"),e(),t(30,"mat-hint",27),a(31,"Username cannot be changed"),e()(),t(32,"mat-form-field",24)(33,"mat-label"),a(34,"Full Name"),e(),t(35,"input",28),h("ngModelChange",function(i){f(r);let o=c();return u(o.name,i)||(o.name=i),g(i)}),e(),t(36,"mat-icon",26),a(37,"badge"),e()(),t(38,"mat-form-field",24)(39,"mat-label"),a(40,"Email Address"),e(),t(41,"input",29),h("ngModelChange",function(i){f(r);let o=c();return u(o.email,i)||(o.email=i),g(i)}),e(),t(42,"mat-icon",26),a(43,"email"),e()(),t(44,"mat-form-field",24)(45,"mat-label"),a(46,"Birth Date"),e(),t(47,"input",30),h("ngModelChange",function(i){f(r);let o=c();return u(o.birthDate,i)||(o.birthDate=i),g(i)}),e(),x(48,"mat-datepicker-toggle",31)(49,"mat-datepicker",null,1),e()()(),t(51,"div",21)(52,"div",22)(53,"h3",23),a(54," Social Media Links "),e(),t(55,"div",32)(56,"mat-form-field",24)(57,"mat-label"),a(58,"Twitter"),e(),t(59,"input",33),h("ngModelChange",function(i){f(r);let o=c();return u(o.socialMedia.twitter,i)||(o.socialMedia.twitter=i),g(i)}),e(),t(60,"mat-icon",26),a(61,"link"),e()(),t(62,"mat-form-field",24)(63,"mat-label"),a(64,"Instagram"),e(),t(65,"input",34),h("ngModelChange",function(i){f(r);let o=c();return u(o.socialMedia.instagram,i)||(o.socialMedia.instagram=i),g(i)}),e(),t(66,"mat-icon",26),a(67,"link"),e()(),t(68,"mat-form-field",24)(69,"mat-label"),a(70,"LinkedIn"),e(),t(71,"input",35),h("ngModelChange",function(i){f(r);let o=c();return u(o.socialMedia.linkedin,i)||(o.socialMedia.linkedin=i),g(i)}),e(),t(72,"mat-icon",26),a(73,"link"),e()(),t(74,"mat-form-field",24)(75,"mat-label"),a(76,"GitHub"),e(),t(77,"input",36),h("ngModelChange",function(i){f(r);let o=c();return u(o.socialMedia.github,i)||(o.socialMedia.github=i),g(i)}),e(),t(78,"mat-icon",26),a(79,"link"),e()()()()(),t(80,"div",37)(81,"button",38),b(82,me,2,0,"mat-icon",39)(83,de,1,0,"mat-spinner",40),a(84),e()()()()()()}if(d&2){let r=S(50),n=c();l(12),s("src","https://ui-avatars.com/api/?name="+n.username+"&background=random&size=80",k)("alt",n.username),l(3),M(" ",n.name||n.username," "),l(2),M(" ","@"+n.username," "),l(10),s("value",n.username),l(8),p("ngModel",n.name),l(6),p("ngModel",n.email),l(6),s("matDatepicker",r),p("ngModel",n.birthDate),l(),s("for",r),l(11),p("ngModel",n.socialMedia.twitter),l(6),p("ngModel",n.socialMedia.instagram),l(6),p("ngModel",n.socialMedia.linkedin),l(6),p("ngModel",n.socialMedia.github),l(4),s("disabled",n.isLoading),l(),s("ngIf",!n.isLoading),l(),s("ngIf",n.isLoading),l(),M(" ",n.isLoading?"Saving...":"Save Changes"," ")}}var oe=class d{constructor(m,r){this.userService=m;this.snackBar=r}username="";email="";name="";birthDate=null;isLoading=!1;isLoadingProfile=!0;isSaving=!1;socialMedia={twitter:"",instagram:"",linkedin:"",github:""};ngOnInit(){this.loadUserProfile()}loadUserProfile(){this.isLoadingProfile=!0,this.userService.getCurrentUserProfile().subscribe({next:m=>{this.username=m.username,this.email=m.email,this.name=m.name||"",this.birthDate=m.birthDate?new Date(m.birthDate):null,this.socialMedia=m.socialMedia||{twitter:"",instagram:"",linkedin:"",github:""},this.isLoadingProfile=!1},error:m=>{console.error("Error loading profile:",m),this.snackBar.open("Error loading profile","Close",{duration:3e3}),this.isLoadingProfile=!1}})}onSubmit(){this.isSaving=!0;let m={email:this.email,name:this.name||void 0,birthDate:this.birthDate||void 0,socialMedia:{twitter:this.socialMedia.twitter||void 0,instagram:this.socialMedia.instagram||void 0,linkedin:this.socialMedia.linkedin||void 0,github:this.socialMedia.github||void 0}};this.userService.updateUserProfile(m).subscribe({next:r=>{this.snackBar.open("Profile updated successfully","Close",{duration:3e3}),this.isSaving=!1,this.loadUserProfile()},error:r=>{console.error("Error updating profile:",r),this.snackBar.open(r.error.message||"Error updating profile","Close",{duration:3e3}),this.isSaving=!1}})}static \u0275fac=function(r){return new(r||d)(_(te),_($))};static \u0275cmp=C({type:d,selectors:[["app-profile"]],standalone:!0,features:[w],decls:3,vars:2,consts:[["profileForm","ngForm"],["picker",""],[1,"bg-gray-100","dark:bg-gray-900","min-h-screen","p-4","sm:p-6","lg:p-8","transition-colors","duration-300"],["class","flex justify-center items-center min-h-[calc(100vh-64px)]",4,"ngIf"],["class","container mx-auto px-4 py-8",4,"ngIf"],[1,"flex","justify-center","items-center","min-h-[calc(100vh-64px)]"],["diameter","40"],[1,"container","mx-auto","px-4","py-8"],[1,"max-w-7xl","mx-auto"],["mat-button","","routerLink","/dashboard",1,"mb-4","flex","items-center","text-gray-600","dark:text-gray-400","hover:text-gray-800","dark:hover:text-gray-200"],[1,"mr-2"],[1,"p-6","bg-white","dark:bg-gray-800","rounded-lg","shadow-md","transition-colors","duration-300"],[1,"text-2xl","font-semibold","mb-6","text-gray-800","dark:text-gray-200"],[1,"px-4","py-5","sm:px-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","space-x-5"],[1,"flex-shrink-0"],[1,"h-20","w-20","rounded-full","ring-4","ring-white","dark:ring-gray-700",3,"src","alt"],[1,"flex-1","min-w-0"],[1,"text-2xl","font-bold","leading-7","text-gray-900","dark:text-gray-100","sm:text-3xl","sm:truncate"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"divide-y","divide-gray-200","dark:divide-gray-700",3,"ngSubmit"],[1,"px-4","py-5","sm:p-6"],[1,"space-y-6"],[1,"text-lg","font-medium","leading-6","text-gray-900","dark:text-gray-100"],["appearance","fill",1,"w-full"],["matInput","","readonly","",3,"value"],["matSuffix",""],[1,"text-red-500"],["matInput","","name","name","placeholder","Your full name",3,"ngModelChange","ngModel"],["matInput","","name","email","type","email","placeholder","your.email@example.com",3,"ngModelChange","ngModel"],["matInput","","name","birthDate",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],[1,"grid","grid-cols-1","gap-6","sm:grid-cols-2"],["matInput","","name","twitter","placeholder","Twitter profile URL",3,"ngModelChange","ngModel"],["matInput","","name","instagram","placeholder","Instagram profile URL",3,"ngModelChange","ngModel"],["matInput","","name","linkedin","placeholder","LinkedIn profile URL",3,"ngModelChange","ngModel"],["matInput","","name","github","placeholder","GitHub profile URL",3,"ngModelChange","ngModel"],[1,"px-4","py-3","bg-gray-50","dark:bg-gray-800","text-right","sm:px-6"],["mat-raised-button","","color","primary","type","submit",1,"inline-flex","items-center",3,"disabled"],[4,"ngIf"],["diameter","20","class","mr-2",4,"ngIf"],["diameter","20",1,"mr-2"]],template:function(r,n){r&1&&(t(0,"div",2),b(1,le,2,0,"div",3)(2,se,85,18,"div",4),e()),r&2&&(l(),s("ngIf",n.isLoadingProfile),l(),s("ngIf",!n.isLoadingProfile))},dependencies:[E,v,z,j,U,T,F,R,N,I,O,W,D,V,B,X,Q,J,A,Y,q,K,re,ie,ne,ae,L,H,G,ee,Z],styles:["[_nghost-%COMP%]{display:block;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}[_nghost-%COMP%]:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}.mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}@media (max-width: 640px){.form-row[_ngcontent-%COMP%]{flex-direction:column}}.full-width[_ngcontent-%COMP%], .half-width[_ngcontent-%COMP%]{width:100%}@media (min-width: 640px){.half-width[_ngcontent-%COMP%]{width:50%}}.dark[_nghost-%COMP%]     .mat-mdc-form-field, .dark   [_nghost-%COMP%]     .mat-mdc-form-field{--mdc-filled-text-field-container-color: #374151;--mdc-filled-text-field-label-text-color: #9ca3af;--mdc-filled-text-field-input-text-color: #e5e7eb}.dark[_nghost-%COMP%]     .mat-form-field-infix input, .dark   [_nghost-%COMP%]     .mat-form-field-infix input, .dark[_nghost-%COMP%]     .mat-form-field-infix textarea, .dark   [_nghost-%COMP%]     .mat-form-field-infix textarea{color:#e5e7eb!important}.dark[_nghost-%COMP%]     .mat-form-field-empty.mat-form-field-label, .dark   [_nghost-%COMP%]     .mat-form-field-empty.mat-form-field-label, .dark[_nghost-%COMP%]     input::placeholder, .dark   [_nghost-%COMP%]     input::placeholder, .dark[_nghost-%COMP%]     textarea::placeholder, .dark   [_nghost-%COMP%]     textarea::placeholder{color:#6b7280!important}.dark[_nghost-%COMP%]     .mat-focused .mat-form-field-label, .dark   [_nghost-%COMP%]     .mat-focused .mat-form-field-label{color:#60a5fa!important}.dark[_nghost-%COMP%]     .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex, .dark   [_nghost-%COMP%]     .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{background-color:#1f2937}.dark[_nghost-%COMP%]     .mat-icon, .dark   [_nghost-%COMP%]     .mat-icon{color:#9ca3af!important}.dark[_nghost-%COMP%]     .mat-form-field-suffix .mat-icon, .dark   [_nghost-%COMP%]     .mat-form-field-suffix .mat-icon, .dark[_nghost-%COMP%]     .mat-form-field-prefix .mat-icon, .dark   [_nghost-%COMP%]     .mat-form-field-prefix .mat-icon{color:#6b7280!important}.dark[_nghost-%COMP%]     .mat-focused .mat-form-field-suffix .mat-icon, .dark   [_nghost-%COMP%]     .mat-focused .mat-form-field-suffix .mat-icon, .dark[_nghost-%COMP%]     .mat-focused .mat-form-field-prefix .mat-icon, .dark   [_nghost-%COMP%]     .mat-focused .mat-form-field-prefix .mat-icon{color:#60a5fa!important}.dark[_nghost-%COMP%]     .mat-datepicker-toggle .mat-icon-button, .dark   [_nghost-%COMP%]     .mat-datepicker-toggle .mat-icon-button{color:#9ca3af!important}"]})};export{oe as ProfileComponent};
