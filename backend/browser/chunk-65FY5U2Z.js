import{a as Xe,b as Ze,e as ee,h as ei,k as ie,l as ae,n as ne,o as oe}from"./chunk-XSM6QQML.js";import{$ as Ct,A as Ge,B as wt,Ba as Zt,C as T,Fa as Kt,Ia as Jt,K as We,Ka as te,L as Ut,M as qe,U as Vt,X as mt,Y as Me,Z as Ht,_ as Ke,a as $e,aa as Mt,c as Ue,e as zt,ea as Je,g as dt,ga as ti,i as Ce,ia as Gt,ja as Wt,ka as pt,m as Ve,ma as C,pa as gt,r as He,ra as qt,s as Bt,t as $t,v as Qe,w as Ye,wa as Xt,y as J}from"./chunk-EUDFLDIN.js";import{b as Nt}from"./chunk-SRORKJFO.js";import{c as De,d as Qt,f as ht,g as Ie,i as Yt}from"./chunk-EJJBCPAK.js";import{$ as Pt,Aa as _e,Ab as Z,Ba as Lt,Bb as ze,C as Et,Cc as Y,Da as A,Db as ye,Ec as kt,Fa as nt,G as et,Ga as U,H as P,Hb as c,Ia as O,Ib as d,Ja as je,Jb as ot,N as W,Nb as xe,Oa as be,Ob as ke,Oc as ct,P as ge,Qb as w,Sb as K,Tb as jt,Tc as Be,Ub as vt,Xb as yt,Yb as xt,Z as B,Zb as H,_ as ue,_b as Q,a as g,ad as G,b as j,ba as q,cb as _,cc as h,db as l,dc as Ft,ea as $,fa as L,fb as bt,gc as st,h as Tt,ha as k,hc as rt,ic as lt,ja as p,jc as we,ka as I,kb as Fe,kc as x,m as v,oa as y,p as pe,pa as R,pb as X,qa as F,qb as Ne,rb as ve,t as ft,ub as V,wa as fe,wb as Rt,x as St,xa as it,xb as D,ya as at,yb as N,za as _t}from"./chunk-65NVJTBR.js";var Ii=["mat-menu-item",""],Ai=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Oi=["mat-icon, [matMenuItemIcon]","*"];function Ti(a,o){a&1&&(_t(),c(0,"svg",2),ot(1,"polygon",3),d())}var Si=["*"];function Ei(a,o){if(a&1){let t=xe();c(0,"div",0),w("keydown",function(i){it(t);let n=K();return at(n._handleKeydown(i))})("click",function(){it(t);let i=K();return at(i.closed.emit("click"))})("@transformMenu.start",function(i){it(t);let n=K();return at(n._onAnimationStart(i))})("@transformMenu.done",function(i){it(t);let n=K();return at(n._onAnimationDone(i))}),c(1,"div",1),vt(2),d()()}if(a&2){let t=K();ze(t._classList),N("id",t.panelId)("@transformMenu",t._panelAnimationState),D("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}var Oe=new k("MAT_MENU_PANEL"),Ae=(()=>{class a{constructor(t,e,i,n,s){this._elementRef=t,this._document=e,this._focusMonitor=i,this._parentMenu=n,this._changeDetectorRef=s,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new v,this._focused=new v,this._highlighted=!1,this._triggersSubmenu=!1,n?.addItem?.(this)}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let t=this._elementRef.nativeElement.cloneNode(!0),e=t.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<e.length;i++)e[i].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(e){return new(e||a)(l(O),l(ct),l(J),l(Oe,8),l(Y))}}static{this.\u0275cmp=y({type:a,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(e,i){e&1&&w("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),e&2&&(D("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),Z("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",kt],disableRipple:[2,"disableRipple","disableRipple",kt]},exportAs:["matMenuItem"],standalone:!0,features:[ve,x],attrs:Ii,ngContentSelectors:Oi,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){e&1&&(jt(Ai),vt(0),c(1,"span",0),vt(2,1),d(),ot(3,"div",1),V(4,Ti,2,0,":svg:svg",2)),e&2&&(_(3),N("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),_(),ye(i._triggersSubmenu?4:-1))},dependencies:[We],encapsulation:2,changeDetection:0})}}return a})();var Pi=new k("MatMenuContent");var re={transformMenu:De("transformMenu",[Ie("void",ht({opacity:0,transform:"scale(0.8)"})),Yt("void => enter",Qt("120ms cubic-bezier(0, 0, 0.2, 1)",ht({opacity:1,transform:"scale(1)"}))),Yt("* => void",Qt("100ms 25ms linear",ht({opacity:0})))]),fadeInItems:De("fadeInItems",[Ie("showing",ht({opacity:1})),Yt("void => *",[ht({opacity:0}),Qt("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Pa=re.fadeInItems,La=re.transformMenu,Li=0,Ri=new k("mat-menu-default-options",{providedIn:"root",factory:ji});function ji(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var se=(()=>{class a{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}set panelClass(t){let e=this._previousPanelClass,i=g({},this._classList);e&&e.length&&e.split(" ").forEach(n=>{i[n]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(n=>{i[n]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,e,i,n){this._elementRef=t,this._changeDetectorRef=n,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new je,this._classList={},this._panelAnimationState="void",this._animationDone=new v,this.closed=new nt,this.close=this.closed,this.panelId=`mat-menu-panel-${Li++}`,this._injector=I(A),this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new He(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(B(this._directDescendantItems),ue(t=>et(...t.map(e=>e._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{let e=this._keyManager;if(this._panelAnimationState==="enter"&&e.activeItem?._hasFocus()){let i=t.toArray(),n=Math.max(0,Math.min(i.length-1,e.activeItemIndex||0));i[n]&&!i[n].disabled?e.setActiveItem(n):e.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(B(this._directDescendantItems),ue(e=>et(...e.map(i=>i._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){let e=t.keyCode,i=this._keyManager;switch(e){case 27:dt(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(e===38||e===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(t);return}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Rt(()=>{let e=null;if(this._directDescendantItems.length&&(e=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!e||!e.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&e&&e.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){if(this._baseElevation===null){let r=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(r)}let e=Math.min(this._baseElevation+t,24),i=`${this._elevationPrefix}${e}`,n=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));if(!n||n===this._previousElevation){let s=g({},this._classList);this._previousElevation&&(s[this._previousElevation]=!1),s[i]=!0,this._previousElevation=i,this._classList=s}}setPositionClasses(t=this.xPosition,e=this.yPosition){this._classList=j(g({},this._classList),{"mat-menu-before":t==="before","mat-menu-after":t==="after","mat-menu-above":e==="above","mat-menu-below":e==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,t.toState==="enter"&&this._keyManager.activeItemIndex===0&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(B(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(e=>e._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(e){return new(e||a)(l(O),l(U),l(Ri),l(Y))}}static{this.\u0275cmp=y({type:a,selectors:[["mat-menu"]],contentQueries:function(e,i,n){if(e&1&&(yt(n,Pi,5),yt(n,Ae,5),yt(n,Ae,4)),e&2){let s;H(s=Q())&&(i.lazyContent=s.first),H(s=Q())&&(i._allItems=s),H(s=Q())&&(i.items=s)}},viewQuery:function(e,i){if(e&1&&xt(bt,5),e&2){let n;H(n=Q())&&(i.templateRef=n.first)}},hostVars:3,hostBindings:function(e,i){e&2&&D("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",kt],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>t==null?null:kt(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[we([{provide:Oe,useExisting:a}]),ve,x],ngContentSelectors:Si,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(e,i){e&1&&(jt(),V(0,Ei,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[re.transformMenu,re.fadeInItems]},changeDetection:0})}}return a})(),ri=new k("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let a=I(C);return()=>a.scrollStrategies.reposition()}});function Fi(a){return()=>a.scrollStrategies.reposition()}var Ni={provide:ri,deps:[C],useFactory:Fi},ii=Ue({passive:!0});var Ra=(()=>{class a{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._parentMaterialMenu,this._menuCloseSubscription=t.close.subscribe(e=>{this._destroyMenu(e),(e==="click"||e==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(e)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,e,i,n,s,r,m,f,u){this._overlay=t,this._element=e,this._viewContainerRef=i,this._menuItemInstance=r,this._dir=m,this._focusMonitor=f,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Tt.EMPTY,this._hoverSubscription=Tt.EMPTY,this._menuCloseSubscription=Tt.EMPTY,this._changeDetectorRef=I(Y),this._handleTouchStart=M=>{Ye(M)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new nt,this.onMenuOpen=this.menuOpened,this.menuClosed=new nt,this.onMenuClose=this.menuClosed,this._scrollStrategy=n,this._parentMaterialMenu=s instanceof se?s:void 0,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,ii)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ii),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let t=this.menu;if(this._menuOpen||!t)return;let e=this._createOverlay(t),i=e.getConfig(),n=i.positionStrategy;this._setPosition(t,n),i.hasBackdrop=t.hasBackdrop==null?!this.triggersSubmenu():t.hasBackdrop,e.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof se&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Pt(t.close)).subscribe(()=>{n.withLockedPosition(!1).reapplyLastPosition(),n.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,e){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;let e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(t==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,e instanceof se?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(P(i=>i.toState==="void"),W(1),Pt(e.lazyContent._attached)).subscribe({next:()=>e.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let e=0,i=t.parentMenu;for(;i;)e++,i=i.parentMenu;t.setElevation(e)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){let e=this._getOverlayConfig(t);this._subscribeToPositions(t,e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Gt({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,e){t.setPositionClasses&&e.positionChanges.subscribe(i=>{let n=i.connectionPair.overlayX==="start"?"after":"before",s=i.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(n,s)):t.setPositionClasses(n,s)})}_setPosition(t,e){let[i,n]=t.xPosition==="before"?["end","start"]:["start","end"],[s,r]=t.yPosition==="above"?["bottom","top"]:["top","bottom"],[m,f]=[s,r],[u,M]=[i,n],b=0;if(this.triggersSubmenu()){if(M=i=t.xPosition==="before"?"start":"end",n=u=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let E=this._parentMaterialMenu.items.first;this._parentInnerPadding=E?E._getHostElement().offsetTop:0}b=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(m=s==="top"?"bottom":"top",f=r==="top"?"bottom":"top");e.withPositions([{originX:i,originY:m,overlayX:u,overlayY:s,offsetY:b},{originX:n,originY:m,overlayX:M,overlayY:s,offsetY:b},{originX:i,originY:f,overlayX:u,overlayY:r,offsetY:-b},{originX:n,originY:f,overlayX:M,overlayY:r,offsetY:-b}])}_menuClosingActions(){let t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:ft(),n=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(P(s=>s!==this._menuItemInstance),P(()=>this._menuOpen)):ft();return et(t,i,n,e)}_handleMousedown(t){Qe(t)||(this._openedBy=t.button===0?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){let e=t.keyCode;(e===13||e===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(e===39&&this.dir==="ltr"||e===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(P(t=>t===this._menuItemInstance&&!t.disabled),ge(0,pe)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof se&&this.menu._isAnimating?this.menu._animationDone.pipe(W(1),ge(0,pe),Pt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Ht(t.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(e){return new(e||a)(l(C),l(O),l(Fe),l(ri),l(Oe,8),l(Ae,10),l(wt,8),l(J),l(U))}}static{this.\u0275dir=F({type:a,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(e,i){e&1&&w("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),e&2&&D("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}}return a})(),ja=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=R({type:a})}static{this.\u0275inj=L({providers:[Ni],imports:[G,Ut,T,gt,ti,T]})}}return a})();var li=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=R({type:a})}static{this.\u0275inj=L({imports:[T,T]})}}return a})();var Za=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=R({type:a})}static{this.\u0275inj=L({imports:[Ve,G,T,Ut,qe,li]})}}return a})();function zi(a,o){}var tt=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Se=(()=>{class a extends Ke{constructor(t,e,i,n,s,r,m,f){super(),this._elementRef=t,this._focusTrapFactory=e,this._config=n,this._interactivityChecker=s,this._ngZone=r,this._overlayRef=m,this._focusMonitor=f,this._platform=I($e),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=I(Y),this._injector=I(A),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();let M=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),M},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let e=this._ariaLabelledByQueue.indexOf(t);e>-1&&(this._ariaLabelledByQueue.splice(e,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),e}attachTemplatePortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),e}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,e){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(e)}_focusByCssSelector(t,e){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,e)}_trapFocus(){this._isDestroyed||Rt(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let t=this._config.restoreFocus,e=null;if(typeof t=="string"?e=this._document.querySelector(t):typeof t=="boolean"?e=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(e=t),this._config.restoreFocus&&e&&typeof e.focus=="function"){let i=zt(),n=this._elementRef.nativeElement;(!i||i===this._document.body||i===n||n.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,e=zt();return t===e||t.contains(e)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=zt()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(e){return new(e||a)(l(O),l($t),l(ct,8),l(tt),l(Bt),l(U),l(pt),l(J))}}static{this.\u0275cmp=y({type:a,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(e&1&&xt(Ct,7),e&2){let n;H(n=Q())&&(i._portalOutlet=n.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){e&2&&D("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[X,x],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){e&1&&V(0,zi,0,0,"ng-template",0)},dependencies:[Ct],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return a})(),It=class{constructor(o,t){this.overlayRef=o,this.config=t,this.closed=new v,this.disableClose=t.disableClose,this.backdropClick=o.backdropClick(),this.keydownEvents=o.keydownEvents(),this.outsidePointerEvents=o.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!dt(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=o.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(o,t){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(o),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(o="",t=""){return this.overlayRef.updateSize({width:o,height:t}),this}addPanelClass(o){return this.overlayRef.addPanelClass(o),this}removePanelClass(o){return this.overlayRef.removePanelClass(o),this}},Bi=new k("DialogScrollStrategy",{providedIn:"root",factory:()=>{let a=I(C);return()=>a.scrollStrategies.block()}}),$i=new k("DialogData"),Ui=new k("DefaultDialogConfig");var Vi=0,Ee=(()=>{class a{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,e,i,n,s,r){this._overlay=t,this._injector=e,this._defaultOptions=i,this._parentDialog=n,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new v,this._afterOpenedAtThisLevel=new v,this._ariaHiddenElements=new Map,this.afterAllClosed=Et(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(B(void 0))),this._scrollStrategy=r}open(t,e){let i=this._defaultOptions||new tt;e=g(g({},i),e),e.id=e.id||`cdk-dialog-${Vi++}`,e.id&&this.getDialogById(e.id);let n=this._getOverlayConfig(e),s=this._overlay.create(n),r=new It(s,e),m=this._attachContainer(s,r,e);return r.containerInstance=m,this._attachDialogContent(t,r,m,e),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.closed.subscribe(()=>this._removeOpenDialog(r,!0)),this.afterOpened.next(r),r}closeAll(){Te(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){Te(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),Te(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let e=new Gt({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachContainer(t,e,i){let n=i.injector||i.viewContainerRef?.injector,s=[{provide:tt,useValue:i},{provide:It,useValue:e},{provide:pt,useValue:t}],r;i.container?typeof i.container=="function"?r=i.container:(r=i.container.type,s.push(...i.container.providers(i))):r=Se;let m=new Me(r,i.viewContainerRef,A.create({parent:n||this._injector,providers:s}),i.componentFactoryResolver);return t.attach(m).instance}_attachDialogContent(t,e,i,n){if(t instanceof bt){let s=this._createInjector(n,e,i,void 0),r={$implicit:n.data,dialogRef:e};n.templateContext&&(r=g(g({},r),typeof n.templateContext=="function"?n.templateContext():n.templateContext)),i.attachTemplatePortal(new Ht(t,null,r,s))}else{let s=this._createInjector(n,e,i,this._injector),r=i.attachComponentPortal(new Me(t,n.viewContainerRef,s,n.componentFactoryResolver));e.componentRef=r,e.componentInstance=r.instance}}_createInjector(t,e,i,n){let s=t.injector||t.viewContainerRef?.injector,r=[{provide:$i,useValue:t.data},{provide:It,useValue:e}];return t.providers&&(typeof t.providers=="function"?r.push(...t.providers(e,t,i)):r.push(...t.providers)),t.direction&&(!s||!s.get(wt,null,{optional:!0}))&&r.push({provide:wt,useValue:{value:t.direction,change:ft()}}),A.create({parent:s||n,providers:r})}_removeOpenDialog(t,e){let i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((n,s)=>{n?s.setAttribute("aria-hidden",n):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),e&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let e=t.parentElement.children;for(let i=e.length-1;i>-1;i--){let n=e[i];n!==t&&n.nodeName!=="SCRIPT"&&n.nodeName!=="STYLE"&&!n.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(e){return new(e||a)(p(C),p(A),p(Ui,8),p(a,12),p(Wt),p(Bi))}}static{this.\u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Te(a,o){let t=a.length;for(;t--;)o(a[t])}var ci=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=R({type:a})}static{this.\u0275inj=L({providers:[Ee],imports:[gt,Mt,Ge,Mt]})}}return a})();function Hi(a,o){}var At=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Pe="mdc-dialog--open",di="mdc-dialog--opening",mi="mdc-dialog--closing",Qi=150,Yi=75,Gi=(()=>{class a extends Se{constructor(t,e,i,n,s,r,m,f,u){super(t,e,i,n,s,r,m,u),this._animationMode=f,this._animationStateChanged=new nt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?pi(this._config.enterAnimationDuration)??Qi:0,this._exitAnimationDuration=this._animationsEnabled?pi(this._config.exitAnimationDuration)??Yi:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(hi,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(di,Pe)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Pe),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Pe),this._animationsEnabled?(this._hostElement.style.setProperty(hi,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(mi)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(di,mi)}_waitForAnimationToComplete(t,e){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(e,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let e=super.attachComponentPortal(t);return e.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),e}static{this.\u0275fac=function(e){return new(e||a)(l(O),l($t),l(ct,8),l(At),l(Bt),l(U),l(pt),l(be,8),l(J))}}static{this.\u0275cmp=y({type:a,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(e,i){e&2&&(ke("id",i._config.id),D("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Z("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[X,x],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1),V(2,Hi,0,0,"ng-template",2),d()())},dependencies:[Ct],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}}return a})(),hi="--mat-dialog-transition-duration";function pi(a){return a==null?null:typeof a=="number"?a:a.endsWith("ms")?Ce(a.substring(0,a.length-2)):a.endsWith("s")?Ce(a.substring(0,a.length-1))*1e3:a==="0"?0:null}var le=function(a){return a[a.OPEN=0]="OPEN",a[a.CLOSING=1]="CLOSING",a[a.CLOSED=2]="CLOSED",a}(le||{}),S=class{constructor(o,t,e){this._ref=o,this._containerInstance=e,this._afterOpened=new v,this._beforeClosed=new v,this._state=le.OPEN,this.disableClose=t.disableClose,this.id=o.id,o.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(P(i=>i.state==="opened"),W(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(P(i=>i.state==="closed"),W(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),et(this.backdropClick(),this.keydownEvents().pipe(P(i=>i.keyCode===27&&!this.disableClose&&!dt(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),gi(this,i.type==="keydown"?"keyboard":"mouse"))})}close(o){this._result=o,this._containerInstance._animationStateChanged.pipe(P(t=>t.state==="closing"),W(1)).subscribe(t=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=le.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(o){let t=this._ref.config.positionStrategy;return o&&(o.left||o.right)?o.left?t.left(o.left):t.right(o.right):t.centerHorizontally(),o&&(o.top||o.bottom)?o.top?t.top(o.top):t.bottom(o.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(o="",t=""){return this._ref.updateSize(o,t),this}addPanelClass(o){return this._ref.addPanelClass(o),this}removePanelClass(o){return this._ref.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=le.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function gi(a,o,t){return a._closeInteractionType=o,a.close(t)}var Ot=new k("MatMdcDialogData"),Wi=new k("mat-mdc-dialog-default-options"),qi=new k("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let a=I(C);return()=>a.scrollStrategies.block()}});var Xi=0,Le=(()=>{class a{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,e,i,n,s,r,m,f){this._overlay=t,this._defaultOptions=n,this._scrollStrategy=s,this._parentDialog=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new v,this._afterOpenedAtThisLevel=new v,this.dialogConfigClass=At,this.afterAllClosed=Et(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(B(void 0))),this._dialog=e.get(Ee),this._dialogRefConstructor=S,this._dialogContainerType=Gi,this._dialogDataToken=Ot}open(t,e){let i;e=g(g({},this._defaultOptions||new At),e),e.id=e.id||`mat-mdc-dialog-${Xi++}`,e.scrollStrategy=e.scrollStrategy||this._scrollStrategy();let n=this._dialog.open(t,j(g({},e),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:e},{provide:tt,useValue:e}]},templateContext:()=>({dialogRef:i}),providers:(s,r,m)=>(i=new this._dialogRefConstructor(s,e,m),i.updatePosition(e?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:r.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=n.componentRef,i.componentInstance=n.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}static{this.\u0275fac=function(e){return new(e||a)(p(C),p(A),p(Be,8),p(Wi,8),p(qi),p(a,12),p(Wt),p(be,8))}}static{this.\u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Zi=0,ui=(()=>{class a{constructor(t,e,i){this.dialogRef=t,this._elementRef=e,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=_i(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){let e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){gi(this.dialogRef,t.screenX===0&&t.screenY===0?"keyboard":"mouse",this.dialogResult)}static{this.\u0275fac=function(e){return new(e||a)(l(S,8),l(O),l(Le))}}static{this.\u0275dir=F({type:a,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){e&1&&w("click",function(s){return i._onButtonClick(s)}),e&2&&D("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[fe]})}}return a})(),fi=(()=>{class a{constructor(t,e,i){this._dialogRef=t,this._elementRef=e,this._dialog=i}ngOnInit(){this._dialogRef||(this._dialogRef=_i(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static{this.\u0275fac=function(e){return new(e||a)(l(S,8),l(O),l(Le))}}static{this.\u0275dir=F({type:a,standalone:!0})}}return a})(),ce=(()=>{class a extends fi{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${Zi++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(a)))(i||a)}})()}static{this.\u0275dir=F({type:a,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){e&2&&ke("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[X]})}}return a})(),de=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275dir=F({type:a,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[Ne([Je])]})}}return a})(),me=(()=>{class a extends fi{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Lt(a)))(i||a)}})()}static{this.\u0275dir=F({type:a,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(e,i){e&2&&Z("mat-mdc-dialog-actions-align-start",i.align==="start")("mat-mdc-dialog-actions-align-center",i.align==="center")("mat-mdc-dialog-actions-align-end",i.align==="end")},inputs:{align:"align"},standalone:!0,features:[X]})}}return a})();function _i(a,o){let t=a.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?o.find(e=>e.id===t.id):null}var ut=(()=>{class a{static{this.\u0275fac=function(e){return new(e||a)}}static{this.\u0275mod=R({type:a})}static{this.\u0275inj=L({providers:[Le],imports:[ci,gt,Mt,T,T]})}}return a})();var bi=class a{constructor(o){this.dialogRef=o}projectName="";projectDescription="";onCancel(){this.dialogRef.close()}onSubmit(){this.projectName&&this.dialogRef.close({name:this.projectName,description:this.projectDescription})}static \u0275fac=function(t){return new(t||a)(l(S))};static \u0275cmp=y({type:a,selectors:[["app-create-project-dialog"]],standalone:!0,features:[x],decls:17,vars:3,consts:[[1,"create-project-dialog","p-6","bg-white","dark:bg-gray-800"],["mat-dialog-title","",1,"text-2xl","font-semibold","text-gray-800","dark:text-gray-300","mb-6"],[1,"space-y-4"],["appearance","fill",1,"w-full"],[1,"dark:text-gray-300"],["matInput","","required","","placeholder","Enter project name",1,"w-full","dark:text-gray-100",3,"ngModelChange","ngModel"],["matInput","","rows","4","placeholder","Enter project description",1,"w-full","dark:text-gray-100",3,"ngModelChange","ngModel"],[1,"flex","justify-end","space-x-3","mt-6"],["mat-button","",1,"text-gray-600","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700",3,"click"],["mat-raised-button","","color","primary",1,"bg-blue-600","dark:bg-blue-500","text-white","hover:bg-blue-700","dark:hover:bg-blue-600",3,"click","disabled"]],template:function(t,e){t&1&&(c(0,"div",0)(1,"h2",1),h(2,"Create New Project"),d(),c(3,"mat-dialog-content",2)(4,"mat-form-field",3)(5,"mat-label",4),h(6,"Project Name"),d(),c(7,"input",5),lt("ngModelChange",function(n){return rt(e.projectName,n)||(e.projectName=n),n}),d()(),c(8,"mat-form-field",3)(9,"mat-label",4),h(10,"Description"),d(),c(11,"textarea",6),lt("ngModelChange",function(n){return rt(e.projectDescription,n)||(e.projectDescription=n),n}),d()()(),c(12,"mat-dialog-actions",7)(13,"button",8),w("click",function(){return e.onCancel()}),h(14," Cancel "),d(),c(15,"button",9),w("click",function(){return e.onSubmit()}),h(16," Create "),d()()()),t&2&&(_(7),st("ngModel",e.projectName),_(4),st("ngModel",e.projectDescription),_(4),N("disabled",!e.projectName))},dependencies:[Jt,qt,Xt,Kt,Zt,ae,ie,ee,oe,ne,mt,Vt,ut,ce,me,de],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:500px}  .mat-form-field{width:100%}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#f3f4f6;border-radius:.375rem}  .mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:transparent}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{background-color:#f0f4ff}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-label{color:#3b82f6}  .mat-form-field-appearance-fill .mat-form-field-flex{padding:.75em .75em 0}.mat-dialog-actions[_ngcontent-%COMP%]{margin-bottom:0;padding:8px 0}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#3b82f6}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}button.mat-raised-button[disabled][_ngcontent-%COMP%]{background-color:#3b82f680}.dark[_nghost-%COMP%]     .mat-mdc-dialog-container, .dark   [_nghost-%COMP%]     .mat-mdc-dialog-container{--mdc-dialog-subhead-color: #e5e7eb;--mdc-dialog-supporting-text-color: #d1d5db;--mdc-dialog-container-color: #1f2937}.dark[_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex, .dark   [_nghost-%COMP%]     .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#374151}.dark[_nghost-%COMP%]     .mat-form-field-infix input, .dark   [_nghost-%COMP%]     .mat-form-field-infix input, .dark[_nghost-%COMP%]     .mat-form-field-infix textarea, .dark   [_nghost-%COMP%]     .mat-form-field-infix textarea{color:#e5e7eb!important}.dark[_nghost-%COMP%]     .mat-form-field-label, .dark   [_nghost-%COMP%]     .mat-form-field-label{color:#9ca3af!important}.dark[_nghost-%COMP%]     .mat-focused .mat-form-field-label, .dark   [_nghost-%COMP%]     .mat-focused .mat-form-field-label{color:#60a5fa!important}.dark[_nghost-%COMP%]     .mat-form-field-empty.mat-form-field-label, .dark   [_nghost-%COMP%]     .mat-form-field-empty.mat-form-field-label, .dark[_nghost-%COMP%]     input::placeholder, .dark   [_nghost-%COMP%]     input::placeholder, .dark[_nghost-%COMP%]     textarea::placeholder, .dark   [_nghost-%COMP%]     textarea::placeholder{color:#6b7280!important}.dark[_nghost-%COMP%]     .mat-focused input::placeholder, .dark   [_nghost-%COMP%]     .mat-focused input::placeholder, .dark[_nghost-%COMP%]     .mat-focused textarea::placeholder, .dark   [_nghost-%COMP%]     .mat-focused textarea::placeholder{color:#9ca3af!important}"]})};var he=class a{constructor(o){this.http=o}apiUrl=`${te.apiUrl}/api/notifications`;notificationSubject=new v;notifications$=this.notificationSubject.asObservable();getNotifications(o=1,t=5){return this.http.get(`${this.apiUrl}/user?page=${o}&limit=${t}`)}markAsRead(o){return this.http.put(`${this.apiUrl}/${o}/read`,{})}markAllAsRead(){return this.http.put(`${this.apiUrl}/read-all`,{})}deleteNotification(o){return this.http.delete(`${this.apiUrl}/${o}`)}emitNewNotification(o){this.notificationSubject.next(o)}createNotificationForMembers(o,t){return this.http.post(`${this.apiUrl}/bulk`,j(g({},o),{recipients:t}))}static \u0275fac=function(t){return new(t||a)(p(Nt))};static \u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})};var yi=class a{constructor(o,t){this.http=o;this.notificationService=t}apiUrl=`${te.apiUrl}/api/projects`;getProjects(){return this.http.get(this.apiUrl)}getUserProjects(){return this.http.get(`${this.apiUrl}`)}getProjectDetails(o){return this.http.get(`${this.apiUrl}/${o}`)}createProject(o){return this.http.post(`${this.apiUrl}/create`,o)}updateProject(o,t){return this.http.put(`${this.apiUrl}/${o}`,t).pipe(St(e=>{Array.isArray(e.members)&&(e.members=e.members.map(s=>typeof s=="string"?{_id:s,username:"Unknown"}:s));let i={type:"project_update",title:"Project Updated",message:`Project "${e.name}" has been updated with new ${t.description?"description":"details"}`,projectId:o,read:!1,createdAt:new Date},n=e.members.map(s=>s._id).filter(s=>typeof s=="string");return n.length>0&&this.notificationService.createNotificationForMembers(i,n).subscribe(),e}))}addMemberToProject(o,t){return this.http.post(`${this.apiUrl}/${o}/members`,{username:t}).pipe(St(e=>{e.members=e.members.map(n=>typeof n=="object"&&n!==null?{_id:n._id,username:n.username||"Unknown"}:typeof n=="string"?{_id:n,username:"Unknown"}:{_id:"unknown",username:"Unknown"});let i={type:"project_update",title:"New Project Member",message:`${t} has been added to the project`,projectId:o,read:!1,createdAt:new Date};return this.notificationService.emitNewNotification(i),e}))}removeMemberFromProject(o,t){return this.http.delete(`${this.apiUrl}/${o}/members/${t}`).pipe(q(()=>{this.getProjectDetails(o).subscribe()}))}createTask(o,t){return this.http.post(`${this.apiUrl}/${o}/tasks`,t).pipe(q(e=>{this.getProjectDetails(o).subscribe(i=>{let n=i.members.map(r=>r._id),s={type:"project_update",title:"New Task Created",message:`A new task "${t.title}" has been created`,projectId:o,taskId:e._id,read:!1,createdAt:new Date};this.notificationService.createNotificationForMembers(s,n).subscribe()})}))}updateTaskStatus(o,t,e){return this.http.put(`${this.apiUrl}/${o}/tasks/${t}`,{status:e}).pipe(q(i=>{this.getProjectDetails(o).subscribe(n=>{let s=localStorage.getItem("userId"),r=localStorage.getItem("username"),m=this.getStatusChangeMessage(e),f={type:"task_modified",title:"Task Status Updated",message:`${r} ${m} task "${i.title}" in project "${n.name}"`,projectId:o,taskId:t,read:!1,createdAt:new Date},u=i.assignedTo.map(b=>typeof b=="object"?b._id:b).filter(b=>typeof b=="string"&&b!==s);n.createdBy._id!==s&&u.push(n.createdBy._id);let M=[...new Set(u)];M.length>0&&this.notificationService.createNotificationForMembers(f,M).subscribe()})}))}getStatusChangeMessage(o){switch(o.toLowerCase()){case"in progress":return"started working on";case"done":return"completed";case"stuck":return"marked as stuck";case"not started":return"reset the status of";default:return"updated the status of"}}getTaskDetails(o,t){return this.http.get(`${this.apiUrl}/${o}/tasks/${t}`)}deleteProject(o){return this.http.delete(`${this.apiUrl}/${o}`)}getAssignedTasks(){return this.http.get(`${this.apiUrl}/assigned-tasks`)}searchProjectsAndTasks(o){return this.http.get(`${this.apiUrl}/search?term=${o}`)}deleteTask(o,t){return this.http.delete(`${this.apiUrl}/${o}/tasks/${t}`)}updateTask(o,t,e){let i=j(g({},e),{assignedTo:e.assignedTo.map(n=>typeof n=="object"?n._id:n)});return this.http.put(`${this.apiUrl}/${o}/tasks/${t}`,i).pipe(St(n=>j(g({},n),{assignedTo:n.assignedTo.map(s=>({_id:s._id,username:s.username||"Unknown"}))})),q(n=>{this.getProjectDetails(o).subscribe(s=>{let r=localStorage.getItem("userId"),m={type:"project_update",title:"Task Modified",message:`${localStorage.getItem("username")} modified task "${n.title}" in your project "${s.name}"`,projectId:o,taskId:t,userId:s.createdBy._id,read:!1,createdAt:new Date};r!==s.createdBy._id&&this.notificationService.createNotificationForMembers(m,[s.createdBy._id]).subscribe()})}))}getAllUsers(){return this.http.get(`${this.apiUrl}/users`)}getTaskActivityLog(o,t,e=1){return this.http.get(`${this.apiUrl}/${o}/tasks/${t}/activity?page=${e}`)}getProjectActivityLog(o,t=1,e=5){return this.http.get(`${this.apiUrl}/${o}/activity?page=${t}&pageSize=${e}`)}getTaskComments(o,t){return this.http.get(`${this.apiUrl}/${o}/tasks/${t}/comments`)}addTaskComment(o,t,e){return this.http.post(`${this.apiUrl}/${o}/tasks/${t}/comments`,e).pipe(q(i=>{this.getProjectDetails(o).subscribe(n=>{this.getTaskDetails(o,t).subscribe(s=>{let r=localStorage.getItem("userId"),f={type:"mention",title:"New Comment",message:`${localStorage.getItem("username")} commented on task "${s.title}" in project "${n.name}": "${e.content.substring(0,50)}${e.content.length>50?"...":""}"`,projectId:o,taskId:t,userId:n.createdBy._id,read:!1,createdAt:new Date},u=[];r!==n.createdBy._id&&u.push(n.createdBy._id);let M=s.assignedTo.map(E=>typeof E=="object"?E._id:E).filter(E=>typeof E=="string"&&E!==r&&E!==n.createdBy._id);u.push(...M);let b=[...new Set(u)];b.length>0&&this.notificationService.createNotificationForMembers(f,b).subscribe()})})}))}updateTaskComment(o,t,e,i){return this.http.put(`${this.apiUrl}/${o}/tasks/${t}/comments/${e}`,i)}deleteTaskComment(o,t,e){return this.http.delete(`${this.apiUrl}/${o}/tasks/${t}/comments/${e}`)}getProjectMembers(o){return this.http.get(`${this.apiUrl}/projects/${o}/members`)}assignTask(o,t,e){return this.http.post(`${this.apiUrl}/${o}/tasks/${t}/assign`,{userId:e}).pipe(q(i=>{this.getProjectDetails(o).subscribe(n=>{let s=localStorage.getItem("userId"),r=localStorage.getItem("username"),m={type:"task_assignment",title:"New Task Assignment",message:`You have been assigned to task "${i.task.title}" in project "${n.name}"`,projectId:o,taskId:t,read:!1,createdAt:new Date},f={type:"task_modified",title:"Task Assignment Updated",message:`${r} assigned task "${i.task.title}" to ${i.task.assignedTo.map(u=>u.username).join(", ")}`,projectId:o,taskId:t,read:!1,createdAt:new Date};this.notificationService.createNotificationForMembers(m,[e]).subscribe(),n.createdBy._id!==s&&this.notificationService.createNotificationForMembers(f,[n.createdBy._id]).subscribe()})}))}toggleCommentReaction(o,t,e,i){return this.http.post(`${this.apiUrl}/projects/${o}/tasks/${t}/comments/${e}/reactions`,{type:i})}getRecentProjects(){return this.http.get(`${this.apiUrl}/recent`)}static \u0275fac=function(t){return new(t||a)(p(Nt),p(he))};static \u0275prov=$({token:a,factory:a.\u0275fac,providedIn:"root"})};var xi=class a{constructor(o,t){this.dialogRef=o;this.data=t;this.editedProject=g({},t)}editedProject;onCancel(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.editedProject)}static \u0275fac=function(t){return new(t||a)(l(S),l(Ot))};static \u0275cmp=y({type:a,selectors:[["app-edit-project-dialog"]],standalone:!0,features:[x],decls:27,vars:2,consts:[[1,"edit-project-dialog","w-full","max-w-md","md:max-w-lg","lg:max-w-xl","xl:max-w-2xl","bg-white","dark:bg-gray-800"],["mat-dialog-title","",1,"dialog-title","text-2xl","md:text-3xl","font-semibold","mb-6","text-indigo-700","dark:text-indigo-400","text-center"],["mat-dialog-content","",1,"dialog-content","space-y-5"],["appearance","fill",1,"w-full","dark:text-gray-200"],[1,"dark:text-gray-300"],["matInput","","required","","placeholder","Enter project name",1,"dark:text-gray-200",3,"ngModelChange","ngModel"],["matSuffix","",1,"dark:text-gray-400"],["matInput","","rows","4","placeholder","Enter project description",1,"dark:text-gray-200",3,"ngModelChange","ngModel"],["mat-dialog-actions","",1,"dialog-actions","flex","justify-end","items-center","space-x-2","mt-6"],["mat-stroked-button","","color","warn",1,"action-button","dark:text-red-400","dark:border-red-400","dark:hover:bg-red-900",3,"click"],[1,"text-sm"],[1,"ml-1"],["mat-raised-button","","color","primary",1,"action-button","dark:bg-blue-600","dark:text-white","dark:hover:bg-blue-700",3,"click"]],template:function(t,e){t&1&&(c(0,"div",0)(1,"h1",1),h(2," Edit Project "),d(),c(3,"div",2)(4,"mat-form-field",3)(5,"mat-label",4),h(6,"Project Name"),d(),c(7,"input",5),lt("ngModelChange",function(n){return rt(e.editedProject.name,n)||(e.editedProject.name=n),n}),d(),c(8,"mat-icon",6),h(9,"edit"),d()(),c(10,"mat-form-field",3)(11,"mat-label",4),h(12,"Project Description"),d(),c(13,"textarea",7),lt("ngModelChange",function(n){return rt(e.editedProject.description,n)||(e.editedProject.description=n),n}),d(),c(14,"mat-icon",6),h(15,"description"),d()()(),c(16,"div",8)(17,"button",9),w("click",function(){return e.onCancel()}),c(18,"mat-icon",10),h(19,"cancel"),d(),c(20,"span",11),h(21,"Cancel"),d()(),c(22,"button",12),w("click",function(){return e.onSave()}),c(23,"mat-icon",10),h(24,"save"),d(),c(25,"span",11),h(26,"Save"),d()()()()),t&2&&(_(7),st("ngModel",e.editedProject.name),_(6),st("ngModel",e.editedProject.description))},dependencies:[G,ut,ce,me,de,mt,Vt,ae,ie,ee,ei,oe,ne,Ze,Xe,Jt,qt,Xt,Kt,Zt],styles:[".mat-form-field-appearance-fill .mat-form-field-flex{background-color:#f0f4ff;border-radius:.5rem;padding:.75em .75em 0}  .mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-label{color:#3f51b5}  .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{background-color:#e8eeff}.action-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.5rem 1rem;font-size:.875rem;line-height:1.25rem}button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}button.mat-stroked-button.mat-warn[_ngcontent-%COMP%]{color:#f44336;border-color:#f44336}:is()   .mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{background-color:#1f2937}:is()   .mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]:before{background-color:#4b5563}:is()   .mat-form-field-appearance-fill.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:#60a5fa}:is()   .mat-form-field-appearance-fill.mat-focused[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{background-color:#374151}:is()   :is(input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]){color:#d1d5db}:is()   .mat-form-field-label[_ngcontent-%COMP%]{color:#9ca3af}:is()   .dialog-title[_ngcontent-%COMP%]{color:#60a5fa}:is()   .action-button.mat-stroked-button.mat-warn[_ngcontent-%COMP%]{color:#f87171;border-color:#f87171}:is()   .action-button.mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}"]})};var ki=class a{constructor(o,t){this.dialogRef=o;this.data=t}static \u0275fac=function(t){return new(t||a)(l(S),l(Ot))};static \u0275cmp=y({type:a,selectors:[["app-confirm-dialog"]],standalone:!0,features:[x],decls:20,vars:5,consts:[[1,"bg-white","rounded-lg","overflow-hidden","shadow-xl","transform","transition-all","sm:max-w-lg","sm:w-full"],[1,"bg-gray-50","px-4","py-3"],[1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mx-auto","flex-shrink-0","flex","items-center","justify-center","h-12","w-12","rounded-full","bg-red-100","sm:mx-0","sm:h-10","sm:w-10"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left"],[1,"mt-2"],[1,"text-sm","text-gray-500"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button",1,"w-full","inline-flex","justify-center","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","bg-red-600","text-base","font-medium","text-white","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","sm:ml-3","sm:w-auto","sm:text-sm",3,"mat-dialog-close"],["type","button",1,"mt-3","w-full","inline-flex","justify-center","rounded-md","border","border-gray-300","shadow-sm","px-4","py-2","bg-white","text-base","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500","sm:mt-0","sm:ml-3","sm:w-auto","sm:text-sm",3,"mat-dialog-close"]],template:function(t,e){t&1&&(c(0,"div",0)(1,"div",1)(2,"h3",2),h(3),d()(),c(4,"div",3)(5,"div",4)(6,"div",5),_t(),c(7,"svg",6),ot(8,"path",7),d()(),_e(),c(9,"div",8)(10,"h3",2),h(11),d(),c(12,"div",9)(13,"p",10),h(14),d()()()()(),c(15,"div",11)(16,"button",12),h(17," Confirm "),d(),c(18,"button",13),h(19," Cancel "),d()()()),t&2&&(_(3),Ft(e.data.title),_(8),Ft(e.data.title),_(3),Ft(e.data.message),_(2),N("mat-dialog-close",!0),_(2),N("mat-dialog-close",!1))},dependencies:[G,mt,ut,ui],encapsulation:2})};export{Ae as a,se as b,Ra as c,ja as d,he as e,Za as f,S as g,Ot as h,Le as i,ce as j,de as k,me as l,ut as m,bi as n,yi as o,xi as p,ki as q};
